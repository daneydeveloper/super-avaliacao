var com,ZIPCodeTimeZoneGBL;if(com){if(typeof com!="object")throw new Error("com already exists and is not an object");}else com={};if(com.site){if(typeof com.site!="object")throw new Error("com.site already exists and is not an object");}else com.site={};if(com.site.Login){if(typeof com.site.Login!="object")throw new Error("com.site.Login already exists and is not an object");}else com.site.Login={};if(com.site.Login.loginQuestionProperty=[{name:"loginEmailInput",isVisible:!0,answer:"",errorText:"email address",setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer}},{name:"loginPasswordInput",isVisible:!0,answer:"",errorText:"password",setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer}}],com.site.Login.LoginControl=function(n){this.postEnableButton=n.postEnableButton;this.postDisableButton=n.postDisableButton;this.postClickEnableButton=n.postClickEnableButton;this.postClickDisableButton=n.postClickDisableButton;this.LQId=com.site.Login.loginQuestionProperty;this.AttachLoginEvents();this.MIN_PASSWORD_LENGTH=6;this.ErrorMessageText="";this.PreviousErrorMessageTextFilled=!1},com.site.Login.LoginControl.prototype={getInputIndexFromName:function(n){for(var t=0;t<this.LQId.length;t++)if(this.LQId[t].name==n)return t;return null},getInputValue:function(n){var t=this.getInputIndexFromName(n);return this.LQId[t].getAnswer()},loginButtonAction:function(){this.validateInput("loginEmailInput",!1);this.validateInput("loginPasswordInput",!1);this.IsAllAnsweredSet()===!0?this.postClickEnableButton():(this.ErrorMessageText="",this.PreviousErrorMessageTextFilled=!1,this.highLightError(),this.postClickDisableButton())},highLightError:function(){this.validateInput("loginEmailInput",!0,!0);this.validateInput("loginPasswordInput",!0,!0)},hideCustomErrorAlert:function(){$("#loginErrorMsg .errorMessageText").html("");$("#loginErrorMsg").hide()},IsAllAnsweredSet:function(){for(var t,n=0;n<this.LQId.length;n++)if(t=this.LQId[n],t.isVisible&&t.answer=="")return n;return!0},validateInput:function(n,t,i){var r=this.getInputIndexFromName(n),u=$.trim($("#"+n).val());if(com.site.Util.isBlank(n))return this.LQId[r].setAnswer(""),i||(com.site.Util.removeErrorStateToInput(n,!0),this.hideCustomErrorAlert()),t&&(com.site.Util.addErrorStateToInput(n,!0),(this.ErrorMessageText==""||this.PreviousErrorMessageTextFilled)&&(this.ErrorMessageText=this.ErrorMessageText!=""?this.ErrorMessageText.replace(".",",")+" "+this.LQId[r].errorText+".":"Enter valid "+this.LQId[r].errorText+".",this.PreviousErrorMessageTextFilled=!0)),!1;switch(n){case"loginEmailInput":if(!com.site.Util.isValidEmail(u))return this.LQId[r].setAnswer(""),(i||t)&&(com.site.Util.addErrorStateToInput(n,!0),this.ErrorMessageText==""?this.ErrorMessageText="Enter valid email address.":""),!1;break;case"loginPasswordInput":if(!com.site.Util.checkForValidPassword(u))return this.LQId[r].setAnswer(""),com.site.Util.addErrorStateToInput(n,!0),this.ErrorMessageText==""?this.ErrorMessageText="Invalid password character.":"",!1;if(u.length<this.MIN_PASSWORD_LENGTH)return this.LQId[r].setAnswer(""),(i||t)&&(com.site.Util.addErrorStateToInput(n,!0),this.ErrorMessageText==""?this.ErrorMessageText="Passwords must be six or more characters.":""),!1}return this.LQId[r].setAnswer($.trim($("#"+n).val())),com.site.Util.addSuccessStateToInput(n,!0),!0},enableButton:function(){this.postEnableButton()},disableButton:function(){this.postDisableButton()},checkAllAnswerSet:function(){if(this.IsAllAnsweredSet()===!0){this.enableButton();return}this.disableButton()},resetAllInput:function(){$("#loginEmailInput, #loginPasswordInput").val("");com.site.Util.resetInputState("loginEmailInput",!0);com.site.Util.resetInputState("loginPasswordInput",!0);this.validateInput("loginEmailInput",!1,!1);this.validateInput("loginPasswordInput",!1,!1);this.checkAllAnswerSet()},scrollTopInCharome:function(n){jQuery.browser.mobile&&!com.site.Util.isiPhone()&&$(".modal-scrollable").animate({scrollTop:$(n).position().top-50})},AttachLoginEvents:function(){var n=this;n.resetAllInput();$("#loginEmailInput, #loginPasswordInput").bind({blur:function(){var t=this;setTimeout(function(){var i=t.id=="loginEmailInput"||t.id=="loginPasswordInput"?!0:!1;n.validateInput(t.id,!1,i);n.checkAllAnswerSet()},150,t)},keyup:function(){com.site.Util.removeErrorStateToInput(this.id,!0);n.checkAllAnswerSet();n.hideCustomErrorAlert()},keydown:function(t){var i=com.site.Util.getKeyCode(t),r=this;return setTimeout(function(){i==com.site.Config.ENTER_KEY_CODE&&(n.validateInput("loginEmailInput",!1,!1),n.validateInput("loginPasswordInput",!1,!1),$("#loginPasswordInput").blur(),n.IsAllAnsweredSet()===!0&&n.postClickEnableButton())},0,r,i),i==com.site.Config.ENTER_KEY_CODE?(t.stopPropagation(),t.preventDefault(),!1):void 0},paste:function(){var t=this;setTimeout(function(){com.site.Util.removeErrorStateToInput(this.id,!0);n.hideCustomErrorAlert();n.validateInput(t.id,!1,!1);n.checkAllAnswerSet()},50,t)},click:function(){n.scrollTopInCharome(this)}})}},com){if(typeof com!="object")throw new Error("com already exists and is not an object");}else com={};if(com.site){if(typeof com.site!="object")throw new Error("com.site already exists and is not an object");}else com.site={};if(com.site.ForgotPassword){if(typeof com.site.ForgotPassword!="object")throw new Error("com.site.ForgotPassword already exists and is not an object");}else com.site.ForgotPassword={};if(com.site.ForgotPassword.forgotPasswordQuestionProperty=[{name:"fpEmailInput",isVisible:!0,answer:"",setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer}}],com.site.ForgotPassword.ForgotPasswordControl=function(n){this.postEnableButton=n.postEnableButton;this.postDisableButton=n.postDisableButton;this.postClickEnableButton=n.postClickEnableButton;this.postClickDisableButton=n.postClickDisableButton;this.FPId=com.site.ForgotPassword.forgotPasswordQuestionProperty;this.AttachForgotPasswordEvents();this.ErrorMessageText=""},com.site.ForgotPassword.ForgotPasswordControl.prototype={getInputIndexFromName:function(n){for(var t=0;t<this.FPId.length;t++)if(this.FPId[t].name==n)return t;return null},getInputValue:function(n){var t=this.getInputIndexFromName(n);return this.FPId[t].getAnswer()},setInputValue:function(n,t){$("#fpEmailInput").val(t);this.validateInput(n,!1,!0);this.checkAllAnswerSet()},resetButtonAction:function(){this.validateInput("fpEmailInput",!1,!0);this.IsAllAnsweredSet()===!0?this.postClickEnableButton():(this.ErrorMessageText="",this.highLightError(),this.postClickDisableButton())},highLightError:function(){this.validateInput("fpEmailInput",!0,!0)},hideCustomErrorAlert:function(){$("#forgotPasswordErrorMsg .errorMessageText").html("");$("#forgotPasswordErrorMsg").hide()},IsAllAnsweredSet:function(){for(var t,n=0;n<this.FPId.length;n++)if(t=this.FPId[n],t.isVisible&&t.answer=="")return n;return!0},validateInput:function(n,t,i){var r=this.getInputIndexFromName(n),u=$.trim($("#"+n).val());return com.site.Util.isBlank(n)?(this.FPId[r].setAnswer(""),i||(com.site.Util.removeErrorStateToInput(n,!0),this.hideCustomErrorAlert()),t&&(com.site.Util.addErrorStateToInput(n,!0),this.ErrorMessageText="Enter a valid email address."),!1):com.site.Util.isValidEmail(u)?(this.FPId[r].setAnswer($.trim($("#"+n).val())),com.site.Util.addSuccessStateToInput(n,!0),!0):(this.FPId[r].setAnswer(""),(i||t)&&(com.site.Util.addErrorStateToInput(n,!0),this.ErrorMessageText==""?this.ErrorMessageText="Enter valid email address.":""),!1)},enableButton:function(){this.postEnableButton()},disableButton:function(){this.postDisableButton()},checkAllAnswerSet:function(){if(this.IsAllAnsweredSet()===!0){this.enableButton();return}this.disableButton()},resetAllInput:function(){$("#fpEmailInput").val("");com.site.Util.resetInputState("fpEmailInput",!0);this.validateInput("fpEmailInput",!1,!1);this.checkAllAnswerSet()},AttachForgotPasswordEvents:function(){var n=this,t=!1;n.resetAllInput();$("#fpEmailInput").bind({blur:function(){var t=this;setTimeout(function(){n.validateInput(t.id,!1,!0);n.checkAllAnswerSet()},150,t)},keyup:function(){com.site.Util.removeErrorStateToInput(this.id,!0);n.checkAllAnswerSet()},keydown:function(t){var i=com.site.Util.getKeyCode(t),r=this;setTimeout(function(){i==com.site.Config.ENTER_KEY_CODE&&(n.validateInput("fpEmailInput",!1,!1),n.IsAllAnsweredSet()===!0&&n.postClickEnableButton())},0,r,i)},paste:function(){var t=this;setTimeout(function(){com.site.Util.removeErrorStateToInput(this.id,!0);n.validateInput(t.id,!1,!1);n.checkAllAnswerSet()},50,t)}});$("#resetBtn").bind("touchstart touchend",function(){$(this).toggleClass("buttonTapClass")});t=!1;$("#resetBtn").on("click tap",function(){if(!t)return t=!0,com.site.ForgotPassword.fromModal=$(this).hasClass("forgotPasswordModalResetBtn")?!0:!1,setTimeout(function(){t=!1},100),n.resetButtonAction(),!1})}},com.site.ForgotPassword.postEnableButtonAction=function(){$("#slideError").fadeOut();$("#resetBtn").addClass("btn-success")},com.site.ForgotPassword.postDisableButtonAction=function(){$("#resetBtn").removeClass("btn-success")},com.site.ForgotPassword.postClickEnableButton=function(){com.site.ForgotPassword.requestForPasswordLink()},com.site.ForgotPassword.postClickDisableButton=function(){forgotPasswordPageObj.ErrorMessageText!=""&&($("#forgotPasswordErrorMsg .errorMessageText").html(forgotPasswordPageObj.ErrorMessageText),$("#forgotPasswordErrorMsg").show())},com.site.ForgotPassword.disableForgotPasswordButton=function(){$("#resetBtn").html("Sending...");$("#resetBtn").attr("disabled","disabled")},com.site.ForgotPassword.enableForgotPasswordButton=function(){$("#resetBtn").html("Submit");$("#resetBtn").removeAttr("disabled")},com.site.ForgotPassword.showResetPasswordPopUp=function(){infoPopUpModalObj.openModal({id:"forgotPasswordEmailSent"})},com.site.ForgotPassword.showEmailNotSentPopUp=function(){infoPopUpModalObj.openModal({id:"forgotPasswordEmailNotSent"})},com.site.ForgotPassword.setInfoPopUpSuccessButtonAction=function(n){var t=n.call(this);t.id=="forgotPasswordEmailSent"&&(com.site.ForgotPassword.fromModal?com.site.CreateAccountAndLogin.showLogin():window.open(com.site.Config.LogInLink,"_self",!1));t.id=="forgotPasswordEmailNotSent"&&com.site.ForgotPassword.requestForPasswordLink()},com.site.ForgotPassword.setInfoPopUpCancelButtonAction=function(n){var t=n.call(this);com.site.ForgotPassword.fromModal?com.site.CreateAccountAndLogin.showLogin():window.open(com.site.Config.LogInLink,"_self",!1)},com.site.ForgotPassword.requestForPasswordLink=function(){com.site.ForgotPassword.disableForgotPasswordButton();var n={};n.Email=forgotPasswordPageObj.getInputValue("fpEmailInput");com.site.DataService.sendForgotPasswordLink(n,com.site.ForgotPassword.requestForPasswordLinkCallback)},com.site.ForgotPassword.requestForPasswordLinkCallback=function(n){com.site.ForgotPassword.enableForgotPasswordButton();var t=n;t.Success==!0?com.site.ForgotPassword.showResetPasswordPopUp():com.site.ForgotPassword.performAction(t)},com.site.ForgotPassword.performAction=function(n){n.Action==1?com.site.ForgotPassword.showEmailNotSentPopUp():n.Action==3?(com.site.Util.addErrorStateToInput("fpEmailInput",!0),$(".errorMessageText").html("Enter valid email address."),$(".errorMessageAlert").show()):n.Action===14?($(".errorMessageText").html(n.ErrorMessage),$(".errorMessageAlert").show()):com.site.ForgotPassword.showEmailNotSentPopUp()},$(document).ready(function(){infoPopUpModalInit={setSuccessButtonAction:com.site.ForgotPassword.setInfoPopUpSuccessButtonAction,setCancelButtonAction:com.site.ForgotPassword.setInfoPopUpCancelButtonAction};infoPopUpModalObj=new com.site.Modal.InfoPopUpModalControl(infoPopUpModalInit);forgotPasswordPageInit={postEnableButton:com.site.ForgotPassword.postEnableButtonAction,postDisableButton:com.site.ForgotPassword.postDisableButtonAction,postClickEnableButton:com.site.ForgotPassword.postClickEnableButton,postClickDisableButton:com.site.ForgotPassword.postClickDisableButton};forgotPasswordPageObj=new com.site.ForgotPassword.ForgotPasswordControl(forgotPasswordPageInit)}),com.site.footerContainer){if(typeof com.site.footerContainer!="object")throw new Error("com.site.footerContainer already exists and is not an object");}else com.site.footerContainer={};com.site.footerContainer=function(){var n=$(".peddleFooter"),t=$("body");return{moveFooterToBottom:function(){var n=$(".peddleFooter");$(".peddleFooter").remove();n.insertAfter($("body").children().last())},init:function(){}}};com.site.footerContentObj=new com.site.footerContainer;$(function(){});ZIPCodeTimeZoneGBL="";com.site.Login.getTimeZone=function(){var n=com.site.Util.getBrowserTimeZone();return com.site.Util.isBrowserTimeZoneInsideUSA(n)?n:ZIPCodeTimeZoneGBL!=""?ZIPCodeTimeZoneGBL:com.site.Config.DefaultSellerTimeZone};com.site.Login.postEnableButtonAction=function(){$("#slideError").fadeOut();$("#loginBtn").addClass("btn-success")};com.site.Login.postDisableButtonAction=function(){$("#loginBtn").removeClass("btn-success")};com.site.Login.postClickEnableButton=function(){com.site.Login.requestForLogin()};com.site.Login.postClickDisableButton=function(){loginPageObj.ErrorMessageText!=""&&($("#loginErrorMsg .errorMessageText").html(loginPageObj.ErrorMessageText),$("#loginErrorMsg").show(),com.site.Modal.checkAndSetScrollablePopup("createAccountLoginModal"))};com.site.Login.disableLoginButton=function(){$("#loginBtn").html("Logging in...");$("#loginBtn").attr("disabled","disabled")};com.site.Login.enableLoginButton=function(){$("#loginBtn").html("Log in");$("#loginBtn").removeAttr("disabled")};com.site.Login.showFacebookErrorPopUp=function(){infoPopUpModalObj.openModal({id:"loginFacebookError"})};com.site.Login.systemErrorPopupOpen=function(){infoPopUpModalObj.openModal({id:"systemError"})};com.site.Login.setInfoPopUpSuccessButtonAction=function(n){var t=n.call(this);(t.id=="vehicleAlreadyExist"||t.id=="vinAlreadyExistAsAccepted"||t.id=="vehicleAlreadyListed")&&(t.id=="vehicleAlreadyExist"&&com.site.Util.isPublisherView()&&t.modalAnswer.DuplicationResponseMessage=="DifferentPublisherSameSellerOpenVehicle"||t.modalAnswer.DuplicationResponseMessage=="DifferentPublisherSameSellerOpenVIN"?com.site.Login.transferOwnership(AccountIdGBL,t.modalAnswer.Claim.ClaimId,OfferIdGBL):window.open(t.modalAnswer.RedirectPage+"?OfferID="+t.modalAnswer.Claim.ClaimCode+"&zipcode="+t.modalAnswer.Claim.Location.ZipCode,"_self",!1));t.id=="vinAlreadyExistForDifferentSeller"&&window.open(com.site.Config.LogInLink+"?OfferID="+t.modalAnswer.Claim.ClaimCode,"_self",!1)};com.site.Login.setInfoPopUpCancelButtonAction=function(n){var t=n.call(this)};com.site.Login.setBooleanPopupLeftButtonAction=function(n){var t=n.call(this);t.id=="vehicleAlreadyExistAsAccepted"&&com.site.Login.createClaimRequest(AccountIdGBL,OfferIdGBL)};com.site.Login.setBooleanPopupRightButtonAction=function(n){var t=n.call(this);t.id=="vehicleAlreadyExistAsAccepted"&&window.open(t.modalAnswer.RedirectPage+"?OfferID="+t.modalAnswer.Claim.ClaimCode+"&zipcode="+t.modalAnswer.Claim.Location.ZipCode,"_self",!1)};com.site.Login.setBooleanPopupCancelButtonAction=function(n){var t=n.call(this);t.id=="vehicleAlreadyExistAsAccepted"&&t.postCloseActionRequired&&(com.site.Login.enableLoginButton(),$("#hdnOfferId").val()!=""&&$("#hdnAccountId").val()!=""&&window.open(com.site.Config.MyOffersLink,"_self",!1))};com.site.Login.prepareDuplicateVehicleString=function(n){var t=n.Vehicle.Year.Name,i=n.Vehicle.Make.Name,r=n.Vehicle.Model.Name;return t+" "+i+" "+r};com.site.Login.showDuplicateVehicleModal=function(n){infoPopUpModalObj.openModal({id:"vehicleAlreadyExist",vehicle:com.site.Login.prepareDuplicateVehicleString(n.Claim),response:n})};com.site.Login.showDuplicateVehicleModalForListing=function(n){com.site.Login.infoPopUpModalObj.openModal({id:"vehicleAlreadyListed",vehicle:com.site.Login.prepareDuplicateVehicleString(n.Claim),response:n})};com.site.Login.showDuplicateAcceptedVehicleModal=function(n){booleanPopUpModalObj.openModal({id:"vehicleAlreadyExistAsAccepted",vehicle:com.site.Login.prepareDuplicateVehicleString(n.Claim),response:n})};com.site.Login.showDuplicateAcceptedVinModal=function(n){infoPopUpModalObj.openModal({id:"vinAlreadyExistAsAccepted",vehicle:com.site.Login.prepareDuplicateVehicleString(n.Claim),response:n})};com.site.Login.showDuplicateDifferentSellerVinModal=function(n){infoPopUpModalObj.openModal({id:"vinAlreadyExistForDifferentSeller",vehicle:com.site.Login.prepareDuplicateVehicleString(n.Claim),response:n})};com.site.Login.showPublisherDuplicateVinAcceptedModal=function(n){infoPopUpModalObj.openModal({id:"publisherVinAlreadyExistAsAccepted",vehicle:com.site.Login.prepareDuplicateVehicleString(n.Claim),response:n})};com.site.Login.showPublisherDuplicateAcceptedVehicleModal=function(n){infoPopUpModalObj.openModal({id:"publisherVehicleAlreadyExistAsAccepted",vehicle:com.site.Login.prepareDuplicateVehicleString(n.Claim),response:n})};com.site.Login.checkForDuplicateVehicle=function(n,t){com.site.Login.disableLoginButton();var i={};i.AccountId=n;i.OfferId=t;com.site.DataService.checkForDuplicateVehicle(i,com.site.Login.checkForDuplicateVehicleCallback)};com.site.Login.checkForDuplicateVehicleCallback=function(n){var t=n;t.Success==!0?com.site.Login.performAction(t):com.site.Login.enableLoginButton()};com.site.Login.transferOwnership=function(n,t,i){com.site.Login.disableLoginButton();var r={};r.AccountId=n;r.OfferId=t;r.InstantOfferId=i;com.site.DataService.transferOwnership(r,com.site.Login.transferOwnershipCallback)};com.site.Login.transferOwnershipCallback=function(n){var t=n;t.Success==!0?window.open(t.RedirectPage+"?OfferID="+t.Claim.ClaimCode,"_self",!1):com.site.Login.enableLoginButton()};com.site.Login.requestForLogin=function(){var t,n;if(!com.site.Util.areCookiesEnabled()){infoPopUpModalObj.openModal({id:"cookieDisable"});return}com.site.Login.disableLoginButton();t="0";$("#StayLogIn div").hasClass("checked")&&(t="1");n={};n.Email=loginPageObj.getInputValue("loginEmailInput");n.Password=loginPageObj.getInputValue("loginPasswordInput");n.rememberMe=t;com.site.DataService.login(n,com.site.Login.requestForLoginCallback)};com.site.Login.requestForLoginCallback=function(n){var t=n;t.Success==!0?com.site.Login.performAction(t):(t.ErrorMessage?(com.site.Login.enableLoginButton(),t.ErrorMessage=="INVALID_EMAIL_OR_PASSWORD_ERROR"?($("#loginErrorMsg .errorMessageText").html("Enter valid email address or password."),$("#loginErrorMsg").show()):($("#loginErrorMsg .errorMessageText").html(t.ErrorMessage),$("#loginErrorMsg").show())):com.site.Login.sendDataForCharityLogin(),EventTracking("Login","Click","Invalid Charity Email or Password-"+loginPageObj.getInputValue("loginEmailInput")))};com.site.Login.sendDataForBuyerLogin=function(){var t,n;com.site.Login.disableLoginButton();t="0";$("#StayLogIn input").attr("checked")==="checked"&&(t="1");n={};n.Email=loginPageObj.getInputValue("loginEmailInput");n.Password=loginPageObj.getInputValue("loginPasswordInput");n.rememberMe=t;com.site.DataService.loginBuyer(n,com.site.Login.sendDataForBuyerLoginCallback)};com.site.Login.sendDataForBuyerLoginCallback=function(n){var t=n;if(t.Success==!0)window.open(com.site.Config.PartnerLoginURL,"_self",!1);else{if(com.site.Login.enableLoginButton(),t.ErrorCode==16||t.ErrorCode==202||t.ErrorCode==203||t.ErrorCode==204){$("#loginErrorMsg .errorMessageText").html(t.ErrorMessage);$("#loginErrorMsg").show();return}$("#loginErrorMsg .errorMessageText").html("Enter valid email address or password.");$("#loginErrorMsg").show();EventTracking("Login","Click","Invalid Buyer Email or Password-"+loginPageObj.getInputValue("loginEmailInput"))}};com.site.Login.sendDataForCharityLogin=function(){var t,n;com.site.Login.disableLoginButton();t=!1;$("#StayLogIn input").attr("checked")==="checked"&&(t=!0);n={};n.Email=loginPageObj.getInputValue("loginEmailInput");n.Password=loginPageObj.getInputValue("loginPasswordInput");n.RememberMe=t;com.site.DataService.loginCharity(n,com.site.Login.sendDataForCharityLoginCallback)};com.site.Login.sendDataForCharityLoginCallback=function(n){var t=n;t.Success==!0?window.open(com.site.Config.CharityLoginURL,"_self",!1):(com.site.Login.sendDataForBuyerLogin(),EventTracking("Login","Click","Invalid Buyer Email or Password-"+loginPageObj.getInputValue("loginEmailInput")))};com.site.Login.createClaimRequest=function(n,t){var i={};i.AccountId=n;i.OfferId=t;com.site.DataService.createClaimFromOffer(i,com.site.Login.createClaimRequestCallback)};com.site.Login.createClaimRequestCallback=function(n){var t=n;t.Success==!0?com.site.Login.performAction(t):com.site.Login.systemErrorPopupOpen()};com.site.Login.performAction=function(n){if(n.Action==2){var i=com.site.Config.EmailHandlerURL,f=com.site.Util.getURLParameter("cmd")||"",r=com.site.Util.getURLParameter("source")||"",u=com.site.Util.getURLParameter("OfferID")||"",t="";if(f!=""&&f!=null){switch(f){case"ViewOffer":t=i+"?cmd=ViewOffer&Source="+r+"&OfferID="+u;break;case"AddPhotos":t=i+"?cmd=AddPhotos&Source="+r+"&OfferID="+u;break;case"ListingFollowup":t=i+"?cmd=ListingFollowup&Source="+r+"&OfferID="+u;break;case"RelistOnDecline":t=i+"?cmd=RelistOnDecline&Source="+r+"&OfferID="+u;break;case"SetMailingAddress":t=i+"?cmd=SetMailingAddress&Source="+r+"&OfferID="+u;break;case"CancelClaim":t=i+"?cmd=CancelClaim&Source="+r+"&OfferID="+u;break;case"ConfirmCancelYes":t=i+"?cmd=ConfirmCancelYes&Source="+r+"&OfferID="+u;break;case"ConfirmCancelNo":t=i+"?cmd=ConfirmCancelNo&Source="+r+"&OfferID="+u;break;case"SendMeOffers":t=i+"?cmd=SendMeOffers&Source="+r+"&OfferID="+u;break;case"LearnMore":t=i+"?cmd=LearnMore&Source="+r+"&OfferID="+u;break;case"GetStartedNow":t=i+"?cmd=GetStartedNow&Source="+r+"&OfferID="+u;break;case"GetStartedNowOnDecline":t=i+"?cmd=GetStartedNowOnDecline&Source="+r+"&OfferID="+u}window.open(t,"_self",!1);return}window.open(n.RedirectPage,"_self",!1)}else n.Action==8?(AccountIdGBL=n.AccountId,OfferIdGBL=n.OfferId,com.site.Login.enableLoginButton(),com.site.Login.checkForDuplicateVehicle(AccountIdGBL,OfferIdGBL)):n.Action===5?!AccountIdGBL||!n.AccountId||n.AccountId==AccountIdGBL?!AccountIdGBL||!n.AccountId||n.AccountId!=AccountIdGBL?n.DuplicationResponseMessage=="SameSellerOpenVehicle"||n.DuplicationResponseMessage=="SameSellerOpenVIN"?com.site.Login.showDuplicateVehicleModal(n):n.DuplicationResponseMessage=="SameSellerAcceptedVIN"?com.site.Util.isPublisherView()?com.site.Login.showPublisherDuplicateVinAcceptedModal(n):com.site.Login.showDuplicateAcceptedVinModal(n):n.DuplicationResponseMessage=="SameSellerListedVehicle"||n.DuplicationResponseMessage=="SameSellerListedVIN"?com.site.Util.isPublisherView()?n.DuplicationResponseMessage=="SameSellerListedVehicle"?com.site.Login.showPublisherDuplicateAcceptedVehicleModal(n):n.DuplicationResponseMessage=="SameSellerListedVIN"&&com.site.Login.showPublisherDuplicateVinAcceptedModal(n):com.site.Login.showDuplicateVehicleModalForListing(n):n.DuplicationResponseMessage=="DifferentSellerOpenVIN"||n.DuplicationResponseMessage=="DifferentSellerAcceptedVIN"?com.site.Util.isPublisherView()?com.site.Login.showPublisherDuplicateVinAcceptedModal(n):com.site.Login.showDuplicateDifferentSellerVinModal(n):n.DuplicationResponseMessage=="SameSellerAcceptedVehicle"?com.site.Util.isPublisherView()?com.site.Login.showPublisherDuplicateAcceptedVehicleModal(n):com.site.Login.showDuplicateAcceptedVehicleModal(n):n.DuplicationResponseMessage=="DifferentPublisherSameSellerOpenVehicle"||n.DuplicationResponseMessage=="DifferentPublisherSameSellerOpenVIN"?com.site.Login.showDuplicateVehicleModal(n):n.DuplicationResponseMessage=="DifferentPublisherSameSellerListedVehicle"||n.DuplicationResponseMessage=="DifferentPublisherSameSellerListedVIN"?com.site.Util.isPublisherView()?n.DuplicationResponseMessage=="DifferentPublisherSameSellerListedVehicle"?com.site.Login.showPublisherDuplicateAcceptedVehicleModal(n):n.DuplicationResponseMessage=="DifferentPublisherSameSellerListedVIN"&&com.site.Login.showPublisherDuplicateVinAcceptedModal(n):com.site.Login.showDuplicateVehicleModalForListing(n):n.DuplicationResponseMessage=="DifferentPublisherDifferentSellerOpenVIN"||n.DuplicationResponseMessage=="DifferentPublisherDifferentSellerAcceptedVIN"||n.DuplicationResponseMessage=="DifferentPublisherSameSellerAcceptedVIN"?com.site.Login.showPublisherDuplicateVinAcceptedModal(n):n.DuplicationResponseMessage=="DifferentPublisherSameSellerAcceptedVehicle"&&com.site.Login.showPublisherDuplicateAcceptedVehicleModal(n):window.open(com.site.Config.LogInLink+"?OfferID="+n.Claim.ClaimCode,"_self",!1):com.site.Login.showDuplicateDifferentSellerVinModal(n):n.Action===10?(com.site.Login.enableLoginButton(),com.site.Login.createClaimRequest(n.AccountId,n.OfferId)):n.Action===11?window.open(n.RedirectPage+"?OfferID="+n.ClaimCode,"_self",!1):n.Action===14?(com.site.Login.enableLoginButton(),$("#loginErrorMsg .errorMessageText").html(n.ErrorMessage),$("#loginErrorMsg").show()):n.Action===15?($("#loginErrorMsg .errorMessageText").html("You must share your email with Peddle to connect with Facebook."),$("#loginErrorMsg").show(),com.site.Login.enableLoginButton()):n.Action===16?($("#loginErrorMsg .errorMessageText").html("You must share your email with Peddle to connect with Google."),$("#loginErrorMsg").show(),com.site.Login.enableLoginButton()):com.site.Login.enableLoginButton()};window.fbAsyncInit=function(){FB.init({appId:com.site.Config.FacebookAppId,status:!0,cookie:!0,xfbml:!0,oauth:!0,version:"v2.0"})},function(n){var t,i="facebook-jssdk";n.getElementById(i)||(t=n.createElement("script"),t.id=i,t.async=!0,t.src="//connect.facebook.net/en_US/sdk.js",n.getElementsByTagName("head")[0].appendChild(t))}(document);com.site.Login.loginUsingFacebook=function(n){com.site.Login.loginUsingFacebookClicked=!1;n.authResponse&&n.authResponse.accessToken&&n.authResponse.accessToken!=""&&com.site.Login.getFacebookAuthentication(n.authResponse.accessToken)};com.site.Login.getFacebookAuthentication=function(n){com.site.Login.disableLoginButton();var t={};t.FacebookAuthenticationToken=n;t.TimeZone=com.site.Login.getTimeZone();com.site.DataService.facebookLogin(t,com.site.Login.getFacebookAuthenticationCallback)};com.site.Login.getFacebookAuthenticationCallback=function(n){var t=n;t.Success==!0?com.site.Login.performAction(t):com.site.Login.enableLoginButton()};com.site.Login.isScriptAlreadyIncluded=function(n){for(var i=document.getElementsByTagName("script"),t=0;t<i.length;t++)if(i[t].getAttribute("src")==n)return!0;return!1};com.site.Login.googleLoginInitiation=function(){com.site.Login.isScriptAlreadyIncluded("https://apis.google.com/js/api:client.js")||function(n){var t,i="google-jsapi";n.getElementById(i)||(t=n.createElement("script"),t.id=i,t.async=!0,t.src="https://apis.google.com/js/api:client.js?onload=startApp",n.getElementsByTagName("head")[0].appendChild(t))}(document);googleUser={};startApp=function(){gapi.load("auth2",function(){auth2=gapi.auth2.init({client_id:com.site.Config.GoogleClientId,cookiepolicy:"single_host_origin",scope:"profile email"});com.site.Login.attachSignin(document.getElementById("googleLogInButtonId"))})}};com.site.Login.attachSignin=function(n){auth2.attachClickHandler(n,{},function(t){var i=t.getAuthResponse().access_token;EventTracking("Login","Click","Login/sign on Using Google");com.site.Login.loginUsingGoogleButtonType=n.id=="googleSignOnButtonId"?"createAccount":"login";com.site.Login.getGoogleAuthentication(i)})};com.site.Login.getGoogleAuthentication=function(n){com.site.Login.disableLoginButton();var t={};t.GoogleAuthenticationToken=n;t.TimeZone=com.site.Login.getTimeZone();com.site.DataService.googleLogin(t,com.site.Login.getGoogleAuthenticationCallback)};com.site.Login.getGoogleAuthenticationCallback=function(n){var t=n;t.Success==!0?com.site.Login.performAction(t):com.site.Login.enableLoginButton()};$(document).ready(function(){var n,t;com.site.Util.trackPage("login");$("#menuCreateAccountLinkId").attr("href",com.site.Config.CreateAccountLink);$("#menuLoginLinkId, #headerLoginLinkId").parent().hide();$("#StayLogIn input").iCheck({checkboxClass:"icheckbox_minimal-blue",radioClass:"iradio_minimal-blue",increaseArea:"20%"});$("#StayLogIn input").iCheck("check");$("#loginBtn").bind("touchstart touchend",function(){$(this).toggleClass("buttonTapClass")});n=!1;$("#loginBtn").on("click tap",function(){if(!n)return n=!0,setTimeout(function(){n=!1},100),loginPageObj.loginButtonAction(),!1});$("#facebookLogInButtonId").on("click tap",function(){if(!n)return n=!0,setTimeout(function(){n=!1},100),com.site.Login.loginUsingFacebookClicked||typeof FB!="object"||(EventTracking("Login","Click","Login/sign on Using Facebook"),com.site.Login.loginUsingFacebookClicked=!0,FB.login(com.site.Login.loginUsingFacebook,{scope:"email"})),!1});$(".linkStyle").on("click tap",function(){if(!n){n=!0;setTimeout(function(){n=!1},100);var t=loginPageObj.getInputValue("loginEmailInput"),i="";return!t||(i+="?Email="+t),window.open(com.site.Config.ForgotPasswordLink+i,"_self",!1),!1}});infoPopUpModalInit={setSuccessButtonAction:com.site.Login.setInfoPopUpSuccessButtonAction,setCancelButtonAction:com.site.Login.setInfoPopUpCancelButtonAction};infoPopUpModalObj=new com.site.Modal.InfoPopUpModalControl(infoPopUpModalInit);booleanPopUpModalInit={setLeftButtonAction:com.site.Login.setBooleanPopupLeftButtonAction,setRightButtonAction:com.site.Login.setBooleanPopupRightButtonAction,setCancelButtonAction:com.site.Login.setBooleanPopupCancelButtonAction};booleanPopUpModalObj=new com.site.Modal.BooleanPopUpModalControl(booleanPopUpModalInit);loginPageInit={postEnableButton:com.site.Login.postEnableButtonAction,postDisableButton:com.site.Login.postDisableButtonAction,postClickEnableButton:com.site.Login.postClickEnableButton,postClickDisableButton:com.site.Login.postClickDisableButton};loginPageObj=new com.site.Login.LoginControl(loginPageInit);$("#hdnOfferId").val()!=""&&$("#hdnAccountId").val()!=""&&(OfferIdGBL=$("#hdnOfferId").val(),AccountIdGBL=$("#hdnAccountId").val(),com.site.Login.checkForDuplicateVehicle(AccountIdGBL,OfferIdGBL));t=com.site.Util.getURLParameter("Email")||"";!t||($("#loginEmailInput").val(t),$("#loginEmailInput").blur(),com.site.Util.addErrorStateToInput("loginPasswordInput",!0),$("#loginErrorMsg").show(),$("#loginErrorMsg .errorMessageText").html("You already have an account. Enter your password."));com.site.Menu.checkForPubliserIdAvailability();com.site.Login.googleLoginInitiation()})