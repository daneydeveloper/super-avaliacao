function setDefaultImageForContent(n){$(n).attr("src","/Images/Image-Not-Available.png")}var vinBackRedirect,ZIPCodeTimeZoneGBL,differentSellerAccount,isProfileShownCompletely,isProfileReachedWindowHeight,collapseInterval,globalCurrentInfoSlide,com;if(com){if(typeof com!="object")throw new Error("com already exists and is not an object");}else com={};if(com.site){if(typeof com.site!="object")throw new Error("com.site already exists and is not an object");}else com.site={};if(com.site.CarInfo){if(typeof com.site.CarInfo!="object")throw new Error("com.site.CarInfo already exists and is not an object");}else com.site.CarInfo={};if(com.site.CarInfo.setMakeDefaultImage=function(n){$("#"+n).attr("src",com.site.Config.DefaultMakeImagePath)},vinBackRedirect="year",com.site.CarInfo.carInfoQuestionProperty=[{name:"year",isVisible:!0,answer:"",answerText:"",response:[],previousAnswer:"",setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer},setPreviousAnswer:function(n){this.previousAnswer=n},getPreviousAnswer:function(){return this.previousAnswer},setTextAnswer:function(n){this.answerText=n},getTextAnswer:function(){return this.answerText},setResponseAnswer:function(n){this.response=n},getResponseAnswer:function(){return this.response}},{name:"make",isVisible:!0,answer:"",answerText:"",response:[],previousAnswer:"",setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer},setPreviousAnswer:function(n){this.previousAnswer=n},getPreviousAnswer:function(){return this.previousAnswer},setTextAnswer:function(n){this.answerText=n},getTextAnswer:function(){return this.answerText},setResponseAnswer:function(n){this.response=n},getResponseAnswer:function(){return this.response}},{name:"model",isVisible:!0,answer:"",answerText:"",response:[],previousAnswer:"",bodyTypeId:"",cabTypeId:"",bodyTypeText:"",cabTypeText:"",doors:"",onlyModelText:"",setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer},setBodyTypeValue:function(n){this.bodyTypeId=n},getBodyTypeValue:function(){return this.bodyTypeId},setOnlyModelText:function(n){this.onlyModelText=n},getOnlyModelText:function(){return this.onlyModelText},setBodyTypeText:function(n){this.bodyTypeText=n},getBodyTypeText:function(){return this.bodyTypeText},setCabTypeValue:function(n){this.cabTypeId=n},getCabTypeValue:function(){return this.cabTypeId},setCabTypeText:function(n){this.cabTypeText=n},getCabTypeText:function(){return this.cabTypeText},setDoorsValue:function(n){this.doors=n},getDoorsValue:function(){return this.doors},setPreviousAnswer:function(n){this.previousAnswer=n},getPreviousAnswer:function(){return this.previousAnswer},setTextAnswer:function(n){this.answerText=n},getTextAnswer:function(){return this.answerText},setResponseAnswer:function(n){this.response=n},getResponseAnswer:function(){return this.response}},{name:"trim",isVisible:!0,answer:"",answerText:"",response:[],fuelTypeId:"",fuelTypeText:"",onlyTrimText:"",setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer},setTextAnswer:function(n){this.answerText=n},getTextAnswer:function(){return this.answerText},setResponseAnswer:function(n){this.response=n},getResponseAnswer:function(){return this.response},setFuelTypeValue:function(n){this.fuelTypeId=n},getFuelTypeValue:function(){return this.fuelTypeId},setOnlyTrimText:function(n){this.onlyTrimText=n},getOnlyTrimText:function(){return this.onlyTrimText},setFuelTypeText:function(n){this.fuelTypeText=n},getFuelTypeText:function(){return this.fuelTypeText}},{name:"vin",isVisible:!1,answer:"",lastEnteredValidVin:"",response:[],setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer},setLastEnteredValidVin:function(n){this.lastEnteredValidVin=n},getLastEnteredValidVin:function(){return this.lastEnteredValidVin},setResponseAnswer:function(n){this.response=n},getResponseAnswer:function(){return this.response}},{name:"titleType",isVisible:!0,answer:"",isNoTitleRequirementAccepted:!0,setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer},setNoTitleRequirement:function(n){this.isNoTitleRequirementAccepted=n},getNoTitleRequirement:function(){return this.isNoTitleRequirementAccepted}},{name:"conditionType",isVisible:!1,answer:"",setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer}},{name:"location",isVisible:!0,answer:"",lastEnteredValidZip:"",response:[],city:"",stateCode:"",stateName:"",country:"",county:"",setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer},setLastEnteredValidZip:function(n){this.lastEnteredValidZip=n},getLastEnteredValidZip:function(){return this.lastEnteredValidZip},setResponseAnswer:function(n){this.response=n},getResponseAnswer:function(){return this.response},setCityAnswer:function(n){this.city=n},getCityAnswer:function(){return this.city},setStateCodeAnswer:function(n){this.stateCode=n},getStateCodeAnswer:function(){return this.stateCode},setStateNameAnswer:function(n){this.stateName=n},getStateNameAnswer:function(){return this.stateName},setCountyAnswer:function(n){this.county=n},getCountyAnswer:function(){return this.county},setCountryAnswer:function(n){this.county=n},getCountryAnswer:function(){return this.county}}],com.site.CarInfo.CarInfoControl=function(n){_self=this;this.postEnableNextButton=n.postEnableNextButton;this.postDisableNextButton=n.postDisableNextButton;this.postMoveToNextSlide=n.postMoveToNextSlide;this.postMoveToPreviousSlide=n.postMoveToPreviousSlide;this.postMoveToSlide=n.postMoveToSlide;this.postMoveToVINSlide=n.postMoveToVINSlide;this.postSetDataInList=n.postSetDataInList;this.autoForwardToNextSlide=n.autoForwardToNextSlide;this.postVINMatch=n.postVINMatch;this.carInfoChanged=n.carInfoChanged;this.openNotSureTrimPopup=n.openNotSureTrimPopup;this.CIId=com.site.CarInfo.carInfoQuestionProperty;this.AttachCarInfoEvents();this.currentOpenSlideId="";this.IsBusySlide=!1;this.IsVinValidated=!1;this.moveToNextFromVINClicked=!1;this.IsRequestActive=!1;this.ClearTitleType=!1},com.site.CarInfo.CarInfoControl.prototype={setCurrentOpenSlide:function(n){this.currentOpenSlideId=n},getCurrentOpenSlide:function(){return this.currentOpenSlideId},setIsBusySlide:function(n){this.IsBusySlide=n},getIsBusySlide:function(){return this.IsBusySlide},setClearTitleType:function(n){this.ClearTitleType=n},getClearTitleType:function(){return this.ClearTitleType},moveToNextSlide:function(){if(!this.getIsBusySlide()&&!!this.getCurrentOpenSlide())if(this.validateCurrentSlide(this.getCurrentOpenSlide(),!1),this.checkCurrentCarInfoSet(this.getCurrentOpenSlide()),this.IsCurrentAnswerSet(this.getCurrentOpenSlide()))switch(this.getCurrentOpenSlide()){case"year":this.postMoveToNextSlide("make");this.showLoadingMask("make");this.requestDataForTextBox("make");break;case"make":this.postMoveToNextSlide("model");this.showLoadingMask("model");this.requestDataForTextBox("model");break;case"model":this.getSlideVisibility("trim")?(this.postMoveToNextSlide("trim"),this.showLoadingMask("trim"),this.requestDataForTextBox("trim")):(this.resetInputValue("trim"),this.moveToSlide("titleType"));break;case"trim":case"vin":this.moveToSlide("titleType");break;case"titleType":this.moveToSlide("location");break;case"conditionType":this.moveToSlide("location");break;case"location":geoLocationTimeout&&(clearTimeout(geoLocationTimeout),geoLocationTimeout=null);this.postMoveToNextSlide(this.getCurrentOpenSlide())}else{this.highLightError(this.getCurrentOpenSlide());var n;this.getCurrentOpenSlide()=="year"?n="Select a year to continue.":this.getCurrentOpenSlide()=="make"?n="Select a make and try again.":this.getCurrentOpenSlide()=="model"?n="Select a model to proceed.":this.getCurrentOpenSlide()=="trim"?n="Select a trim and try again.":this.getCurrentOpenSlide()=="location"?n="Enter ZIP code to receive your offer.":this.getCurrentOpenSlide()=="vin"&&(n="Enter a valid vehicle identification number.");com.site.Util.showErrorAlert(n)}},moveToPreviousSlide:function(){if(this.getCurrentOpenSlide()=="vin"){this.moveToSlide(vinBackRedirect);return}if(this.getCurrentOpenSlide()=="location"){this.moveToSlide("titleType");return}if(this.getCurrentOpenSlide()=="titleType"&&!this.IsCurrentAnswerSet("vin")){this.getSlideVisibility("trim")?this.moveToSlide("trim"):this.moveToSlide("model");return}this.postMoveToPreviousSlide()},moveToSlide:function(n){this.postMoveToSlide(n)},highLightError:function(n){this.validateCurrentSlide(n,!0)},validateCurrentSlide:function(n,t){switch(n){case"location":this.validateCarZipCode(t);break;case"vin":this.validateCarVIN(t)}},setCarInfoInput:function(n,t,i){$("#"+n+"Input").val(t);this.setInputValue(n,i);this.setInputTextValue(n,t)},checkCurrentCarInfoSet:function(n){if(this.IsCurrentAnswerSet(n)){this.enableNextSlideButton();return}this.disableNextSlideButton()},enableNextSlideButton:function(){this.postEnableNextButton()},disableNextSlideButton:function(){this.postDisableNextButton()},IsAnswerTillCurrentSlideSet:function(n){for(var i,t=0;t<this.CIId.length;t++){if(i=this.CIId[t],i.isVisible&&i.answer==""&&i.name!=n)return t;if(i.name==n)break}return!0},IsCurrentAnswerSet:function(n){return this.getInputValue(n)!=""?!0:!1},IsAllAnsweredSet:function(){for(var t,n=0;n<this.CIId.length;n++)if(t=this.CIId[n],t.isVisible&&t.answer=="")return n;return!0},getInputIndexFromName:function(n){for(var t=0;t<this.CIId.length;t++)if(this.CIId[t].name==n)return t;return null},setInputValue:function(n,t){var i=this.getInputIndexFromName(n);this.CIId[i].setAnswer(t)},getInputValue:function(n){var t=this.getInputIndexFromName(n);return this.CIId[t].getAnswer()},setBodyTypeValue:function(n){var t=this.getInputIndexFromName("model");this.CIId[t].setBodyTypeValue(n)},getBodyTypeValue:function(){var n=this.getInputIndexFromName("model");return this.CIId[n].getBodyTypeValue()},setOnlyModelText:function(n){var t=this.getInputIndexFromName("model");this.CIId[t].setOnlyModelText(n)},getOnlyModelText:function(){var n=this.getInputIndexFromName("model");return this.CIId[n].getOnlyModelText()},setBodyTypeText:function(n){var t=this.getInputIndexFromName("model");this.CIId[t].setBodyTypeText(n)},getBodyTypeText:function(){var n=this.getInputIndexFromName("model");return this.CIId[n].getBodyTypeText()},setCabTypeValue:function(n){var t=this.getInputIndexFromName("model");this.CIId[t].setCabTypeValue(n)},getCabTypeValue:function(){var n=this.getInputIndexFromName("model");return this.CIId[n].getCabTypeValue()},setCabTypeText:function(n){var t=this.getInputIndexFromName("model");this.CIId[t].setCabTypeText(n)},getCabTypeText:function(){var n=this.getInputIndexFromName("model");return this.CIId[n].getCabTypeText()},setDoorsValue:function(n){var t=this.getInputIndexFromName("model");this.CIId[t].setDoorsValue(n)},getDoorsValue:function(){var n=this.getInputIndexFromName("model");return this.CIId[n].getDoorsValue()},setFuelTypeValue:function(n){var t=this.getInputIndexFromName("trim");this.CIId[t].setFuelTypeValue(n)},getFuelTypeValue:function(){var n=this.getInputIndexFromName("trim");return this.CIId[n].getFuelTypeValue()},setOnlyTrimText:function(n){var t=this.getInputIndexFromName("trim");this.CIId[t].setOnlyTrimText(n)},getOnlyTrimText:function(){var n=this.getInputIndexFromName("trim");return this.CIId[n].getOnlyTrimText()},setFuelTypeText:function(n){var t=this.getInputIndexFromName("trim");this.CIId[t].setFuelTypeText(n)},getFuelTypeText:function(){var n=this.getInputIndexFromName("trim");return this.CIId[n].getFuelTypeText()},setConditionAnswer:function(n,t,i){var f=this.getInputIndexFromName(n),r=0,u=1;$("#"+n+" .list-group-item.listSelected").removeClass("listSelected");t=="Yes"?($("#"+n+"CheckboxYesId.customCheckbox input").iCheck("check"),$("#"+n+"CheckboxYesId").parents(".list-group-item").addClass("listSelected"),r=1,u=1):t=="No"?($("#"+n+"CheckboxNoId.customCheckbox input").iCheck("check"),$("#"+n+"CheckboxNoId").parents(".list-group-item").addClass("listSelected"),r=3,u=2):t=="Partial"&&($("#"+n+"CheckboxPartialId.customCheckbox input").iCheck("check"),$("#"+n+"CheckboxPartialId").parents(".list-group-item").addClass("listSelected"),r=2);n=="titleType"&&this.setInputValue("titleType",r);n=="conditionType"&&this.setInputValue("conditionType",u);this.checkCurrentCarInfoSet(n);i&&this.autoForwardToNextSlide()},resetConditionAnswer:function(n){n=="titleType"&&this.setInputValue("titleType","");n=="conditionType"&&this.setInputValue("conditionType","");$("#"+n+" .list-group-item.listSelected").removeClass("listSelected");$("#"+n+" .customCheckbox input").iCheck("uncheck");this.checkCurrentCarInfoSet(n)},setTitleType:function(n){this.resetConditionAnswer("titleType");!n||(n===1?this.setConditionAnswer("titleType","Yes",!1):n===2?this.setConditionAnswer("titleType","Partial",!1):n===3&&this.setConditionAnswer("titleType","No",!1));this.checkCurrentCarInfoSet("titleType")},setConditionType:function(n){this.resetConditionAnswer("conditionType");!n||(n===1?this.setConditionAnswer("conditionType","Yes",!1):n===2&&this.setConditionAnswer("conditionType","No",!1));this.checkCurrentCarInfoSet("conditionType")},setSlideVisibility:function(n,t){var i=this.getInputIndexFromName(n);this.CIId[i].isVisible=t},getSlideVisibility:function(n){var t=this.getInputIndexFromName(n);return this.CIId[t].isVisible},setNoTitleRequirement:function(n){var t=this.getInputIndexFromName("titleType");this.CIId[t].setNoTitleRequirement(n)},getNoTitleRequirement:function(){var n=this.getInputIndexFromName("titleType");return this.CIId[n].getNoTitleRequirement()},setPreviousInputValue:function(n,t){var i=this.getInputIndexFromName(n);this.CIId[i].setPreviousAnswer(t)},getPreviousInputValue:function(n){var t=this.getInputIndexFromName(n);return this.CIId[t].getPreviousAnswer()},setInputTextValue:function(n,t){var i=this.getInputIndexFromName(n);this.CIId[i].setTextAnswer(t)},getInputTextValue:function(n){var t=this.getInputIndexFromName(n);return this.CIId[t].getTextAnswer()},getAllCarInfo:function(){return{year:this.getInputTextValue("year"),yearId:this.getInputValue("year"),make:this.getInputTextValue("make"),makeId:this.getInputValue("make"),model:this.getInputTextValue("model"),modelId:this.getInputValue("model"),onlyModelText:this.getOnlyModelText(),bodyTypeId:this.getBodyTypeValue(),bodyType:this.getBodyTypeText(),cabTypeId:this.getCabTypeValue(),cabType:this.getCabTypeText(),doors:this.getDoorsValue(),trim:this.getInputTextValue("trim"),trimId:this.getInputValue("trim"),onlyTrimText:this.getOnlyTrimText(),fuelTypeId:this.getFuelTypeValue(),fuelType:this.getFuelTypeText(),vin:this.getInputValue("vin"),titleType:this.getInputValue("titleType"),conditionType:this.getInputValue("conditionType"),clearTitle:this.getClearTitleType()}},getLocationDetail:function(){var t=this.getInputIndexFromName("location"),n={zipcode:this.getInputValue("location"),city:"",stateCode:"",stateName:"",country:"",county:""};return n.zipcode!==""&&(n.city=this.CIId[t].getCityAnswer(),n.stateCode=this.CIId[t].getStateCodeAnswer(),n.stateName=this.CIId[t].getStateNameAnswer(),n.country=this.CIId[t].getCountryAnswer(),n.county=this.CIId[t].getCountyAnswer()),n},checkAndGetValueFromText:function(n,t,i){var r=this.getInputIndexFromName(n.replace("Input","")),f=this.CIId[r].getResponseAnswer().length,u=this.CIId[r].getResponseAnswer();t=t.toLowerCase();switch(n.replace("Input","")){case"year":for(r=0;r<f;r++)if(u[r].Name==$.trim(t))return u[r].Id;break;case"make":for(r=0;r<f;r++)if(u[r].Name.toLowerCase()==$.trim(t))return u[r].Id;break;case"model":for(r=0;r<f;r++)if(u[r].Name.toLowerCase()==$.trim(t))return!i?u[r].Id:u[r].UniqueId;break;case"trim":for(r=0;r<f;r++)if(u[r].Name.toLowerCase()==$.trim(t))return!i?u[r].Id:u[r].UniqueId}return!1},checkAndGetExactTextFromText:function(n,t){var i=this.getInputIndexFromName(n.replace("Input","")),u=this.CIId[i].getResponseAnswer().length,r=this.CIId[i].getResponseAnswer();t=t.toLowerCase();switch(n.replace("Input","")){case"year":for(i=0;i<u;i++)if(r[i].Name==$.trim(t))return r[i].Name;break;case"make":case"model":case"trim":for(i=0;i<u;i++)if(r[i].Name.toLowerCase()==$.trim(t))return r[i].Name}return!1},validateCarZipCode:function(n){var t=this.getInputIndexFromName("location");return com.site.Util.isBlank("zipInput")||$.trim($("#zipInput").val()).length<5?(this.CIId[t].setAnswer(""),com.site.Util.removeErrorStateToInput("zipInput",!1),n&&com.site.Util.addErrorStateToInput("zipInput",!1),!1):(this.requestDataForZip(),!0)},validateCarVIN:function(n){var t=this.getInputIndexFromName("vin");return com.site.Util.isBlank("vinInput")||$.trim($("#vinInput").val()).length<com.site.Config.MaxVINLength?(this.CIId[t].setAnswer(""),com.site.Util.removeErrorStateToInput("vinInput",!1),n&&(com.site.Util.addErrorStateToInput("vinInput",!1),this.disableNextSlideButton(),com.site.Util.showErrorAlert("Enter a valid vehicle identification number.")),!1):(this.verifyVin(),!0)},validateCurrentInput:function(n,t){var i=this.getInputIndexFromName(n.replace("Input","")),r=this.CIId[i].getResponseAnswer().length,u=this.CIId[i].getResponseAnswer();switch(n.replace("Input","")){case"year":for(i=0;i<r;i++)if(u[i].Name.search($.trim(t.toLowerCase()))==0)return!0;break;case"make":for(i=0;i<r;i++)if(u[i].Name.toLowerCase().search($.trim(t.toLowerCase()))==0)return!0;break;case"model":for(i=0;i<r;i++)if(u[i].Name.toLowerCase().indexOf($.trim(t.toLowerCase()))==0)return!0;break;case"trim":for(i=0;i<r;i++)if(u[i].Name.toLowerCase().indexOf($.trim(t.toLowerCase()))==0)return!0}return!1},checkIfOtherNameExistWithSameInitial:function(n,t){for(var i=this.getInputIndexFromName(n.replace("Input","")),f=this.CIId[i].getResponseAnswer().length,e=this.CIId[i].getResponseAnswer(),r=0,u=!1,i=0;i<f;i++)e[i].Name.toLowerCase().indexOf($.trim(t.toLowerCase()))==0&&r++;return r>1&&(u=!0),u},validateInput:function(n,t,i,r){var c=n.replace("Input",""),s=!1,h="data-value",u=this.getInputIndexFromName(n.replace("Input","")),f=$.trim($("#"+n).val()),e,o;if(this.CIId[u].isVisible){if($("#"+n.replace("Input","")+"List .list-group-item.listSelected:visible").removeClass("listSelected"),$("#"+n.replace("Input","")+" .greenSelectIcon").hide(),com.site.Util.isBlank(n))return this.CIId[u].setAnswer(""),this.CIId[u].setTextAnswer(""),com.site.Util.resetInputState(n,!1),t&&com.site.Util.addErrorStateToInput(n,!1),!1;switch(n.replace("Input","")){case"year":if(!this.validateCurrentInput(n,f))return this.CIId[u].setAnswer(""),this.CIId[u].setTextAnswer(""),com.site.Util.addErrorStateToInput(n,!1),!1;break;case"make":if(!this.validateCurrentInput(n,f))return this.CIId[u].setAnswer(""),this.CIId[u].setTextAnswer(""),com.site.Util.addErrorStateToInput(n,!1),!1;break;case"model":if(!this.validateCurrentInput(n,f))return this.CIId[u].setAnswer(""),this.CIId[u].setTextAnswer(""),com.site.Util.addErrorStateToInput(n,!1),!1;break;case"trim":if(!this.validateCurrentInput(n,f))return this.CIId[u].setAnswer(""),this.CIId[u].setTextAnswer(""),com.site.Util.addErrorStateToInput(n,!1),!1}this.CIId[u].setAnswer("");this.CIId[u].setTextAnswer("");com.site.Util.addSuccessStateToInput(n,!1);$("#"+n).closest(".ui-input").children(".icon-cancel-circled.ui-icon-input").show();this.checkAndGetValueFromText(n,f)!==!1&&($("#"+n).closest(".ui-input").children(".icon-cancel-circled.ui-icon-input").hide(),c=="model"&&(s=!0,h="data-uniqueid",e=r,!!e==!1&&(e=$("#"+n.replace("Input","")+"List .list-group-item["+h+"='"+this.checkAndGetValueFromText(n,f,s)+"']").data()),!e||(u=this.getInputIndexFromName(c),this.CIId[u].setBodyTypeValue(e.bodytypeid),this.CIId[u].setBodyTypeText(e.bodytypetext),this.CIId[u].setOnlyModelText(e.onlymodeltext),this.CIId[u].setCabTypeValue(e.cabtypeid),this.CIId[u].setCabTypeText(e.cabtypetext),this.CIId[u].setDoorsValue(e.doors))),c=="trim"&&(s=!0,h="data-uniqueid",o=r,!!o==!1&&(o=$("#"+n.replace("Input","")+"List .list-group-item["+h+"='"+this.checkAndGetValueFromText(n,f,s)+"']").data()),!o||(u=this.getInputIndexFromName(c),this.CIId[u].setFuelTypeValue(o.fueltypeid),this.CIId[u].setFuelTypeText(o.fueltypetext),this.CIId[u].setOnlyTrimText(o.onlytrimtext))),this.setCarInfoInput(n.replace("Input",""),this.checkAndGetExactTextFromText(n,f),this.checkAndGetValueFromText(n,f)),this.enableNextSlideButton(),$("#"+n.replace("Input","")+"List .list-group-item["+h+"='"+this.checkAndGetValueFromText(n,f,s)+"']").find(".greenSelectIcon").show(),$("#"+n.replace("Input","")+"List .list-group-item["+h+"='"+this.checkAndGetValueFromText(n,f,s)+"']").addClass("listSelected"),i&&!this.checkIfOtherNameExistWithSameInitial(n,f)&&(c=="trim"&&this.checkAndGetExactTextFromText(n,f)=="Not sure"?this.openNotSureTrimPopup():this.autoForwardToNextSlide()))}return!0},resetInputValue:function(n){var r=this.getInputIndexFromName("make"),i=this.getInputIndexFromName("model"),t=this.getInputIndexFromName("trim");this.carInfoChanged();switch(n.replace("Input","")){case"make":$("#makeList, #modelList, #trimList").html("");$("#makeInput, #modelInput, #trimInput").val("");$("#makeListContainer, #modelListContainer, #trimListContainer").hide();this.CIId[r].setAnswer("");this.CIId[r].setTextAnswer("");this.CIId[i].setAnswer("");this.CIId[i].setTextAnswer("");this.CIId[t].setAnswer("");this.CIId[t].setTextAnswer("");com.site.Util.resetInputState("make",!1);com.site.Util.resetInputState("model",!1);com.site.Util.resetInputState("trim",!1);this.setPreviousInputValue("make","");break;case"model":$("#modelList, #trimList").html("");$("#modelInput, #trimInput").val("");$("#modelListContainer, #trimListContainer").hide();this.CIId[i].setAnswer("");this.CIId[i].setTextAnswer("");this.CIId[t].setAnswer("");this.CIId[t].setTextAnswer("");com.site.Util.resetInputState("model",!1);com.site.Util.resetInputState("trim",!1);this.setPreviousInputValue("model","");break;case"trim":$("#trimList").html("");$("#trimInput").val("");$("#trimListContainer").hide();this.CIId[t].setAnswer("");this.CIId[t].setTextAnswer("");this.CIId[t].setOnlyTrimText("");com.site.Util.resetInputState("trim",!1)}},addSelectStateToYmms:function(n,t){$("#"+n+"List .list-group-item[data-text='"+t+"']").find(".greenSelectIcon").show();$("#"+n+"List .list-group-item[data-text='"+t+"']").addClass("listSelected")},requestDataForZip:function(){var i=$("#zipInput").val(),n,t;if($("#zipStateContainer").show(),n=this.getInputIndexFromName("location"),this.CIId[n].getLastEnteredValidZip()==i)return this.setDataInZipContainer(this.CIId[n].getResponseAnswer()),!1;t={};t.zipCode=i;$("#decodedLocation").hide();$("#zipInput").closest(".ui-input").children(".icon-cancel-circled.ui-icon-input").hide();$("#zipInput").closest(".ui-input").children(".icon-ok-circled.ui-icon-input").hide();$("#zipInput").closest(".ui-input").children(".icon-spin5.ui-icon-input").show();$("#zipStateContainer td").find(".icon-ok-circled.ui-icon-input-Success").hide();this.IsRequestActive||(this.IsRequestActive=!0,com.site.DataService.zipDecode(t,this.getZipCallback))},verifyVin:function(){var t=$("#vinInput").val(),i=this.getInputIndexFromName("vin"),n;if(this.CIId[i].getLastEnteredValidVin()==t)return this.IsVinValidated=!0,this.setDataInVin(this.CIId[i].getResponseAnswer()),!1;if(n={},n.vin=t,this.IsVinValidated=!1,$("#vinInput").closest(".ui-input").children(".icon-cancel-circled.ui-icon-input").hide(),$("#vinInput").closest(".ui-input").children(".icon-ok-circled.ui-icon-input").hide(),$("#vinInput").closest(".ui-input").children(".icon-spin5.ui-icon-input").show(),!this.IsRequestActive){if(this.IsRequestActive=!0,com.site.VehicleInfo.ClaimCode!=""){n.claimCode=com.site.VehicleInfo.ClaimCode;n.claimId=com.site.VehicleInfo.ClaimId;com.site.DataService.verifyVIN(n,this.getVerifyVinCallback);return}com.site.DataService.vinDecode(n,this.getVinCallback)}},requestDataForTextBox:function(n){var t,i;switch(n){case"year":if(this.CIId[0].getResponseAnswer().length===0){t={};com.site.AjaxEngine.showMask=!1;com.site.DataService.getYMMSData("year",t,this.getYearCallback);return}amplify.publish("carInfoListData.response",this.CIId[0].getResponseAnswer(),"year");break;case"make":if(this.getPreviousInputValue("year")===this.getInputValue("year")){this.hideLoadingMask("make");return}this.setPreviousInputValue("year",this.getInputValue("year"));t={};t.year=this.getInputValue("year");com.site.AjaxEngine.showMask=!1;this.resetInputValue("make");com.site.DataService.getYMMSData("make",t,this.getMakeCallback);break;case"model":if(this.getPreviousInputValue("make")===this.getInputValue("make")){this.hideLoadingMask("model");return}this.setPreviousInputValue("make",this.getInputValue("make"));t={};t.year=this.getInputValue("year");t.make=this.getInputValue("make");com.site.AjaxEngine.showMask=!1;this.resetInputValue("model");com.site.DataService.getYMMSData("model",t,this.getModelCallback);break;case"trim":if(this.getPreviousInputValue("model")===this.getInputTextValue("model")){this.hideLoadingMask("trim");return}this.setPreviousInputValue("model",this.getInputTextValue("model"));t={};t.year=this.getInputValue("year");t.make=this.getInputValue("make");t.model=this.getInputValue("model");i=this.getInputIndexFromName("model");t.bodyTypeId=this.CIId[i].getBodyTypeValue();t.cabTypeId=this.CIId[i].getCabTypeValue();t.doors=this.CIId[i].getDoorsValue();com.site.AjaxEngine.showMask=!1;this.resetInputValue("trim");com.site.DataService.getYMMSData("trim",t,this.getTrimCallback);return}},subscribe:function(){var n=this;amplify.subscribe("carInfoListData.response",function(t,i){var r;if(n.setDataInList(i,t),n.AttachInputListEvents(i),n.getCurrentOpenSlide()=="vin"){n.postSetDataInList();return}i!="year"&&(n.setInputValue("vin",""),$("#vinInput").val(""),$("#vinDecodeContainer").hide(),com.site.Util.resetInputState("vinInput",!1),i=="model"&&(t.length==1?($("#"+i+"Input").val(t[0].Value),n.validateInput(i+"Input",!1,!0)):PartialModelObj.DisplayName!==""&&n.getPreviousInputValue("model")==""&&(r=$.grep(t,function(n){return n.DisplayName==PartialModelObj.DisplayName}),r.length>0&&($("#"+i+"Input").val(r[0].DisplayName),n.validateInput(i+"Input",!1,!1)))),i=="trim"&&(PartialTrimObj.DisplayName!==""?(r=$.grep(t,function(n){return n.DisplayName==PartialTrimObj.DisplayName}),r.length>0&&($("#"+i+"Input").val(r[0].DisplayName),n.validateInput(i+"Input",!1,!1))):t.length==1&&($("#"+i+"Input").val(t[0].Value),n.validateInput(i+"Input",!1,!0))),i=="make"&&MakeIdGBL!==""&&n.getPreviousInputValue("make")==""&&(r=$.grep(t,function(n){return n.Id==MakeIdGBL}),r.length>0&&($("#"+i+"Input").val(r[0].Name),n.validateInput(i+"Input",!1,!1))),$("#"+i+"ListContainer").nanoScroller(),$("#"+i+"ListContainer").nanoScroller({scroll:"top"}),jQuery.browser.mobile||$("#"+i+"Input").focus())});amplify.subscribe("zipData.response",function(t){n.setDataInZipContainer(t);n.carInfoChanged()});amplify.subscribe("vinData.response",function(t){n.setDataInVin(t);n.carInfoChanged();n.IsVinValidated=!0;com.site.Util.addSuccessStateToInput("vinInput",!1);n.moveToNextFromVINClicked&&(n.moveToNextFromVINClicked=!1,n.moveToNextSlide())});amplify.subscribe("vinVerificationData.response",function(t){var i;if(t.IsVinMatch==!0)n.IsVinValidated=!0,n.postVINMatch();else{if(n.IsVinValidated=!0,i=n.getAllCarInfo(),i.yearId!=t.Year.Id||i.makeId!=t.Make.Id||i.modelId!=t.Model.Id||i.bodyTypeId!=t.Model.BodyTypeId||i.cabTypeId!=t.Model.CabTypeId||i.doors!=t.Model.Doors||i.trimId!=t.Trim.Id){var r={Name:i.onlyModelText||i.model,BodyType:i.bodyType,CabType:i.cabType,Doors:i.doors},u={Name:i.onlyTrimText||i.trim,FuelType:i.fuelType},f=i.year+" "+i.make+" "+r.Name+" "+u.Name,e=t.Year.Name+" "+t.Make.Name+" "+t.Model.DisplayName+" "+t.Trim.DisplayName;infoPopUpModalObj.openModal({id:"invalidVIN",VIN:$.trim($("#vinInput").val()),currentVehicle:f,decodedVehicle:e,response:t});return}n.setDataInVin(t);com.site.Util.addSuccessStateToInput("vinInput",!1)}})},showLoadingMask:function(n){$("#"+n+"Input").closest(".ui-input").children(".icon-spin5.ui-icon-input").show();$("#"+n+"Loading").show()},hideLoadingMask:function(n){$("#"+n+"Input").closest(".ui-input").children(".icon-spin5.ui-icon-input").hide();$("#"+n+"Loading").hide()},getYearCallback:function(n){n=$.parseJSON(n);n.Success&&n.Years!=null?(_self.CIId[0].setResponseAnswer(n.Years),amplify.publish("carInfoListData.response",n.Years,"year")):com.site.VehicleInfo.systemErrorPopupOpen()},getMakeCallback:function(n){n.Success&&(_self.CIId[1].setResponseAnswer(n.Makes),amplify.publish("carInfoListData.response",n.Makes,"make"))},getModelCallback:function(n){if(n.Success){var t=_self.formatModals(n.Models,n);_self.CIId[2].setResponseAnswer(t);amplify.publish("carInfoListData.response",t,"model")}},getTrimCallback:function(n){if(n.Success){var t=_self.formatTrims(n.Trims,n);_self.CIId[3].setResponseAnswer(t);amplify.publish("carInfoListData.response",t,"trim")}},getZipCallback:function(n){_self.IsRequestActive=!1;var t=_self.getInputIndexFromName("location");if(n.Success){_self.CIId[t].setResponseAnswer(n.Location);amplify.publish("zipData.response",n.Location,"location");return}com.site.Util.addErrorStateToInput("zipInput",!1);_self.disableNextSlideButton();$("#zipInput").closest(".ui-input").children(".icon-spin5.ui-icon-input").hide();$("#zipStateContainer td").find(".icon-ok-circled.ui-icon-input-Success").hide();$("#zipInput").closest(".ui-input").children(".icon-cancel-circled.ui-icon-input").show();$("#decodedLocation").hide();$("#zipCity").text("");$("#zipStateCode").text("");_self.CIId[t].setAnswer("");_self.CIId[t].setCityAnswer("");_self.CIId[t].setStateCodeAnswer("");_self.CIId[t].setStateNameAnswer("");_self.CIId[t].setCountryAnswer("");_self.CIId[t].setCountyAnswer("")},getVinCallback:function(n){_self.IsRequestActive=!1;var t=_self.getInputIndexFromName("vin");if(n.Success){_self.CIId[t].setResponseAnswer(n);amplify.publish("vinData.response",n,"vin");return}$("#vinInput").closest(".ui-input").children(".icon-cancel-circled.ui-icon-input").show();$("#vinInput").closest(".ui-input").children(".icon-ok-circled.ui-icon-input").hide();$("#vinInput").closest(".ui-input").children(".icon-spin5.ui-icon-input").hide();$("#vinDecodeContainer").hide();$("#vehicleNameText").text("");_self.IsVinValidated=!1;com.site.Util.addErrorStateToInput("vinInput",!1);_self.CIId[t].setAnswer("");_self.CIId[t].setResponseAnswer("");_self.CIId[t].setLastEnteredValidVin("");_self.disableNextSlideButton();EventTracking("Instnat Offer","Click","Invalid VIN - "+$.trim($("#vinInput").val()));com.site.Util.showErrorAlert("Enter a valid vehicle identification number.")},getVerifyVinCallback:function(n){_self.IsRequestActive=!1;var t=_self.getInputIndexFromName("vin");if(n.Success){_self.CIId[t].setResponseAnswer(n);amplify.publish("vinVerificationData.response",n);return}$("#vinInput").closest(".ui-input").children(".icon-cancel-circled.ui-icon-input").show();$("#vinInput").closest(".ui-input").children(".icon-ok-circled.ui-icon-input").hide();$("#vinInput").closest(".ui-input").children(".icon-spin5.ui-icon-input").hide();$("#vinDecodeContainer").hide();$("#vehicleNameText").text("");_self.IsVinValidated=!1;com.site.Util.addErrorStateToInput("vinInput",!1);_self.CIId[t].setAnswer("");_self.CIId[t].setResponseAnswer("");_self.CIId[t].setLastEnteredValidVin("");_self.disableNextSlideButton();EventTracking("Instnat Offer","Click","Invalid VIN - "+$.trim($("#vinInput").val()))},setDataInZipContainer:function(n){var t=this.getInputIndexFromName("location"),i=!1;this.getCurrentOpenSlide()!="location"||this.CIId[t].getAnswer()==n.ZipCode||fromGeoLocationZip||(i=!0);fromGeoLocationZip=!1;this.CIId[t].setResponseAnswer(n);this.CIId[t].setAnswer(n.ZipCode);this.CIId[t].setLastEnteredValidZip(n.ZipCode);com.site.Util.addSuccessStateToInput("zipInput",!1);$("#zipInput").closest(".ui-input").children(".icon-spin5.ui-icon-input").hide();$("#zipStateContainer td").find(".icon-ok-circled.ui-icon-input-Success").show();$("#zipStateContainer").show();$("#decodedLocation").show();$("#zipCity").text(n.PreferredCity);$("#zipStateCode").text(n.State.StateCode);this.CIId[t].setCityAnswer(n.PreferredCity);this.CIId[t].setStateCodeAnswer(n.State.StateCode);this.CIId[t].setStateNameAnswer(n.State.StateName);this.CIId[t].setCountryAnswer(n.Country);this.CIId[t].setCountyAnswer(n.County);ZIPCodeTimeZoneGBL=n.TimeZone;this.getCurrentOpenSlide()=="location"&&(this.enableNextSlideButton(),$("#navNextButtonId").focus());i&&(this.carInfoChanged(),this.autoForwardToNextSlide())},setDataInVin:function(n){var i,r=this.getInputIndexFromName("vin"),t,u;$("#vinInput").closest(".ui-input").children(".icon-cancel-circled.ui-icon-input").hide();$("#vinInput").closest(".ui-input").children(".icon-ok-circled.ui-icon-input").show();$("#vinInput").closest(".ui-input").children(".icon-spin5.ui-icon-input").hide();this.CIId[r].setAnswer($.trim($("#vinInput").val()));this.CIId[r].setLastEnteredValidVin($.trim($("#vinInput").val()));!n||!n.Makes?(t=this.getAllCarInfo(),$("#vinDecodeContainer").show(),u={Name:t.onlyModelText,BodyType:t.bodyType,CabType:t.cabType,Doors:t.doors},$("#vehicleNameText").text(t.year+" "+t.make+" "+n.Model.DisplayName+" "+(!t.Trim.DisplayName?"":t.Trim.DisplayName))):(this.setCarInfoInput("year",n.Year.Name,n.Year.Id),this.setPreviousInputValue("year",n.Year.Id),this.getMakeCallback(n),this.setCarInfoInput("make",n.Make.Name,n.Make.Id),this.setPreviousInputValue("make",n.Make.Id),this.getModelCallback(n),this.setCarInfoInput("model",n.Model.DisplayName,n.Model.Id),this.setPreviousInputValue("model",n.Model.DisplayName),this.setBodyTypeValue(n.Model.BodyTypeId),this.setOnlyModelText(n.Model.Name),this.setBodyTypeText(n.Model.BodyType),this.setCabTypeValue(n.Model.CabTypeId),this.setCabTypeText(n.Model.CabType),this.setDoorsValue(n.Model.Doors),this.getTrimCallback(n),this.setCarInfoInput("trim",n.Trim.DisplayName,this.checkAndGetValueFromText("trim",n.Trim.Name)),this.setFuelTypeValue(n.Trim.FuelTypeId),this.setOnlyTrimText(n.Trim.Name),this.setFuelTypeText(n.Trim.FuelType),$("#vinDecodeContainer").show(),$("#vehicleNameText").text(n.Year.Name+" "+n.Make.Name+" "+n.Model.DisplayName+" "+(!n.Trim.DisplayName?"":n.Trim.DisplayName)),i={bodytypeid:n.Model.BodyTypeId,bodytypetext:n.Model.BodyType,onlymodeltext:n.Model.Name,cabtypeid:n.Model.CabTypeId,cabtypetext:n.Model.CabType,doors:n.Model.Doors},_trimData={fueltypeid:n.Trim.FuelTypeId,fueltypetext:n.Trim.FuelType,onlytrimtext:n.Trim.Name});this.enableNextSlideButton();this.validateInput("yearInput",!1,!1);this.checkCurrentCarInfoSet("year");this.validateInput("makeInput",!1,!1);this.checkCurrentCarInfoSet("make");this.validateInput("modelInput",!1,!1,i);this.checkCurrentCarInfoSet("model");parseInt(n.Year.Name)>=com.site.Config.OptionalTrimAndVINForPreYear&&carInfoPageObj.setSlideVisibility("trim",!0);this.validateInput("trimInput",!1,!1,_trimData);this.checkCurrentCarInfoSet("trim");$("#navNextButtonId").focus()},isAnyEmpty:function(n){var t,i;if(typeof n=="number"||typeof n=="boolean")return!1;if(typeof n=="undefined"||n===null)return!0;if(typeof n.length!="undefined")return n.length==0;t=0;for(i in n)n.hasOwnProperty(i)&&t++;return t==0},formatModelUniqueId:function(n){return n.BodyTypeId=n.BodyTypeId||"",n.CabTypeId=n.CabTypeId||"",n.Doors=n.Doors||"",n.Id+""+n.BodyTypeId+""+n.CabTypeId+""+n.Doors},compare:function(n,t){return n.Value<t.Value?-1:n.Value>t.Value?1:0},sortModels:function(n){n.sort(this.compare)},formatModals:function(n,t){var f=this,r=n,h=r.length,e=[],o=!1,i,s,u;for(!t.VehicleDetail&&!PartialModelObj.DisplayName||(i="",i=PartialModelObj.DisplayName?PartialModelObj:t.VehicleDetail.VehicleInfo.Vehicle.Model,i.Id=i.Id||"",i.BodyTypeId=i.BodyTypeId||"",i.BodyType=i.BodyType||"",i.CabTypeId=i.CabTypeId||"",i.CabType=i.CabType||"",i.Doors=i.Doors||"",i.DisplayName=i.DisplayName||"",$.map(t.Models,function(n){n.ModelId=n.ModelId||"";n.BodyTypeId=n.BodyTypeId||"";n.CabTypeId=n.CabTypeId||"";n.Id==i.Id&&(o=!0);n.Id==i.Id&&(n.BodyTypeId==i.BodyTypeId&&n.CabTypeId==i.CabTypeId&&n.Doors==i.Doors||n.DisplayName==i.DisplayName)&&e.push(n)}),e.length==0&&o&&(s={Id:i.Id,BodyTypeId:i.BodyTypeId,BodyType:i.BodyType,CabTypeId:i.CabTypeId,CabType:i.CabType,Doors:i.Doors,UniqueId:f.formatModelUniqueId(i),Value:i.DisplayName,onlyModelText:i.Name,Image:i.Image,Name:i.DisplayName,DisplayName:i.DisplayName},r.push(s))),u=0;u<h;u++)r[u].Id=r[u].Id,r[u].BodyTypeId=r[u].BodyTypeId||"",r[u].BodyType=r[u].BodyType||"",r[u].CabTypeId=r[u].CabTypeId||"",r[u].CabType=r[u].CabType||"",r[u].Doors=r[u].Doors,r[u].UniqueId=f.formatModelUniqueId(r[u]),r[u].Value=r[u].DisplayName||"",r[u].onlyModelText=r[u].Name,r[u].Image=r[u].Image,r[u].Name=r[u].DisplayName||"",r[u].DisplayName=r[u].DisplayName||"";return f.sortModels(r),r},formatTrimUniqueId:function(n){return n.FuelTypeId=n.FuelTypeId||"",n.Id+""+n.FuelTypeId},sortTrims:function(n){n.sort(this.compare)},formatTrims:function(n,t){var e=this,i=n.slice(),h=i.length,o=[],s=!1,r,u,f;for(!t.VehicleDetail||(r="",r=PartialTrimObj.DisplayName?PartialTrimObj:t.VehicleDetail.VehicleInfo.Vehicle.Trim,r.Id=r.Id||"",r.FuelTypeId=r.FuelTypeId||"",r.FuelType=r.FuelType||"",r.DisplayName=r.DisplayName||"",$.map(t.Trims,function(n){n.TrimId=n.TrimId||"";n.FuelTypeId=n.FuelTypeId||"";n.Id==r.Id&&(s=!0);n.Id==r.Id&&(n.FuelTypeId==r.FuelTypeId||n.DisplayName==r.DisplayName)&&o.push(n)}),o.length==0&&s&&(f={Id:r.Id,FuelTypeId:r.FuelTypeId,FuelType:r.FuelType,UniqueId:e.formatTrimUniqueId(r),Value:r.DisplayName,onlyTrimText:r.Name,Name:r.DisplayName,DisplayName:r.DisplayName},i.push(f))),u=0;u<h;u++)i[u].Id=i[u].Id,i[u].FuelTypeId=i[u].FuelTypeId||"",i[u].FuelType=i[u].FuelType||"",i[u].UniqueId=e.formatTrimUniqueId(i[u]),i[u].Value=i[u].DisplayName||"",i[u].onlyTrimText=i[u].Name,i[u].Name=i[u].DisplayName||"",i[u].DisplayName=i[u].DisplayName||"";return e.sortTrims(i),i.length>1&&(f={Id:-1,FuelTypeId:"",FuelType:"",UniqueId:"-1",Value:"Not sure",onlyTrimText:"Not sure",Name:"Not sure"},i.unshift(f)),i},setDataInList:function(n,t){var r=this,i="",u;switch(n){case"year":if(t.length>0){for(r.hideLoadingMask("year"),index=0;index<t.length;index++)i+='<a href="#" class="list-group-item panelListItem tab-index-flow" data-text="'+t[index].Name+'" data-value="'+t[index].Id+'" >'+t[index].Name+'<i class="icon-ok-circled ui-icon-input-Success greenSelectIcon"><\/i><\/a>';i+="<br />"}break;case"make":if(t.length>0){for(u=$("#yearInput").val()>=1981?!1:!0,r.hideLoadingMask("make"),index=0;index<t.length;index++)i+=u?'<a href="#" class="list-group-item panelListItem tab-index-flow makeTDClass" data-text="'+t[index].Name+'" data-value="'+t[index].Id+'" >'+t[index].Name+'<i class="icon-ok-circled ui-icon-input-Success greenSelectIcon"><\/i><\/a>':'<a href="#" class="list-group-item panelListItem tab-index-flow panelListItemImage" data-text="'+t[index].Name+'" data-value="'+t[index].Id+'" ><table cellspacing="0" cellpadding="5" border="0" width="100%"><tr><td class="checkboxTD"> <img id="MakeImage'+t[index].Id+'" class="large MakeImageClass" src="//'+com.site.Config.PeddleDomainUrl+"/"+t[index].Image+'" onError="com.site.CarInfo.setMakeDefaultImage(this.id)" /> <\/td><td>'+t[index].Name+'<\/td><td><i class="icon-ok-circled ui-icon-input-Success greenSelectIcon marginTop0"><\/i><\/td><\/tr><\/table><\/a>';i+="<br />"}break;case"model":t.length>0&&(r.hideLoadingMask("model"),$.map(t,function(n){i+='<a href="#" class="list-group-item panelListItem tab-index-flow" data-onlymodeltext="'+n.onlyModelText+'"  data-bodytypeid="'+n.BodyTypeId+'" data-bodytypetext="'+n.BodyType+'" data-cabtypeid="'+n.CabTypeId+'" data-cabtypetext="'+n.CabType+'" data-doors="'+n.Doors+'" data-text="'+n.Name+'" data-value="'+n.Id+'" data-uniqueid="'+n.UniqueId+'" >'+n.Name+'<i class="icon-ok-circled ui-icon-input-Success greenSelectIcon"><\/i><\/a>'}),i+="<br />");break;case"trim":if(t.length>0&&(r.hideLoadingMask("trim"),$.map(t,function(n){i+='<a href="#" class="list-group-item panelListItem tab-index-flow" data-onlytrimtext="'+n.onlyTrimText+'"  data-fueltypeid="'+n.FuelTypeId+'" data-fueltypetext="'+n.FuelType+'" data-text="'+n.Name+'" data-value="'+n.Id+'" data-uniqueid="'+n.UniqueId+'" >'+n.Name+'<i class="icon-ok-circled ui-icon-input-Success greenSelectIcon"><\/i><\/a>'})),t.length<9)for(index=9-t.length;index>0;index--)i+="<br />"}$("#"+n+"List").html("");$("#"+n+"List").html(i);$("#"+n+"ListContainer").show()},ClearTitleAsPerTitleType:function(n){n==3?this.setClearTitleType(!0):(n==1||n==2)&&this.setClearTitleType(!1)},AttachCarInfoEvents:function(){var n=this,i=!1,t;this.subscribe();$("#yearInput, #makeInput, #modelInput, #trimInput, #vinInput ,#zipInput").val("");$("#yearInput, #makeInput, #modelInput, #trimInput").bind({blur:function(){$(this).parent().find("input").val()==""&&($("#"+this.id).closest(".ui-input").children(".icon-cancel-circled.ui-icon-input").hide(),$("#"+this.id).change());var t=this;setTimeout(function(){$("#"+t.id).closest(".ui-input").children(".icon-cancel-circled.ui-icon-input").hide();$(t).parent().find("input").val()==""&&($("#"+t.id).change(),n.validateInput(t.id,!1,!1),n.checkCurrentCarInfoSet(t.id.replace("Input","")))},200,t)},focus:function(){$(this).parent().find("input").val()!=""&&$(this).closest(".ui-input").children(".icon-cancel-circled.ui-icon-input").show()},click:function(){jQuery.browser.mobile&&$("#"+this.id.replace("Input","")+" .titleHr").offset().top>0&&!com.site.Util.isiPhone()&&$("#wrap").animate({scrollTop:$("#"+this.id.replace("Input","")+" .titleHr").offset().top+$("#wrap").scrollTop()})},keypress:function(n){if(this.id=="yearInput")return com.site.Util.checkCharacter(n)},keyup:function(t){var r=!1,i=com.site.Util.getKeyCode(t);i!=9&&i!=37&&i!=38&&i!=39&&i!=40&&(r=!0);n.validateInput(this.id,!1,r);n.checkCurrentCarInfoSet(this.id.replace("Input",""))},paste:function(){var t=this;setTimeout(function(){n.validateInput(t.id,!1,!0);n.checkCurrentCarInfoSet(t.id.replace("Input",""))},50,t)},change:function(){n.carInfoChanged()}});$("#zipInput").bind({blur:function(){setTimeout(function(){n.validateCarZipCode(!1);n.checkCurrentCarInfoSet("location")},200)},keypress:function(n){return com.site.Util.checkCharacter(n)},keyup:function(){var t=this;setTimeout(function(){$(t).val().length>5&&$(t).val($(t).val().substring(0,5));$("#zipInput").closest(".ui-input").children(".icon-spin5.ui-icon-input").hide();n.validateCarZipCode(!1);n.checkCurrentCarInfoSet("location")},150,t)},keydown:function(t){var i=com.site.Util.getKeyCode(t),r=this;return setTimeout(function(){i==com.site.Config.ENTER_KEY_CODE&&n.IsCurrentAnswerSet("location")&&n.moveToNextSlide()},0,r,i),i==com.site.Config.ENTER_KEY_CODE?(t.stopPropagation(),t.preventDefault(),!1):void 0},paste:function(){var t=this;setTimeout(function(){$(t).val().length>5&&$(t).val($(t).val().substring(0,5));$("#zipInput").closest(".ui-input").children(".icon-spin5.ui-icon-input").hide();n.validateCarZipCode(!1);n.checkCurrentCarInfoSet("location")},50,t)},click:function(){jQuery.browser.mobile&&$("#location hr").offset().top>0&&!com.site.Util.isiPhone()&&$("#wrap").animate({scrollTop:$("#location hr").offset().top+$("#wrap").scrollTop()})},focus:function(){$("#zipInput").closest(".ui-input").children(".icon-spin5.ui-icon-input").hide()}});$("#zipInput").on("blur change click keyup",function(){var t=this;setTimeout(function(){($(t).val()==""||$(t).val().length<5)&&$("#zipStateContainer").hide()},200,n,t)});$("#vinInput").bind({blur:function(){setTimeout(function(){$.trim($("#vinInput").val()).length==com.site.Config.MaxVINLength&&n.IsVinValidated==!0&&n.getCurrentOpenSlide()=="vin"&&n.verifyVin()},200)},keypress:function(t){if(com.site.Util.checkVINCharecter(t)){var i=this;n.IsVinValidated=!1;n.disableNextSlideButton();setTimeout(function(){var n=com.site.Util.getCaretPosition(i);$(i).val($(i).val().toUpperCase());com.site.Util.setCaretPosition(i,n)},20,n,i)}else return!1},keyup:function(){var t=this;setTimeout(function(){$(t).val().length>com.site.Config.MaxVINLength&&$(t).val($(t).val().substring(0,com.site.Config.MaxVINLength));com.site.Util.removeErrorStateToInput("vinInput",!1);$.trim($("#vinInput").val()).length==com.site.Config.MaxVINLength&&n.IsVinValidated==!1&&n.verifyVin()},150,t)},keydown:function(t){var i=com.site.Util.getKeyCode(t),r=this;return setTimeout(function(){i==com.site.Config.ENTER_KEY_CODE&&n.IsCurrentAnswerSet("vin")&&n.moveToNextSlide()},0,r,i),i==com.site.Config.ENTER_KEY_CODE?(t.stopPropagation(),t.preventDefault(),!1):void 0},paste:function(){var t=this;setTimeout(function(){$(t).val().length>com.site.Config.MaxVINLength&&$(t).val($(t).val().substring(0,com.site.Config.MaxVINLength));com.site.Util.removeErrorStateToInput("vinInput",!1);n.disableNextSlideButton();n.IsVinValidated=!1;com.site.Util.validateAndFormateVIN(t);$.trim($("#vinInput").val()).length==com.site.Config.MaxVINLength&&n.IsVinValidated==!1&&n.verifyVin()},50,t)},click:function(){jQuery.browser.mobile&&$("#"+this.id.replace("Input","")+" hr").offset().top>0&&!com.site.Util.isiPhone()&&$("#wrap").animate({scrollTop:$("#"+this.id.replace("Input","")+" hr").offset().top+$("#wrap").scrollTop()})}});$("#vinInput").on("blur change click keyup",function(){var t=this;setTimeout(function(){($(t).val()==""||$(t).val().length<com.site.Config.MaxVINLength)&&($("#vinDecodeContainer").hide(),n.disableNextSlideButton())},200,n,t)});$(".vinSearchList").on("tap click",function(){return(vinBackRedirect=this.getAttribute("data-name"),!i)?(i=!0,setTimeout(function(){i=!1},100),com.site.Util.removeErrorStateToInput("vinInput",!1),n.postMoveToVINSlide(),!1):!1});$("#titleType .checkboxList a").bind("touchstart touchend",function(){$(this).toggleClass("listHover")});$("#conditionType .checkboxList a").bind("touchstart touchend",function(){$(this).toggleClass("listHover")});t=!1;$("#titleType .checkboxList a").on("click tap",function(){if(!t){t=!0;setTimeout(function(){t=!1},100);n.carInfoChanged();var i="",r=n.getAllCarInfo().titleType;return this.id.indexOf("Yes")!=-1?(i=this.id.replace("CheckboxYesPanelListId",""),i=="titleType"&&n.setTitleType(1),n.resetConditionAnswer(i),n.setConditionAnswer(i,"Yes",!0)):this.id.indexOf("No")!=-1?(i=this.id.replace("CheckboxNoPanelListId",""),i=="titleType"&&n.setTitleType(3),n.resetConditionAnswer(i),n.setConditionAnswer(i,"No",!0)):this.id.indexOf("Partial")!=-1&&(i=this.id.replace("CheckboxPartialPanelListId",""),i=="titleType"&&n.setTitleType(2),n.resetConditionAnswer(i),n.setConditionAnswer(i,"Partial",!0)),n.ClearTitleAsPerTitleType(r),!1}});$("#conditionType .checkboxList a").on("click tap",function(){if(!t){t=!0;setTimeout(function(){t=!1},100);n.carInfoChanged();var i="";return this.id.indexOf("Yes")!=-1?(i=this.id.replace("CheckboxYesPanelListId",""),i=="conditionType"&&n.setConditionType(1),n.resetConditionAnswer(i),n.setConditionAnswer(i,"Yes",!0)):this.id.indexOf("No")!=-1&&(i=this.id.replace("CheckboxNoPanelListId",""),i=="conditionType"&&n.setConditionType(2),n.resetConditionAnswer(i),n.setConditionAnswer(i,"No",!0)),!1}});jQuery.browser.mobile||com.site.Util.initKeyNavigationPlugin("#titleType")},AttachInputListEvents:function(n){var t=this,i=!1;$("#"+n+" .list-group a").bind("touchstart touchend",function(){$(this).toggleClass("listHover")});$("#"+n+" .list-group a").on("tap click",function(){if(!i){if(i=!0,setTimeout(function(){i=!1},100),$(this).parent().hasClass("vinSearchList"))return;this.parentNode.id.replace("List","")=="trim"&&$(this).attr("data-text")!=$("#"+this.parentNode.id.replace("List","")+"Input").val()&&(t.carInfoChanged(),t.setInputValue("vin",""),$("#vinInput").val(""),$("#vinDecodeContainer").hide(),com.site.Util.resetInputState("vinInput",!1));$("#"+this.parentNode.id.replace("List","")+"Input").val($(this).attr("data-text"));var n=t.validateInput(this.parentNode.id.replace("List","")+"Input",!1,!1,$(this).data());return(t.checkCurrentCarInfoSet(this.parentNode.id.replace("List","")),this.parentNode.id.replace("List","")=="trim"&&$(this).attr("data-text")=="Not sure"&&$("#IsInitialOfferPush").val()!=="true")?(t.openNotSureTrimPopup(),!1):(n&&t.autoForwardToNextSlide(),!1)}});jQuery.browser.mobile||com.site.Util.initKeyNavigationPlugin("#"+n)},setDataInCarPanels:function(n){var r=this,t,i;!n.Year.Name||(this.setCarInfoInput("year",n.Year.Name,n.Year.Id),this.addSelectStateToYmms("year",n.Year.Name),!n.Make.Name||(this.setCarInfoInput("make",n.Make.Name,n.Make.Id),this.addSelectStateToYmms("make",n.Make.Name),this.setPreviousInputValue("year",n.Year.Id),!n.Model.Name||(t={Id:n.Model.Id,BodyTypeId:n.Model.BodyTypeId,BodyType:n.Model.BodyType,CabTypeId:n.Model.CabTypeId,CabType:n.Model.CabType,Doors:n.Model.Doors,UniqueId:r.formatModelUniqueId(n.Model),Value:com.site.Util.decodeHtml(n.Model.DisplayName),Image:n.Model.Image,Name:com.site.Util.decodeHtml(n.Model.DisplayName),OnlyModelText:com.site.Util.decodeHtml(n.Model.Name)},this.setCarInfoInput("model",t.Name,t.Id),this.setPreviousInputValue("make",n.Make.Id),this.setBodyTypeValue(t.BodyTypeId),this.setOnlyModelText(t.OnlyModelText),this.setBodyTypeText(t.BodyType),this.setCabTypeValue(t.CabTypeId),this.setCabTypeText(t.CabType),this.setDoorsValue(t.Doors),this.addSelectStateToYmms("model",t.Name),n.Trim.Name?(i={Id:n.Trim.Id,FuelTypeId:n.Trim.FuelTypeId,FuelType:n.Trim.FuelType,UniqueId:r.formatTrimUniqueId(n.Trim),Value:com.site.Util.decodeHtml(n.Trim.DisplayName),Name:com.site.Util.decodeHtml(n.Trim.DisplayName),OnlyTrimText:com.site.Util.decodeHtml(n.Trim.Name)},this.getTrimCallback(n),this.setCarInfoInput("trim",i.Name,i.Id),this.setPreviousInputValue("model",t.Name),this.setFuelTypeValue(i.FuelTypeId),this.setOnlyTrimText(i.OnlyTrimText),this.setFuelTypeText(i.FuelType),this.addSelectStateToYmms("trim",i.Name)):parseInt(n.Year.Name)>=com.site.Config.OptionalTrimAndVINForPreYear&&this.setPreviousInputValue("model",t.Name))))},setDataInLocation:function(n){$("#zipInput").val(n.ZipCode);this.setDataInZipContainer(n)}},com){if(typeof com!="object")throw new Error("com already exists and is not an object");}else com={};if(com.site){if(typeof com.site!="object")throw new Error("com.site already exists and is not an object");}else com.site={};if(com.site.Conditions){if(typeof com.site.Conditions!="object")throw new Error("com.site.Conditions already exists and is not an object");}else com.site.Conditions={};if(com.site.Conditions.conditionAnswer=["Yes","No","Partial"],com.site.Conditions.conditionQuestionProperty=[{name:"tires",isVisible:!0,answer:"",lableId:"tiresLabel",setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer},modalOptionElement:[{name:"flatTire",DSFOption:!1,PSFOption:!1,DSROption:!1,PSROption:!1,setDSFOption:function(n){this.DSFOption=n},setPSFOption:function(n){this.PSFOption=n},setDSROption:function(n){this.DSROption=n},setPSROption:function(n){this.PSROption=n},getDSFOption:function(){return this.DSFOption},getPSFOption:function(){return this.PSFOption},getDSROption:function(){return this.DSROption},getPSROption:function(){return this.PSROption}},{name:"missingTire",DSFOption:!1,PSFOption:!1,DSROption:!1,PSROption:!1,setDSFOption:function(n){this.DSFOption=n},setPSFOption:function(n){this.PSFOption=n},setDSROption:function(n){this.DSROption=n},setPSROption:function(n){this.PSROption=n},getDSFOption:function(){return this.DSFOption},getPSFOption:function(){return this.PSFOption},getDSROption:function(){return this.DSROption},getPSROption:function(){return this.PSROption}}]},{name:"keyAndBattery",isVisible:!1,answer:"",lableId:"keyAndBatteryLabel",setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer},modalOptionElement:[]},{name:"drivable",isVisible:!0,answer:"",lableId:"drivableLabel",setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer},modalOptionElement:[]},{name:"underTheHood",isVisible:!1,answer:"",lableId:"underTheHoodLabel",setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer},modalOptionElement:[]},{name:"taxiUsage",isVisible:!1,answer:"",lableId:"taxiUsageLabel",setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer},modalOptionElement:[]},{name:"mileage",isVisible:!0,answer:"",answerText:"",lableId:"mileageLabel",setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer},setTextAnswer:function(n){this.answerText=n},getTextAnswer:function(){return this.answerText},modalOptionElement:[]},{name:"bodyPanel",isVisible:!0,answer:"",lableId:"bodyPanelLabel",setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer},modalOptionElement:[{name:"missingPanel",DSFOption:!1,PSFOption:!1,DSROption:!1,PSROption:!1,setDSFOption:function(n){this.DSFOption=n},setPSFOption:function(n){this.PSFOption=n},setDSROption:function(n){this.DSROption=n},setPSROption:function(n){this.PSROption=n},getDSFOption:function(){return this.DSFOption},getPSFOption:function(){return this.PSFOption},getDSROption:function(){return this.DSROption},getPSROption:function(){return this.PSROption}}]},{name:"bodyDamage",isVisible:!0,answer:"",lableId:"bodyDamageLabel",setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer},modalOptionElement:[{name:"bodyDamage",DSFOption:!1,PSFOption:!1,DSROption:!1,PSROption:!1,setDSFOption:function(n){this.DSFOption=n},setPSFOption:function(n){this.PSFOption=n},setDSROption:function(n){this.DSROption=n},setPSROption:function(n){this.PSROption=n},getDSFOption:function(){return this.DSFOption},getPSFOption:function(){return this.PSFOption},getDSROption:function(){return this.DSROption},getPSROption:function(){return this.PSROption}}]},{name:"glassAndLight",isVisible:!0,answer:"",lableId:"glassAndLightLabel",setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer},modalOptionElement:[{name:"glassDamage",DSFOption:!1,PSFOption:!1,DSROption:!1,PSROption:!1,setDSFOption:function(n){this.DSFOption=n},setPSFOption:function(n){this.PSFOption=n},setDSROption:function(n){this.DSROption=n},setPSROption:function(n){this.PSROption=n},getDSFOption:function(){return this.DSFOption},getPSFOption:function(){return this.PSFOption},getDSROption:function(){return this.DSROption},getPSROption:function(){return this.PSROption}}]},{name:"interiorItems",isVisible:!0,answer:"",lableId:"interiorItemsLabel",setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer},modalOptionElement:[]},{name:"floodAndFire",isVisible:!0,answer:"",lableId:"floodAndFireLabel",setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer},modalOptionElement:[]}],com.site.Conditions.ConditionPageControl=function(n){this.CQId=com.site.Conditions.conditionQuestionProperty;this.conditionAnswer=com.site.Conditions.conditionAnswer;this.postEnableNextButton=n.postEnableNextButton;this.postDisableNextButton=n.postDisableNextButton;this.postMoveToNextSlide=n.postMoveToNextSlide;this.postMoveToPreviousSlide=n.postMoveToPreviousSlide;this.postMoveToSlide=n.postMoveToSlide;this.autoForwardToNextSlide=n.autoForwardToNextSlide;this.getEstimatedMileage=n.getEstimatedMileage;this.openMileageConfirmationPopup=n.openMileageConfirmationPopup;this.openNonDrivableConfirmationPopup=n.openNonDrivableConfirmationPopup;this.openNonDrivableAndNonStartConfirmationPopup=n.openNonDrivableAndNonStartConfirmationPopup;this.openUnableToVerifyMileagePopup=n.openUnableToVerifyMileagePopup;this.yearTextFromCarInfo="";this.AttachConditionQuestionEvent();this.currentOpenSlideId="";this.isMileageConfirmed=!1;this.isWheelRemovedConfirmed=!1;this.isKeyAndBatteryRemovedConfirmed=!1;this.mileageConfirmedYear=""},com.site.Conditions.ConditionPageControl.prototype={setCurrentOpenSlide:function(n){this.currentOpenSlideId=n},getCurrentOpenSlide:function(){return this.currentOpenSlideId},moveToNextSlide:function(){var i;if(this.IsCurrentAnswerSet(this.getCurrentOpenSlide())){var n=this.getSlideIndexFromSlideName("underTheHood"),t=this.getSlideIndexFromSlideName("taxiUsage"),r=this.getSlideIndexFromSlideName("keyAndBattery");if(this.getCurrentOpenSlide()=="tires"){this.CQId[r].isVisible?this.moveToSlide("keyAndBattery"):this.moveToSlide("drivable");return}if(this.getCurrentOpenSlide()=="drivable"){if(this.getConditionAnswerOfSlide("drivable")==com.site.Conditions.conditionAnswer[0]||this.getConditionAnswerOfSlide("drivable")==com.site.Conditions.conditionAnswer[2]){this.setConditionAnswer("underTheHood",com.site.Conditions.conditionAnswer[0],"","",!1);this.CQId[n].isVisible=!1;this.CQId[t].isVisible?this.moveToSlide("taxiUsage"):this.moveToSlide("mileage");return}this.CQId[n].isVisible=!0}if(this.getCurrentOpenSlide()=="underTheHood"){this.CQId[t].isVisible?this.moveToSlide("taxiUsage"):this.moveToSlide("mileage");return}if(this.getCurrentOpenSlide()=="taxiUsage"){this.moveToSlide("mileage");return}this.postMoveToNextSlide()}else this.getCurrentOpenSlide()=="mileage"&&(i='Enter mileage or select "Unable to verify."'),com.site.Util.showErrorAlert(i)},moveToPreviousSlide:function(){if(this.getCurrentOpenSlide()=="mileage"&&this.IsSlideVisible("taxiUsage")){this.moveToSlide("taxiUsage");return}if(this.getCurrentOpenSlide()=="taxiUsage"&&!this.IsSlideVisible("underTheHood")){this.moveToSlide("drivable");return}if(this.getCurrentOpenSlide()=="drivable"&&!this.IsSlideVisible("keyAndBattery")){this.moveToSlide("tires");return}if(this.getCurrentOpenSlide()=="mileage"&&!this.IsSlideVisible("underTheHood")){this.moveToSlide("drivable");return}if(this.getCurrentOpenSlide()=="mileage"&&this.IsSlideVisible("underTheHood")){this.moveToSlide("underTheHood");return}this.postMoveToPreviousSlide()},moveToSlide:function(n){this.postMoveToSlide(n)},IsSlideVisible:function(n){for(var t=0;t<this.CQId.length;t++)if(this.CQId[t].name==n)return this.CQId[t].isVisible;return!1},setSubConditionIcon:function(n,t,i,r){var u="partial";r.DSFOption&&(u+="TL");r.PSFOption&&(u+="TR");r.PSROption&&(u+="BR");r.DSROption&&(u+="BL");com.site.Config.IsConditionModalEnable||n!="bodyDamage"&&n!="bodyPanel"&&n!="tires"&&n!="glassAndLight"?com.site.Config.IsConditionModalEnable&&(n=="bodyDamage"||n=="bodyPanel"||n=="tires"||n=="glassAndLight")&&(r.DSFOption||r.PSFOption||r.PSROption||r.DSROption||t!=com.site.Conditions.conditionAnswer[2]&&t!=com.site.Conditions.conditionAnswer[1]||(u="Negative")):(n!="tires"||t!=com.site.Conditions.conditionAnswer[2])&&(n=="tires"||t!=com.site.Conditions.conditionAnswer[1])&&(com.site.Config.IsConditionModalForTiresRemovedEnable||n!="tires"||t!=com.site.Conditions.conditionAnswer[1])&&(r.DSFOption||r.PSFOption||r.PSROption||r.DSROption||n!="tires"||t!=com.site.Conditions.conditionAnswer[1])||(u="Negative");this.removeSubConditionIcon(n,t);$("#"+n+"Checkbox"+t+"Id").addClass(u)},removeSubConditionIcon:function(n,t){if($("#"+n+"Checkbox"+t+"Id").length>0){var i=$("#"+n+"Checkbox"+t+"Id").attr("class").split(/\s+/);$.each(i,function(i,r){r.indexOf("partial")==0&&$("#"+n+"Checkbox"+t+"Id").removeClass(r)})}},setConditionAnswer:function(n,t,i,r,u){var f="",e="",o;if(f=this.getSlideIndexFromSlideName(n),$("#"+n+" .list-group-item.listSelected").removeClass("listSelected"),this.CQId[f].setAnswer(t),t==com.site.Conditions.conditionAnswer[0]?($("#"+n+"CheckboxYesId.customCheckbox input").iCheck("check"),$("#"+n+"CheckboxYesId").parents(".list-group-item").addClass("listSelected")):t==com.site.Conditions.conditionAnswer[1]?($("#"+n+"CheckboxNoId.customCheckbox input").iCheck("check"),$("#"+n+"CheckboxNoId").parents(".list-group-item").addClass("listSelected")):t==com.site.Conditions.conditionAnswer[2]&&($("#"+n+"CheckboxPartialId.customCheckbox input").iCheck("check"),$("#"+n+"CheckboxPartialId").parents(".list-group-item").addClass("listSelected")),this.CQId[f].modalOptionElement.length>0&&i!=""){for(o=0;o<this.CQId[f].modalOptionElement.length;o++)if(this.CQId[f].modalOptionElement[o].name==i){e=o;break}e!==""&&(this.CQId[f].modalOptionElement[e].setDSFOption(r.DSFOption),this.CQId[f].modalOptionElement[e].setPSFOption(r.PSFOption),this.CQId[f].modalOptionElement[e].setDSROption(r.DSROption),this.CQId[f].modalOptionElement[e].setPSROption(r.PSROption))}this.setSubConditionIcon(n,t,e,r);this.checkCurrentConditionSet(n);u&&this.autoForwardToNextSlide()},resetConditionAnswer:function(n){var t="",i;if(t=this.getSlideIndexFromSlideName(n),$("#"+n+" .list-group-item.listSelected").removeClass("listSelected"),this.CQId[t].setAnswer(""),$("#"+n+" .customCheckbox input").iCheck("uncheck"),this.CQId[t].modalOptionElement.length>0)for(i=0;i<this.CQId[t].modalOptionElement.length;i++)this.CQId[t].modalOptionElement[i].setDSFOption(!1),this.CQId[t].modalOptionElement[i].setPSFOption(!1),this.CQId[t].modalOptionElement[i].setDSROption(!1),this.CQId[t].modalOptionElement[i].setPSROption(!1);this.removeSubConditionIcon(n,com.site.Conditions.conditionAnswer[0]);this.removeSubConditionIcon(n,com.site.Conditions.conditionAnswer[1]);this.removeSubConditionIcon(n,com.site.Conditions.conditionAnswer[2]);this.checkCurrentConditionSet(n)},getSlideIndexFromSlideName:function(n){for(var t=0;t<this.CQId.length;t++)if(this.CQId[t].name==n)return t;return""},getConditionTextAnswerOfSlide:function(n){var t=this.getSlideIndexFromSlideName(n);return t!==""?this.CQId[t].getTextAnswer():""},getConditionAnswerOfSlide:function(n){var t=this.getSlideIndexFromSlideName(n);return t!==""?this.CQId[t].getAnswer():""},getConditionAnswerOfSlideModal:function(n,t){for(var r="",u="",i=0;i<this.CQId.length;i++)if(this.CQId[i].name==n){r=i;break}for(i=0;i<this.CQId[r].modalOptionElement.length;i++)if(this.CQId[r].modalOptionElement[i].name==t){u=i;break}return{DSFOption:this.CQId[r].modalOptionElement[u].getDSFOption(),PSFOption:this.CQId[r].modalOptionElement[u].getPSFOption(),DSROption:this.CQId[r].modalOptionElement[u].getDSROption(),PSROption:this.CQId[r].modalOptionElement[u].getPSROption()}},getAllConditionAnswer:function(){var t="",n=this.getConditionAnswerOfSlide("mileage");return!this.getConditionAnswerOfSlide("mileage")||(t=com.site.Util.getFormatedMileage(this.getConditionAnswerOfSlide("mileage"))),!n||(n=n>999e3?999e3:n),{drivable:this.getConditionAnswerOfSlide("drivable"),underTheHood:this.getConditionAnswerOfSlide("underTheHood"),taxiUsage:this.getConditionAnswerOfSlide("taxiUsage"),keyAndBattery:this.getConditionAnswerOfSlide("keyAndBattery"),mileage:n,mileageText:t,bodyPanel:this.getConditionAnswerOfSlide("bodyPanel"),interiorItems:this.getConditionAnswerOfSlide("interiorItems"),tires:this.getConditionAnswerOfSlide("tires"),bodyDamage:this.getConditionAnswerOfSlide("bodyDamage"),glassAndLight:this.getConditionAnswerOfSlide("glassAndLight"),floodAndFire:this.getConditionAnswerOfSlide("floodAndFire"),missingPanelModal:this.getConditionAnswerOfSlideModal("bodyPanel","missingPanel"),bodyDamageModal:this.getConditionAnswerOfSlideModal("bodyDamage","bodyDamage"),flatTireModal:this.getConditionAnswerOfSlideModal("tires","flatTire"),missingTireModal:this.getConditionAnswerOfSlideModal("tires","missingTire"),glassDamageModal:this.getConditionAnswerOfSlideModal("glassAndLight","glassDamage")}},getSlideNameFromModalElement:function(n){for(var i,t=0;t<this.CQId.length;t++)for(i=0;i<this.CQId[t].modalOptionElement.length;i++)if(this.CQId[t].modalOptionElement[i].name==n)return this.CQId[t].name},IsAllAnsweredSet:function(){for(var t,n=0;n<this.CQId.length;n++)if(t=this.CQId[n],t.isVisible&&t.answer==="")return n;return!0},checkAllConditionSet:function(){if(this.IsAllAnsweredSet()){this.enableNextSlideButton();return}this.disableNextSlideButton()},IsCurrentAnswerSet:function(n){return this.getConditionAnswerOfSlide(n)!==""?!0:!1},checkCurrentConditionSet:function(n){if(this.IsCurrentAnswerSet(n)){this.enableNextSlideButton();return}this.disableNextSlideButton()},enableNextSlideButton:function(){this.postEnableNextButton()},disableNextSlideButton:function(){this.postDisableNextButton()},IsAnswerTillCurrentSlideSet:function(n){for(var i,t=0;t<this.CQId.length;t++){if((i=this.CQId[t],i.isVisible&&i.answer===""&&i.name!=n)||t===this.getSlideIndexFromSlideName("mileage")&&!this.checkToShowMileageConfirmationModal())return t;if(t===this.getSlideIndexFromSlideName("tires")&&this.getConditionAnswerOfSlide("tires")=="No"&&!this.getWheelRemovedConfirmed())return this.openNonDrivableConfirmationPopup(),t;if(i.name==n)break}return!0},setWheelRemovedConfirmed:function(n){this.isWheelRemovedConfirmed=n},getWheelRemovedConfirmed:function(){return this.isWheelRemovedConfirmed},setKeyAndBatteryRemovedConfirmed:function(n){this.isKeyAndBatteryRemovedConfirmed=n},getKeyAndBatteryRemovedConfirmed:function(){return this.isKeyAndBatteryRemovedConfirmed},addMileageSuccessState:function(n){$("#mileage .greenSelectIcon").hide();$('#mileage .panelListItem[data-value="'+n+'"]').closest(".list-group-item").find(".greenSelectIcon").show();$('#mileage .panelListItem[data-value="'+n+'"]').closest(".list-group-item").addClass("listSelected")},resetMileageInput:function(){com.site.Util.removeErrorStateToInput("mileageInput",!1);$("#mileageInput").val("");$("#mileageInput").blur();var n=this.getSlideIndexFromSlideName("mileage");this.CQId[n].setAnswer("");this.CQId[n].setTextAnswer("");this.validateMileageInput()},setMileageInput:function(n,t,i){var r=this.getSlideIndexFromSlideName(n);this.CQId[r].setAnswer(i);this.CQId[r].setTextAnswer($.trim(t))},setMileageValue:function(n){if(n===0)$("#unableToVerifyMileageId input").iCheck("check"),$("#mileageInput").val(""),$("#mileageInput").attr("disabled",!0),$(".mileageClass, .autoLockMileageInput").addClass("mileageClassdisabled");else if(!!n){n=n<1e3?1:Math.floor(n/1e3);$("#mileageInput").attr("disabled",!1);$(".mileageClass, .autoLockMileageInput").removeClass("mileageClassdisabled");var t=(""+n).replace(/\D/g,"");$("#mileageInput").val(com.site.Util.add_commas(com.site.Util.removeLeadingZero(n)))}this.validateMileageInput()},setDataInConditionsQuestions:function(n){var t,i,r,u,f;n.IsVehicleDrives=="Yes"?this.setConditionAnswer("drivable",com.site.Conditions.conditionAnswer[0],"","",!1):n.IsEngineStart=="Yes"?this.setConditionAnswer("drivable",com.site.Conditions.conditionAnswer[2],"","",!1):(this.setConditionAnswer("drivable",com.site.Conditions.conditionAnswer[1],"","",!1),n.IsCompleteEngine=="Yes"&&n.IsEngineRemoved=="No"?this.setConditionAnswer("underTheHood",com.site.Conditions.conditionAnswer[0],"","",!1):n.IsCompleteEngine=="No"&&n.IsEngineRemoved=="No"?this.setConditionAnswer("underTheHood",com.site.Conditions.conditionAnswer[2],"","",!1):n.IsCompleteEngine=="No"&&n.IsEngineRemoved=="Yes"&&this.setConditionAnswer("underTheHood",com.site.Conditions.conditionAnswer[1],"","",!1));n.ExactMileage!=null&&n.ExactMileage!==""&&(this.setMileageValue(n.ExactMileage),this.setMileageConfirmed(!0));!n.VehicleUse||(n.VehicleUse=="Common"?this.setConditionAnswer("taxiUsage",com.site.Conditions.conditionAnswer[0],"","",!1):n.VehicleUse=="Taxi"&&this.setConditionAnswer("taxiUsage",com.site.Conditions.conditionAnswer[1],"","",!1));n.AllMajorBodyPanelsAreIntact=="Yes"?this.setConditionAnswer("bodyPanel",com.site.Conditions.conditionAnswer[0],"","",!1):com.site.Config.IsConditionModalEnable?(t=com.site.Util.getModalOptionsFromObject(n.DamageLocationMissingPanel),this.setConditionAnswer("bodyPanel",com.site.Conditions.conditionAnswer[1],"missingPanel",this.getModalOptionData("missingPanel","No",t),!1)):this.setConditionAnswer("bodyPanel",com.site.Conditions.conditionAnswer[1],"","",!1);this.setConditionAnswer("interiorItems",n.AllInteriorComponentsIntact,"","",!1);n.AllTiresWithAir=="Yes"?this.setConditionAnswer("tires",com.site.Conditions.conditionAnswer[0],"","",!1):n.AreAnyTiresRemoved=="Yes"?((com.site.Config.IsConditionModalEnable||com.site.Config.IsConditionModalForTiresRemovedEnable)&&!!n.DamageLocationTiresRemoved?(i=com.site.Util.getModalOptionsFromObject(n.DamageLocationTiresRemoved),this.setConditionAnswer("tires",com.site.Conditions.conditionAnswer[1],"missingTire",this.getModalOptionData("missingTire","No",i),!1)):this.setConditionAnswer("tires",com.site.Conditions.conditionAnswer[1],"","",!1),$("#drivableCheckboxYesPanelListId").addClass("disabled"),this.setWheelRemovedConfirmed(!0),n.IsVehicleDrives=="Yes"&&(this.resetConditionAnswer("drivable"),this.setConditionAnswer("drivable",com.site.Conditions.conditionAnswer[2],"","",!1))):com.site.Config.IsConditionModalEnable?(r=com.site.Util.getModalOptionsFromObject(n.DamageLocationFlatTire),this.setConditionAnswer("tires",com.site.Conditions.conditionAnswer[2],"flatTire",this.getModalOptionData("flatTire","Partial",r),!1)):this.setConditionAnswer("tires",com.site.Conditions.conditionAnswer[2],"","",!1);n.IsKeyAndBatteryAvailable!=null&&(n.IsKeyAndBatteryAvailable?this.setConditionAnswer("keyAndBattery",com.site.Conditions.conditionAnswer[0],"","",!1):(this.setConditionAnswer("keyAndBattery",com.site.Conditions.conditionAnswer[1],"","",!1),$("#drivableCheckboxYesPanelListId").addClass("disabled"),$("#drivableCheckboxPartialPanelListId").addClass("disabled"),this.setKeyAndBatteryRemovedConfirmed(!0),(n.IsVehicleDrives=="Yes"||n.IsEngineStart=="Yes")&&(this.resetConditionAnswer("drivable"),this.resetConditionAnswer("underTheHood"),this.setConditionAnswer("drivable",com.site.Conditions.conditionAnswer[1],"","",!1),this.setConditionAnswer("underTheHood",com.site.Conditions.conditionAnswer[0],"","",!1))));n.FreeOfDents=="Yes"?this.setConditionAnswer("bodyDamage",com.site.Conditions.conditionAnswer[0],"","",!1):com.site.Config.IsConditionModalEnable?(u=com.site.Util.getModalOptionsFromObject(n.DamageLocationBodyDamage),this.setConditionAnswer("bodyDamage",com.site.Conditions.conditionAnswer[1],"bodyDamage",this.getModalOptionData("bodyDamage","No",u),!1)):this.setConditionAnswer("bodyDamage",com.site.Conditions.conditionAnswer[1],"","",!1);n.AllGlassAndLampsAreIntact=="Yes"?this.setConditionAnswer("glassAndLight",com.site.Conditions.conditionAnswer[0],"","",!1):com.site.Config.IsConditionModalEnable?(f=com.site.Util.getModalOptionsFromObject(n.DamageLocationGlassDamage),this.setConditionAnswer("glassAndLight",com.site.Conditions.conditionAnswer[1],"glassDamage",this.getModalOptionData("glassDamage","No",f),!1)):this.setConditionAnswer("glassAndLight",com.site.Conditions.conditionAnswer[1],"","",!1);this.setConditionAnswer("floodAndFire",n.IsFreeOfFloodAndFireDamage,"","",!1)},getModalOptionData:function(n,t,i){return{id:n,modalAnswer:t,DSFOption:i.DSFOption,PSFOption:i.PSFOption,DSROption:i.DSROption,PSROption:i.PSROption}},checkToShowMileageConfirmationModal:function(){var t=this.getEstimatedMileage(),i=$("#mileageInput").val(),n=i.replace(/\D/g,"")*1e3;return t>=0&&n!=""&&(!this.getMileageConfirmed()||this.getMileageConfirmedYear()!=this.getYearTextFromCarInfo())&&n<t/2?(this.openMileageConfirmationPopup(n),!1):(this.validateMileageInput(),!0)},setMileageConfirmed:function(n){this.isMileageConfirmed=n},getMileageConfirmed:function(){return this.isMileageConfirmed},setMileageConfirmedYear:function(n){this.mileageConfirmedYear=n},getMileageConfirmedYear:function(){return this.mileageConfirmedYear},setYearTextFromCarInfo:function(n){this.yearTextFromCarInfo=n},getYearTextFromCarInfo:function(){return this.yearTextFromCarInfo},validateMileageInput:function(n){var t=this.getSlideIndexFromSlideName("mileage"),i,r;return com.site.Util.isBlank("mileageInput")?(this.CQId[t].setAnswer(""),com.site.Util.removeErrorStateToInput("mileageInput",!1),com.site.Util.resetInputState("mileageInput",!1),this.disableNextSlideButton(),n&&com.site.Util.addErrorStateToInput("mileageInput",!1),$("#unableToVerifyMileageId div").hasClass("checked"))?(this.CQId[t].setAnswer("0"),this.enableNextSlideButton(),!0):!1:(i=$("#mileageInput").val(),r=i.replace(/\D/g,"")*1e3,this.CQId[t].setAnswer(r),setTimeout(function(){com.site.Util.isBlank("mileageInput")||com.site.Util.addSuccessStateToInput("mileageInput",!1)},200),this.enableNextSlideButton(),!0)},checkToShowNonDrivableConfirmationModal:function(){var n=!1;return this.getConditionAnswerOfSlide("drivable")=="Yes"&&(n=!0),n},setSlideVisibility:function(n,t){var i=this.getSlideIndexFromSlideName(n);this.CQId[i].isVisible=t},getSlideVisibility:function(n){var t=this.getSlideIndexFromSlideName(n);return this.CQId[t].isVisible},setYesAnswerAction:function(n){var t=this,i;n=="tires"&&(t.setWheelRemovedConfirmed(!1),i=t.getAllConditionAnswer(),i.keyAndBattery!="No"&&$("#drivableCheckboxYesPanelListId").removeClass("disabled"));n=="keyAndBattery"&&(t.setKeyAndBatteryRemovedConfirmed(!1),i=t.getAllConditionAnswer(),i.tires=="No"?$("#drivableCheckboxPartialPanelListId").removeClass("disabled"):($("#drivableCheckboxYesPanelListId").removeClass("disabled"),$("#drivableCheckboxPartialPanelListId").removeClass("disabled")));t.resetConditionAnswer(n);t.setConditionAnswer(n,com.site.Conditions.conditionAnswer[0],"","",!0)},setNoAnswerAction:function(n){var i="",t=this,r,u;n=="bodyDamage"?i="bodyDamage":n=="bodyPanel"?i="missingPanel":n=="tires"?(i="missingTire",EventTracking("Damage location modal opened","click","Tires removed modal open")):n=="glassAndLight"?i="glassDamage":n=="drivable"&&t.resetConditionAnswer("underTheHood");i!=""&&com.site.Config.IsConditionModalEnable||i=="missingTire"&&com.site.Config.IsConditionModalForTiresRemovedEnable?(r=t.getConditionAnswerOfSlideModal(n,i),conditionPageModal.openModal({id:i,DSFOption:r.DSFOption,PSFOption:r.PSFOption,DSROption:r.DSROption,PSROption:r.PSROption})):n=="tires"?(u=t.getAllConditionAnswer(),u.drivable=="Yes"?t.openNonDrivableConfirmationPopup():(t.setWheelRemovedConfirmed(!0),t.resetConditionAnswer("drivable"),$("#drivableCheckboxYesPanelListId").addClass("disabled"),t.resetConditionAnswer("tires"),t.setConditionAnswer("tires",com.site.Conditions.conditionAnswer[1],"","",!0))):n=="keyAndBattery"?(u=t.getAllConditionAnswer(),u.drivable=="Yes"||u.drivable=="Partial"?t.openNonDrivableAndNonStartConfirmationPopup():(t.setKeyAndBatteryRemovedConfirmed(!0),t.resetConditionAnswer("drivable"),$("#drivableCheckboxYesPanelListId").addClass("disabled"),$("#drivableCheckboxPartialPanelListId").addClass("disabled"),t.resetConditionAnswer("keyAndBattery"),t.setConditionAnswer("keyAndBattery",com.site.Conditions.conditionAnswer[1],"","",!0))):(t.resetConditionAnswer(n),t.setConditionAnswer(n,com.site.Conditions.conditionAnswer[1],"","",!0))},setPartialAnswerAction:function(n){var r="",t=this,u,i;n=="tires"&&(r="flatTire",t.setWheelRemovedConfirmed(!1),u=t.getAllConditionAnswer(),u.keyAndBattery!="No"&&$("#drivableCheckboxYesPanelListId").removeClass("disabled"));r!=""&&com.site.Config.IsConditionModalEnable?(i=t.getConditionAnswerOfSlideModal(n,r),conditionPageModal.openModal({id:r,DSFOption:i.DSFOption,PSFOption:i.PSFOption,DSROption:i.DSROption,PSROption:i.PSROption})):(t.resetConditionAnswer(n),t.setConditionAnswer(n,com.site.Conditions.conditionAnswer[2],"","",!0))},AttachConditionQuestionEvent:function(){function i(t){var i=t.call(this),u=n.getSlideNameFromModalElement(i.id),f,r;u=="tires"&&i.id=="missingTire"&&(f=n.getAllConditionAnswer(),f.drivable=="Yes"?n.setWheelRemovedConfirmed(!1):(n.setWheelRemovedConfirmed(!0),r=n.getConditionAnswerOfSlideModal(u,i.id),r.DSFOption||r.PSFOption||r.DSROption||r.PSROption||n.resetConditionAnswer("drivable"),$("#drivableCheckboxYesPanelListId").addClass("disabled")));n.setConditionAnswer(u,i.modalAnswer,i.id,i,!0)}function r(t){var r=t.call(this),u=n.getSlideNameFromModalElement(r.id),i=n.getConditionAnswerOfSlideModal(u,r.id);(i.DSFOption||i.PSFOption||i.DSROption||i.PSROption)&&n.setConditionAnswer(u,r.modalAnswer,r.id,i,!1)}function u(t){var r=t.call(this),i=n.getSlideNameFromModalElement(r.id);n.getConditionAnswerOfSlide(i)=="No"?n.resetConditionAnswer(i):i=="tires"&&n.getConditionAnswerOfSlide(i)=="Partial"&&n.resetConditionAnswer(i)}var n=this,t;$(".customCheckbox input").iCheck({checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"0%"});$(".customCheckbox input").iCheck("disable");$(".checkboxList.conditionCheckboxList a").bind("touchstart touchend",function(){$(this).toggleClass("listHover")});t=!1;$(".checkboxList.conditionCheckboxList a").on("click tap",function(i){if(!t){t=!0;setTimeout(function(){t=!1},0);var r="";if(this.id.indexOf(com.site.Conditions.conditionAnswer[0])!=-1){if($(this).hasClass("disabled"))return i.preventDefault(),!1;r=this.id.replace("CheckboxYesPanelListId","");n.setYesAnswerAction(r)}else if(this.id.indexOf(com.site.Conditions.conditionAnswer[1])!=-1)r=this.id.replace("CheckboxNoPanelListId",""),n.setNoAnswerAction(r);else if(this.id.indexOf(com.site.Conditions.conditionAnswer[2])!=-1){if($(this).hasClass("disabled"))return i.preventDefault(),!1;r=this.id.replace("CheckboxPartialPanelListId","");n.setPartialAnswerAction(r)}return!1}});jQuery.browser.mobile||(com.site.Util.initKeyNavigationPlugin("#tires"),com.site.Util.initKeyNavigationPlugin("#keyAndBattery"),com.site.Util.initKeyNavigationPlugin("#drivable"),com.site.Util.initKeyNavigationPlugin("#underTheHood"),com.site.Util.initKeyNavigationPlugin("#taxiUsage"),com.site.Util.initKeyNavigationPlugin("#bodyPanel"),com.site.Util.initKeyNavigationPlugin("#bodyDamage"),com.site.Util.initKeyNavigationPlugin("#glassAndLight"),com.site.Util.initKeyNavigationPlugin("#interiorItems"),com.site.Util.initKeyNavigationPlugin("#floodAndFire"));$("#mileageInput").val("");$("#unableToVerifyMileageId input").iCheck({checkboxClass:"icheckbox_minimal-blue",radioClass:"iradio_minimal-blue",increaseArea:"20%"});$("#unableToVerifyMileageId input").iCheck("uncheck");$("#mileageInput").attr("disabled",!1);$("#mileageInput").bind({blur:function(){var t=this;setTimeout(function(){var i=$(t).val().replace(/\D/g,"");i!=""&&$(t).val(com.site.Util.add_commas(com.site.Util.removeLeadingZero(i)));n.validateMileageInput()},200,t)},keyup:function(){var n=this;setTimeout(function(){$(n).val().length>3&&$(n).val($(n).val().substring(0,3))},150,n)},keypress:function(n){return com.site.Util.checkCharacter(n)},keydown:function(t){var i=com.site.Util.getKeyCode(t),r=this;return setTimeout(function(){i==com.site.Config.ENTER_KEY_CODE&&n.checkToShowMileageConfirmationModal()&&n.moveToNextSlide()},0,r,i),i==com.site.Config.ENTER_KEY_CODE?(t.stopPropagation(),t.preventDefault(),!1):void 0},paste:function(){var t=this;setTimeout(function(){$(t).val().length>3&&$(t).val($(t).val().substring(0,3));n.setMileageConfirmed(!1);n.checkToShowMileageConfirmationModal()},50,t)},change:function(){var t=$(this).val().replace(/\D/g,"");$(this).val(com.site.Util.add_commas(com.site.Util.removeLeadingZero(t)));n.setMileageConfirmed(!1);n.checkToShowMileageConfirmationModal()},click:function(){jQuery.browser.mobile&&$("#"+this.id.replace("Input","")+" hr").offset().top>0&&!com.site.Util.isiPhone()&&$("#wrap").animate({scrollTop:$("#"+this.id.replace("Input","")+" hr").offset().top+$("#wrap").scrollTop()})}});$("#unableToVerifyMileageId label").on("click tap",function(){t||(t=!0,setTimeout(function(){t=!1},100),$("#unableToVerifyMileageId div").hasClass("checked")?(n.openUnableToVerifyMileagePopup(),n.setMileageValue(0)):(n.validateMileageInput(),$("#mileageInput").attr("disabled",!1),$(".mileageClass, .autoLockMileageInput").removeClass("mileageClassdisabled")))});$("#unableToVerifyMileageId input").on("ifClicked",function(){setTimeout(function(){$("#unableToVerifyMileageId div").hasClass("checked")?(n.openUnableToVerifyMileagePopup(),n.setMileageValue(0)):(n.validateMileageInput(),$("#mileageInput").attr("disabled",!1),$(".mileageClass, .autoLockMileageInput").removeClass("mileageClassdisabled"))},200)});$(".mileageClass").on("click tap",function(){t||(t=!0,setTimeout(function(){t=!1},100),$(".mileageClass").hasClass("mileageClassdisabled")||$("#mileageInput").focus())});$(".customCheckbox input").iCheck("uncheck");conditionModalInit={setSuccessButtonAction:i,setCancelButtonAction:r,onResetAction:u};conditionPageModal=new com.site.Modal.ConditionPagePopUpModalControl(conditionModalInit)}},com){if(typeof com!="object")throw new Error("com already exists and is not an object");}else com={};if(com.site){if(typeof com.site!="object")throw new Error("com.site already exists and is not an object");}else com.site={};if(com.site.InstantOffer){if(typeof com.site.InstantOffer!="object")throw new Error("com.site.InstantOffer already exists and is not an object");}else com.site.InstantOffer={};if(com.site.InstantOffer.InstantOfferPageControl=function(n){this.isInstantOfferLoaded=!1;this.isAskingPriceSet=!1;this.isAskingPriceSetOnLoad=!1;this.isOfferAdjusted=!1;this.isNotarizeState=!1;this.isPositiveAdjustmentAllowed=!1;this.isNegativeAdjustmentAllowed=!1;this.pickUpOfferAmount="";this.pickUpActualOfferAmount="";this.isPickUpOfferAdjusted=!1;this.pickUpNoTitleRequirement="";this.pickUpAllowedOfferAdjustment="";this.pickUpMinimumListingPrice="";this.pickUpOfferType="";this.dropOffOfferAmount="";this.dropOffActualOfferAmount="";this.isDropOffOfferAdjusted=!1;this.dropOffNoTitleRequirement="";this.dropOffAllowedOfferAdjustment="";this.dropOffMinimumListingPrice="";this.dropOffOfferType="";this.instantOfferAmount="";this.listingOffer="";this.transportType="";this.transportTypeOnLoad="";this.dropOffAmount="";this.dropOffDistance="";this.publisherId="";this.titleHelpLink="";this.duplicateTitleHelpLink="";this.titleType="";this.isDrivable="";this.zipCodeTimeZone="";this.maximumListingPrice="";this.minimumListingPrice="";this.yearTextFromCarInfo="";this.listingIncrementsDataResponseGBL="";this.attachEventsOnInstantOfferPage();this.askingPriceUpdatePostAction=n.askingPriceUpdatePostAction;this.askingPriceUpdateErrorPostAction=n.askingPriceUpdateErrorPostAction;this.adjustOfferPostAction=n.adjustOfferPostAction;this.adjustOfferErrorPostAction=n.adjustOfferErrorPostAction;this.openAdjustOfferModal=!1;this.isAskingPriceTextSet=!1;this.isTransportTypeTextSet=!1;_selfInstantOffer=this},com.site.InstantOffer.InstantOfferPageControl.prototype={setPickUpOfferAmount:function(n){this.pickUpOfferAmount=n},getPickUpOfferAmount:function(){return this.pickUpOfferAmount},setPickUpActualOfferAmount:function(n){this.pickUpActualOfferAmount=n},getPickUpActualOfferAmount:function(){return this.pickUpActualOfferAmount},setPickUpOfferAdjustedStatus:function(n){this.isPickUpOfferAdjusted=n},getPickUpOfferAdjustedStatus:function(){return this.isPickUpOfferAdjusted},setPickUpNoTitleRequirement:function(n){this.pickUpNoTitleRequirement=n},getPickUpNoTitleRequirement:function(){return this.pickUpNoTitleRequirement},setPickUpAllowedOfferAdjustment:function(n){this.pickUpAllowedOfferAdjustment=n},getPickUpAllowedOfferAdjustment:function(){return this.pickUpAllowedOfferAdjustment},setPickUpMinimumListingPrice:function(n){this.pickUpMinimumListingPrice=n},getPickUpMinimumListingPrice:function(){return this.pickUpMinimumListingPrice},setPickUpOfferType:function(n){this.pickUpOfferType=n},getPickUpOfferType:function(){return this.pickUpOfferType},setDropOffOfferAmount:function(n){this.dropOffOfferAmount=n},getDropOffOfferAmount:function(){return this.dropOffOfferAmount},setDropOffActualOfferAmount:function(n){this.dropOffActualOfferAmount=n},getDropOffActualOfferAmount:function(){return this.dropOffActualOfferAmount},setDropOffOfferAdjustedStatus:function(n){this.isDropOffOfferAdjusted=n},getDropOffOfferAdjustedStatus:function(){return this.isDropOffOfferAdjusted},setDropOffNoTitleRequirement:function(n){this.dropOffNoTitleRequirement=n},getDropOffNoTitleRequirement:function(){return this.dropOffNoTitleRequirement},setDropOffAllowedOfferAdjustment:function(n){this.dropOffAllowedOfferAdjustment=n},getDropOffAllowedOfferAdjustment:function(){return this.dropOffAllowedOfferAdjustment},setDropOffMinimumListingPrice:function(n){this.dropOffMinimumListingPrice=n},getDropOffMinimumListingPrice:function(){return this.dropOffMinimumListingPrice},setDropOffOfferType:function(n){this.dropOffOfferType=n},getDropOffOfferType:function(){return this.dropOffOfferType},getInstantOfferAmount:function(){var n=this.getPickUpOfferAmount();return this.getTransportType()=="seller"&&(n=this.getDropOffOfferAmount()),n},getCurrentOffer:function(){var n=this.getInstantOfferAmount();return this.getAskingPriceStatusOnLoad()&&(n=this.getListingOfferPrice()),n},getOfferType:function(){var n=this.getPickUpOfferType();return this.getTransportType()=="seller"&&(n=this.getDropOffOfferType()),n},getActualOfferAmount:function(){var n=this.getPickUpActualOfferAmount();return this.getTransportType()=="seller"&&(n=this.getDropOffActualOfferAmount()),n},getOfferAdjustedStatus:function(){var n=this.getPickUpOfferAdjustedStatus();return this.getTransportType()=="seller"&&(n=this.getDropOffOfferAdjustedStatus()),n},getAllowedOfferAdjustment:function(){var n=this.getActualOfferAmount(),t=n+this.getPickUpAllowedOfferAdjustment();return this.getTransportType()=="seller"&&(t=n+this.getDropOffAllowedOfferAdjustment()),t},getNoTitleRequirementText:function(){var n=this.getPickUpNoTitleRequirement();return this.getTransportType()=="seller"&&(n=this.getDropOffNoTitleRequirement()),n},getMinimumListingPrice:function(){var n=this.getPickUpMinimumListingPrice();return this.getTransportType()=="seller"&&(n=this.getDropOffMinimumListingPrice()),n},setYearTextFromCarInfo:function(n){this.yearTextFromCarInfo=n},getYearTextFromCarInfo:function(){return this.yearTextFromCarInfo},setTransportType:function(n){this.transportType="";!n||n.toLowerCase()!="seller"||(this.transportType="seller")},getTransportType:function(){return this.transportType},setTransportTypeOnLoad:function(n){this.transportTypeOnLoad="";!n||n.toLowerCase()!="seller"||(this.transportTypeOnLoad="seller")},getTransportTypeOnLoad:function(){return this.transportTypeOnLoad},setDropOffDistance:function(n){this.dropOffDistance=n},getDropOffDistance:function(){return this.dropOffDistance},setTitleType:function(n){this.titleType=n},getTitleType:function(){return this.titleType},setIsPositiveAdjustmentAllowed:function(n){this.isPositiveAdjustmentAllowed=n},getIsPositiveAdjustmentAllowed:function(){return this.isPositiveAdjustmentAllowed},setIsNegativeAdjustmentAllowed:function(n){this.isNegativeAdjustmentAllowed=n},getIsNegativeAdjustmentAllowed:function(){return this.isNegativeAdjustmentAllowed},setAskingPriceStatus:function(n){this.isAskingPriceSet=n},getAskingPriceStatus:function(){return this.isAskingPriceSet},setListingOfferPrice:function(n){this.listingOffer=n},getListingOfferPrice:function(){return this.listingOffer},setAskingPriceStatusOnLoad:function(n){this.isAskingPriceSetOnLoad=n},getAskingPriceStatusOnLoad:function(){return this.isAskingPriceSetOnLoad},setTitleHelpLink:function(n){this.titleHelpLink=n},getTitleHelpLink:function(){return this.titleHelpLink},setDuplicateTitleHelpLink:function(n){this.duplicateTitleHelpLink=n},getDuplicateTitleHelpLink:function(){return this.duplicateTitleHelpLink},setPublisherId:function(n){this.publisherId=n},getPublisherId:function(){return this.publisherId},setIsNotarizeState:function(n){this.isNotarizeState=n},getIsNotarizeState:function(){return this.isNotarizeState},setIsDrivable:function(n){this.isDrivable=n},getIsDrivable:function(){return this.isDrivable},setMaximumListingPrice:function(n){this.maximumListingPrice=n},getMaximumListingPrice:function(){return this.maximumListingPrice},setInstantOfferLoadStatus:function(n){this.isInstantOfferLoaded=n},getInstantOfferLoadStatus:function(){return this.isInstantOfferLoaded},setZipCodeTimeZone:function(n){this.zipCodeTimeZone=n},getZipCodeTimeZone:function(){return this.zipCodeTimeZone},resetShowOfferAmount:function(){$("#checkOfferText").html('&nbsp;<i class="icon-spin5 offerAmountSpinner animate-spin ui-icon-input"><\/i>')},showInstantOfferAmount:function(n,t){var u,i,f;if(n=n==null?this.getInstantOfferAmount():n,u=$("#checkOfferText"),i=this.removeLeadingZero(this.unformatAmout(u.html())),!!t&&t=="set"&&!isNaN(i)&&!!i&&n>parseInt(i)){var r=parseInt(i),o=this,e=!0;setTimeout(function(){e=!1},300);f=function(t){setTimeout(function(){u.html("$"+com.site.Util.add_commas(r));r+=t.getStepCountForSlider(r);r<=n&&e?f(t):u.html("$"+com.site.Util.add_commas(n))},5,t)};f(o)}else if(!!t&&t=="set"&&!isNaN(i)&&!!i&&n<parseInt(i)){var r=parseInt(i),o=this,e=!0;setTimeout(function(){e=!1},300);f=function(t){setTimeout(function(){u.html("$"+com.site.Util.add_commas(r));r-=t.getStepCountForSlider(r);r>=n&&e?f(t):u.html("$"+com.site.Util.add_commas(n))},5,t)};f(this)}else u.html("$"+com.site.Util.add_commas(n));this.setOfferButtonText(n)},setOfferButtonText:function(n){n>0?typeof instantOfferSlideVisibility!="undefined"&&instantOfferSlideVisibility?($(".navNextButtonTextId").html("Get paid"),this.getAskingPriceStatus()&&$(".navNextButtonTextId").html("Get listed")):typeof acceptOfferSlideVisibility!="undefined"&&acceptOfferSlideVisibility&&($(".navNextButtonTextId").html("Accept"),this.getAskingPriceStatus()&&$(".navNextButtonTextId").html("Complete")):$(".navNextButtonTextId").html("Get listed")},changeToOffer:function(){this.resetShowOfferAmount();$(".shareLinkPopover").removeClass("invisible");!com.site.VehicleInfo||!com.site.VehicleInfo.ClaimCode||$(".shareLinkPopover").addClass("invisible")},preOfferLoad:function(){$("#navNextButtonId, .moreInfoMobileIcon").addClass("invisible");$(".navNextLinkClass").addClass("hidden")},postOfferLoad:function(){$("#navNextButtonId").removeClass("invisible");$(".navNextLinkClass").removeClass("hidden");$("#navNextButtonId").addClass("btn-success");$("#navNextButtonId, .navNextLinkClass").removeAttr("disabled");$(".navNextLinkTD .navNextLinkClass").addClass("hidden")},openOuiBounceModalPopup:function(){$("#ouiBounceEmailInput").val("");com.site.Util.resetInputState("ouiBounceEmailInput",!0);com.site.Modal.attachAllModalsEvent("ouiBounceModal");$("#ouiBounceModal").modal("show");$("#ouiBounceEmailInput").focus();EventTracking("ouiBounce email capture model open","auto","model open")},closeOuiBounceModalPopup:function(){$("#ouiBounceModal").modal("hide")},validateOuiBounceEmail:function(n,t){return com.site.Util.isBlank("ouiBounceEmailInput")?(t||($("#ouiBounceEmailErrorMsg").hide(),com.site.Modal.checkAndSetScrollablePopup("ouiBounceModal")),n&&($("#ouiBounceEmailErrorMsg .errorMessageText").html("Enter an email in order to submit."),$("#ouiBounceEmailErrorMsg").show(),com.site.Modal.checkAndSetScrollablePopup("ouiBounceModal")),!1):com.site.Util.isValidEmail($.trim($("#ouiBounceEmailInput").val()))?(com.site.Util.addSuccessStateToInput("ouiBounceEmailInput",!0),!0):(com.site.Util.addErrorStateToInput("ouiBounceEmailInput",!0),(t||n)&&($("#ouiBounceEmailErrorMsg .errorMessageText").html("Enter valid email address."),$("#ouiBounceEmailErrorMsg").show(),com.site.Modal.checkAndSetScrollablePopup("ouiBounceModal")),!1)},scrollTopInCharome:function(n){jQuery.browser.mobile&&!com.site.Util.isiPhone()&&$(".modal-scrollable").animate({scrollTop:$(n).position().top-50})},getTimeZone:function(){var n=com.site.Util.getBrowserTimeZone();return com.site.Util.isBrowserTimeZoneInsideUSA(n)?n:this.getZipCodeTimeZone()!=""?this.getZipCodeTimeZone():com.site.Config.DefaultSellerTimeZone},sendDataForEmailCapture:function(){var n={},t=$.trim($("#ouiBounceEmailInput").val()),i=this.getTimeZone();EventTracking("ouiBounce email capture","click",t);com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();n={Email:t,TimeZone:i};com.site.DataService.EmailCaptureAndClaimCreation(n,this.sendDataForEmailCaptureCallback)},sendDataForEmailCaptureCallback:function(n){var t=n;t.Success;_selfInstantOffer.closeOuiBounceModalPopup()},setUnsetAskingPriceRadio:function(n){$(".sellTodayContainer input").iCheck("uncheck");$(".sellTodayContainer label").addClass("inactive");$(".tryforMoreText").addClass("active");this.setAskingPriceStatus(!0);n==this.getMinimumListingPrice()&&this.getActualOfferAmount()>0&&this.resetAskingPriceStatus();this.getAskingPriceStatus()&&this.getTransportType().toLowerCase()=="seller"&&(this.isTransportTypeTextSet=!1);this.showAdjustOfferLink();this.setOfferRelatedText()},resetAskingPriceStatus:function(){$(".sellTodayContainer input").iCheck("check");$(".sellTodayContainer label").removeClass("inactive");$(".tryforMoreText").removeClass("active");this.setAskingPriceStatus(!1)},getListingIncrementsCallback:function(n){var t=$.parseJSON(n);t.Success&&(this.listingIncrementsDataResponseGBL=t.ListingPriceIncrements)},getStepCountForSlider:function(n){var i,r,t;if(!this.listingIncrementsDataResponseGBL)return n>=0&&n<50?10:n>=50&&n<1e3?25:n>=1e3&&n<5e3?50:n>=5e3&&n<1e4?100:n>=1e4&&n<2e4?250:500;for(i=this.listingIncrementsDataResponseGBL,r=500,t=0;t<i.length;t++)if(n>=i[t].MinimumPrice&&n<i[t].MaximumPrice){r=i[t].Increment;break}return r},checkForAskingPriceUpdateOrSet:function(){var n=this.removeLeadingZero(this.unformatAmout($("#checkOfferText").html())),t=!1,i=this.getListingOfferPrice()>0?this.getListingOfferPrice():this.getMinimumListingPrice();return this.getAskingPriceStatusOnLoad()==this.getAskingPriceStatus()&&(isNaN(parseInt(n))||parseInt(n)==i)||(t=!0),t},unformatAmout:function(n){return n=n+"",n.replace(/\D/g,"")},removeLeadingZero:function(n){return n+="",n.replace(/^0+/,"")},formatPrice:function(n){var t=this.unformatAmout(n),i=this.removeLeadingZero(t);return com.site.Util.add_commas(i)},formatInputAmount:function(n){var t=$(n).val(),i="";i=t==""||t==0||t=="."?this.formatPrice(t):"$"+this.formatPrice(t);$(n).val(i)},updateOfferAskingPrice:function(){var t={},n=this.removeLeadingZero(this.unformatAmout($("#checkOfferText").html())),r,i,u;com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();parseInt(n)===this.getMinimumListingPrice()&&this.getActualOfferAmount()>0&&(n="");this.getMaximumListingPrice()>0&&!!n&&!!$(".listingSlider .noUi-handle").parent()[0]&&(r=parseInt($(".listingSlider .noUi-handle").parent()[0].style.left),EventTracking("Asking price set","auto","percentage of maximum listing : "+r));!com.site.AcceptOffer&&!com.site.VehicleInfo||(i=!com.site.AcceptOffer?com.site.VehicleInfo.ClaimCode:com.site.AcceptOffer.ClaimCode,u=!com.site.AcceptOffer?com.site.VehicleInfo.ClaimId:com.site.AcceptOffer.ClaimId,i?(t={ClaimCode:i,ClaimId:u,AskingPrice:n,AdjustedPrice:"",ActualPrice:"",TransportType:""},com.site.DataService.UpdateClaimOffer(t,this.updateOfferAskingPriceCallback)):!OfferIdGBL||(t={OfferId:OfferIdGBL,AskingPrice:n,AdjustedPrice:"",ActualPrice:"",TransportType:""},com.site.DataService.UpdateInstantOffer(t,this.updateOfferAskingPriceCallback)))},updateOfferAskingPriceCallback:function(n){var t=n;if(t.Success){if(_selfInstantOffer.openAdjustOfferModal){_selfInstantOffer.openAdjustOfferModalPopup();_selfInstantOffer.openAdjustOfferModal=!1;return}_selfInstantOffer.askingPriceUpdatePostAction(t)}else _selfInstantOffer.askingPriceUpdateErrorPostAction()},showAskingPriceLink:function(){if(!isNaN(parseInt(this.getMinimumListingPrice()))&&parseInt(this.getMinimumListingPrice())>0&&!isNaN(parseInt(this.getMaximumListingPrice()))&&parseInt(this.getMaximumListingPrice())>0){$(".listingSliderBackContent").removeClass("noOffer");this.getActualOfferAmount()==0&&$(".listingSliderBackContent").addClass("noOffer");var n=this.getListingOfferPrice()>0&&this.getAskingPriceStatus()?this.getListingOfferPrice():this.getMinimumListingPrice(),t=this.getMaximumListingPrice(),i=this.getMinimumListingPrice();$(".listingSlider").noUiSlider({start:n,step:1,direction:"rtl",range:{min:i,max:t}},!0);$("#checkOfferText").html("&nbsp;");$(".listingSlider").val(n)}},resetAdjustOfferInputbox:function(){$("#offerAdjustInput").val("");$("#offerAdjustErrorMsg .errorMessageText").html("");$("#offerAdjustErrorMsg").hide()},sendDataForAdjustOffer:function(){var n={},t=this.removeLeadingZero(this.unformatAmout($("#offerAdjustInput").val())),u=this.getTransportType()=="seller"?"Seller Delivery":"",e=!isNaN(parseInt(this.getMinimumListingPrice()))&&parseInt(this.getMinimumListingPrice())>0?this.getMinimumListingPrice():this.getInstantOfferAmount(),i,r,f;if(parseInt(t)===e){this.closeAdjustOfferModalPopup();return}com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();i=this.getActualOfferAmount();!com.site.AcceptOffer&&!com.site.VehicleInfo||(r=!com.site.AcceptOffer?com.site.VehicleInfo.ClaimCode:com.site.AcceptOffer.ClaimCode,f=!com.site.AcceptOffer?com.site.VehicleInfo.ClaimId:com.site.AcceptOffer.ClaimId,r?(n={ClaimCode:r,ClaimId:f,AskingPrice:"",AdjustedPrice:t,ActualPrice:i,TransportType:u},com.site.DataService.UpdateClaimOffer(n,this.sendDataForAdjustOfferCallback)):!OfferIdGBL||(n={OfferId:OfferIdGBL,AskingPrice:"",AdjustedPrice:t,ActualPrice:i,TransportType:u},com.site.DataService.UpdateInstantOffer(n,this.sendDataForAdjustOfferCallback)))},sendDataForAdjustOfferCallback:function(n){var t=n;t.Success?_selfInstantOffer.adjustOfferPostAction(t):_selfInstantOffer.adjustOfferErrorPostAction();_selfInstantOffer.closeAdjustOfferModalPopup()},validateAdjustedOffer:function(){var t=this.removeLeadingZero(this.unformatAmout($("#offerAdjustInput").val())),n=!0,i="",h=com.site.Util.isBlankValue(t),u=this.getActualOfferAmount(),f=!0,e=!0,o,s,r;return f=this.getIsPositiveAdjustmentAllowed(),e=this.getIsNegativeAdjustmentAllowed(),h?this.resetAdjustOfferInputbox():t%5!=0?(i="Adjusted offer amount must end in a 5 or 0.",n=!1):e&&!f?(r=!isNaN(parseInt(u))&&parseInt(u)<t,i="Adjusted offer must be lower than the original offer.",n=!r):!e&&f?(o=!isNaN(parseInt(this.getAllowedOfferAdjustment()))&&parseInt(this.getAllowedOfferAdjustment())<t,s=!isNaN(parseInt(u))&&parseInt(u)>t,r=s||o,n=!r,i="Adjusted offer cannot exceed the maximum allowed offer.",s&&!o&&(i="Adjusted offer must be greater than the original offer.")):e&&f&&(r=!isNaN(parseInt(this.getAllowedOfferAdjustment()))&&parseInt(this.getAllowedOfferAdjustment())<t,i="Adjusted offer cannot exceed the maximum allowed offer.",n=!r),com.site.Util.removeErrorStateToInput("offerAdjustInput",!0),n?(h||($("#offerAdjustErrorMsg .errorMessageText").html(""),$("#offerAdjustErrorMsg").hide(),com.site.Util.addSuccessStateToInput("offerAdjustInput",!0)),n):(com.site.Util.addErrorStateToInput("offerAdjustInput",!0),$("#offerAdjustErrorMsg .errorMessageText").html(i),$("#offerAdjustErrorMsg").show(),n)},fillAdjustedOffer:function(){var n=$("#adjustOfferLinkId").attr("data-adjustoffer"),t=this.formatPrice(n);$("#offerAdjustInput").val(t);this.validateAdjustedOffer()},openAdjustOfferModalPopup:function(){this.fillAdjustedOffer();com.site.Modal.attachAllModalsEvent("offerAdjustModal");$("#offerAdjustModal").modal("show")},closeAdjustOfferModalPopup:function(){$("#offerAdjustModal").modal("hide")},showAdjustOfferLink:function(){this.hideAdjustOfferLink();$("#adjustOfferLinkId").length&&!this.getAskingPriceStatus()&&this.getInstantOfferAmount()>0&&this.getActualOfferAmount()>0&&(this.getIsPositiveAdjustmentAllowed()||this.getIsNegativeAdjustmentAllowed())&&$("#adjustOfferLinkId").show()},hideAdjustOfferLink:function(){$("#adjustOfferLinkId").hide()},checkForTransportTypeUpdateOrSet:function(){var n=!1;return this.getTransportType()!=this.getTransportTypeOnLoad()&&(n=!0),n},sendDataForTransportType:function(){var n={},r=this.getTransportType()=="seller"?"Seller Delivery":"",t,i,u;com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();t=this.getActualOfferAmount();!com.site.AcceptOffer&&!com.site.VehicleInfo||(i=!com.site.AcceptOffer?com.site.VehicleInfo.ClaimCode:com.site.AcceptOffer.ClaimCode,u=!com.site.AcceptOffer?com.site.VehicleInfo.ClaimId:com.site.AcceptOffer.ClaimId,i?(n={ClaimCode:i,ClaimId:u,TransportType:r,ActualPrice:t},com.site.DataService.UpdateClaimTransportType(n,this.sendDataForTransportTypeCallback)):!OfferIdGBL||(n={OfferId:OfferIdGBL,TransportType:r,ActualPrice:t},com.site.DataService.UpdateInstantTransportType(n,this.sendDataForTransportTypeCallback)))},sendDataForTransportTypeCallback:function(n){var t=n;t.Success?_selfInstantOffer.adjustOfferPostAction(t):_selfInstantOffer.adjustOfferErrorPostAction()},setOfferRelatedText:function(){$(".pickUpAmount").html("$"+com.site.Util.add_commas(this.getPickUpOfferAmount()));$(".driveInAmount").html("$"+com.site.Util.add_commas(this.getDropOffOfferAmount()));!this.getAskingPriceStatus()&&(this.getTransportType()!="seller"||this.getPickUpActualOfferAmount()==0&&this.getDropOffActualOfferAmount()>0)&&this.setPickupTypeRelatedText();this.setTransportTypeRelatedText();this.setAskingPriceRelatedText();this.setAdjustOfferRelatedText()},setPickupTypeRelatedText:function(){var n=0,t,i,r,u,f,e,o;(!this.getAskingPriceStatus()&&this.isAskingPriceTextSet||this.getTransportType()!="seller"&&this.isTransportTypeTextSet)&&(n=200);t=$("#instantOfferSlideTitleId");t.fadeTo(n,.5,function(){t.html("Your instant offer");t.fadeTo(n,1,function(){t.show()})});i=$("#acceptOfferSlideTitleId");i.fadeTo(n,.5,function(){i.html("Accept your offer");i.fadeTo(n,1,function(){i.show()})});r=$("#acceptOfferSubHeaderId");r.fadeTo(n,.5,function(){r.html("We'll pick it up");r.fadeTo(n,1,function(){r.show()})});u=$("#acceptOfferSubHeaderBodyId");u.fadeTo(n,.5,function(){$("#acceptOfferSubHeaderBodyId").html("We have everything we need! Soon after you accept your offer, a carrier will contact you to arrange a time to come pick up your vehicle. When they arrive, they'll verify your car's condition and documentation, and then pay you on the spot and tow it away!");$("#acceptOfferSubHeaderInOfferSectionId").html("We'll pick it up and pay");$(".offerTypeIcon").attr("src","/Images/InstantOffer/pickup.png");u.fadeTo(n,1,function(){u.show()})});(!this.getAskingPriceStatus()&&this.isAskingPriceTextSet||this.getTransportType()!="seller"&&this.isTransportTypeTextSet)&&(f=$(".offerPageSubHeader"),f.fadeTo(n,.5,function(){$(".instantOfferSubHeader").html("We'll pick it up");f.fadeTo(n,1,function(){f.show()})}),e=$(".offerPageSubBody"),e.fadeTo(n,.5,function(){$(".instantOfferSubHeaderBody").html("Accept our instant offer and sell your car today, no waiting required! Once accepted, a carrier will contact you to arrange a time to come pick up your vehicle. When they arrive, they'll pay you on the spot!");e.fadeTo(n,1,function(){e.show()})}));this.getAskingPriceStatus()||!!this.getDropOffOfferAmount()!=!1?!this.getAskingPriceStatus()&&this.getPickUpActualOfferAmount()==0&&this.getDropOffActualOfferAmount()>0?this.showDropOffContainer(n):this.getAskingPriceStatus()||!this.getPickUpOfferAmount()||!this.getDropOffOfferAmount()||this.getIsDrivable()!="Yes"||this.getTransportType()=="seller"||(this.selectSellInstantlyPickUp(),o=n,!this.getAskingPriceStatus()&&this.isAskingPriceTextSet||this.getTransportType()=="seller"||!this.isTransportTypeTextSet||(o=0),this.showPickupDropOffContainer(o)):this.showPickupContainer(n);$("#agreementInitiationTextId").html("Accepting your offer")},setTransportTypeRelatedText:function(){var n,t,i,r;this.getAskingPriceStatus()||this.getTransportType()!="seller"?this.isTransportTypeTextSet=!1:(n=200,this.isTransportTypeTextSet&&(n=0),this.isTransportTypeTextSet=!0,t=$("#instantOfferSlideTitleId"),t.fadeTo(n,.5,function(){t.html("Your instant offer");t.fadeTo(n,1,function(){t.show()})}),i=$(".offerPageSubHeader"),i.fadeTo(n,.5,function(){$(".instantOfferSubHeader").html("Drop off your car");$("#acceptOfferSubHeaderId").html("Drop off your car");i.fadeTo(n,1,function(){i.show()})}),r=$(".offerPageSubBody"),r.fadeTo(n,.5,function(){$(".instantOfferSubHeaderBody").html("Accept our instant offer and sell your car today, no waiting required! Once you accept your offer, you'll be notified of your drop-off location, and have 7 days to bring in your vehicle. That's it. There are no hidden fees, or hoops to jump through.");$("#acceptOfferSubHeaderBodyId").html("We have everything we need! Soon after you accept your offer, you'll be notified of your drop-off location, and have 7 days to bring in your vehicle. Upon your arrival, the location will inspect your car to verify its condition, review your documentation, and pay you on the spot!");$("#acceptOfferSubHeaderInOfferSectionId").html("Drive it in and we'll pay");$(".offerTypeIcon").attr("src","/Images/InstantOffer/dropoff.png");r.fadeTo(n,1,function(){r.show()})}),this.getPickUpActualOfferAmount()==0&&this.getDropOffActualOfferAmount()>0||this.showPickupDropOffContainer(n))},setAskingPriceRelatedText:function(){var n,t,i,r,u;this.getAskingPriceStatus()?(n=200,this.isAskingPriceTextSet&&(n=0),this.isAskingPriceTextSet=!0,t=$("#instantOfferSlideTitleId"),t.fadeTo(n,.5,function(){t.html("Your asking price");t.fadeTo(n,1,function(){t.show()})}),i=$("#acceptOfferSlideTitleId"),i.fadeTo(n,.5,function(){i.html("List for sale");i.fadeTo(n,1,function(){i.show()})}),r=$(".offerPageSubHeader"),r.fadeTo(n,.5,function(){$(".instantOfferSubHeader").html("List for sale");$("#acceptOfferSubHeaderId").html("Complete your listing");r.fadeTo(n,1,function(){r.show()})}),u=$(".offerPageSubBody"),u.fadeTo(n,.5,function(){$(".instantOfferSubHeaderBody").html("Set an asking price and list your vehicle for sale. We'll start promoting your listing to our network of car buyers right away. Once we find a buyer that accepts your price, we'll notify you and provide instructions on closing the deal!");$("#acceptOfferSubHeaderBodyId").html("Once you complete your listing, we'll work to sell your vehicle at the set asking price through our extensive buyer network. Once we find a buyer, you'll be notified and assigned to a carrier who will inspect your car, pay you on the spot, and tow it away.");$("#acceptOfferSubHeaderInOfferSectionId").html("List for");$(".offerTypeIcon").attr("src","/Images/InstantOffer/listing.png");u.fadeTo(n,1,function(){u.show()})}),this.showListingContainer(n),$("#agreementInitiationTextId").html("Completing your listing")):this.isAskingPriceTextSet=!1},setAdjustOfferRelatedText:function(){var r="",u="",f="",n="Adjust",i=!0,t=!0,e=!isNaN(parseInt(this.getMinimumListingPrice()))&&parseInt(this.getMinimumListingPrice())>0?this.getMinimumListingPrice():this.getInstantOfferAmount();i=this.getIsPositiveAdjustmentAllowed();t=this.getIsNegativeAdjustmentAllowed();r=com.site.Util.add_commas(this.getActualOfferAmount());u=com.site.Util.add_commas(e);f=com.site.Util.add_commas(this.getAllowedOfferAdjustment());(i&&t||i&&!t)&&(n="Adjust (Max $"+f+")",this.getAllowedOfferAdjustment()==0&&(n="Adjust"));$("#adjustOfferLinkId").attr("data-adjustoffer","");$("#adjustOfferLinkTextId").html(n);this.getOfferAdjustedStatus()&&(i&&t||i&&!t?(n="Adjusted ($"+r+" to $"+u+", Max $"+f+")",this.getAllowedOfferAdjustment()==0&&(n="Adjusted ($"+r+" to $"+u+")")):t&&(n="Adjusted ($"+r+" to $"+u+")"),$("#adjustOfferLinkId").attr("data-adjustoffer",e),$("#adjustOfferLinkTextId").html(n))},showListingContainer:function(n){var t=$(".instantOfferContainerColumn");t.fadeTo(n,.5,function(){$(".onlyPickupAmountContainer, .pickupDropoffAmountContainer, .onlyDropOffAmountContainer").hide();$(".listingAmountContainer").show();t.fadeTo(n,1,function(){t.show()})})},showPickupContainer:function(n){var t=$(".instantOfferContainerColumn");t.fadeTo(n,.5,function(){$(".listingAmountContainer").hide();$(".onlyPickupAmountContainer").show();t.fadeTo(n,1,function(){t.show()})})},showDropOffContainer:function(n){var t=$(".instantOfferContainerColumn");t.fadeTo(n,.5,function(){$(".listingAmountContainer").hide();$(".onlyDropOffAmountContainer").show();t.fadeTo(n,1,function(){t.show()})})},showPickupDropOffContainer:function(n){var t=$(".instantOfferContainerColumn");t.fadeTo(n,.5,function(){$(".listingAmountContainer").hide();$(".pickupDropoffAmountContainer").show();t.fadeTo(n,1,function(){t.show()})})},selectSellInstantlyPickUp:function(){$(".updatePickupOffer").removeClass("unSelectedSellInstnatlyOffer");$(".updateDropOffOffer").addClass("unSelectedSellInstnatlyOffer")},selectSellInstantlyDropOff:function(){$(".updateDropOffOffer").removeClass("unSelectedSellInstnatlyOffer");$(".updatePickupOffer").addClass("unSelectedSellInstnatlyOffer")},updateToPickUpOfferRelatedObjects:function(){this.setTransportType("Carrier");this.setAskingPriceStatus(!1)},updateToDropOffOfferRelatedObjects:function(){this.setTransportType("Seller");this.setAskingPriceStatus(!1)},updateToPickUpOffer:function(){this.updateToPickUpOfferRelatedObjects();this.showAskingPriceLink();this.showAdjustOfferLink();this.setOfferRelatedText();this.selectSellInstantlyPickUp();this.showInstantOfferAmount(this.getPickUpOfferAmount());this.postOfferLoad()},updateToDropOffOffer:function(){this.updateToDropOffOfferRelatedObjects();this.showAskingPriceLink();this.showAdjustOfferLink();this.setOfferRelatedText();this.selectSellInstantlyDropOff();this.showInstantOfferAmount(this.getDropOffOfferAmount());this.postOfferLoad()},attachEventsOnInstantOfferPage:function(){var n=this,t=!1,i="";$(".sellTodayContainer input").iCheck({checkboxClass:"icheckbox_minimal-blue",radioClass:"iradio_minimal-blue"});$(".sellTodayContainer label").on("click tap",function(){t||(t=!0,setTimeout(function(){t=!1},100),$(".listingSlider").val(n.getMinimumListingPrice()))});$(".sellTodayContainer input").on("ifClicked",function(){setTimeout(function(){$(".listingSlider").val(n.getMinimumListingPrice())},200)});$(".listingSlider").on("slide set",function(t){var r=this;return clearTimeout(i),i=setTimeout(function(){var u=$(r).val(),i=u,f=n.getStepCountForSlider(i);i=Math.ceil(i/f);i=i*f;i=i<n.getMinimumListingPrice()?n.getMinimumListingPrice():i;i=i>n.getMaximumListingPrice()?n.getMaximumListingPrice():i;i=u==n.getMinimumListingPrice()?n.getMinimumListingPrice():i;i=u==n.getMaximumListingPrice()?n.getMaximumListingPrice():i;n.setUnsetAskingPriceRadio(i);n.showInstantOfferAmount(i,t.type)},0,r),t.stopPropagation(),!1});if($("#adjustOfferLinkId").length>0){$(".offerAdjustErrorMsgCancel").on("click tap",function(){if(!t)return t=!0,setTimeout(function(){t=!1},100),com.site.Modal.checkAndSetScrollablePopup("offerAdjustModal"),!1});$("#offerAdjustSaveButtonId").bind("touchstart touchend",function(){$(this).toggleClass("buttonTapClass")});$("#offerAdjustSaveButtonId").on("click tap",function(){if(!t)return t=!0,setTimeout(function(){t=!1},100),n.validateAdjustedOffer()&&n.sendDataForAdjustOffer(),!1});$("#adjustOfferLinkId").bind({click:function(){if(n.checkForAskingPriceUpdateOrSet())return n.openAdjustOfferModal=!0,n.updateOfferAskingPrice(),!1;n.openAdjustOfferModalPopup()}});$("#offerAdjustInput").bind({blur:function(){var t=this;setTimeout(function(){n.validateAdjustedOffer();n.formatInputAmount($(t))},200,t)},keyup:function(t){if(com.site.Util.removeErrorStateToInput("offerAdjustInput",!0),t.which>=37&&t.which<=40)return t.preventDefault(),!0;n.formatInputAmount($(this));$("#offerAdjustInput").val().length>=7&&($("#offerAdjustInput").val($("#offerAdjustInput").val().substring(0,7)),n.formatInputAmount($(this)))},keypress:function(n){return com.site.Util.checkCharacter(n)},paste:function(){setTimeout(function(){n.validateAdjustedOffer();n.formatInputAmount($(this))},50)}})}$(".updateDropOffOffer").on("click tap",function(){if(!t)return t=!0,setTimeout(function(){t=!1},100),n.getTransportType().toLowerCase()!="seller"&&n.updateToDropOffOffer(),!1});$(".updatePickupOffer").on("click tap",function(){if(!t)return t=!0,setTimeout(function(){t=!1},100),n.getTransportType().toLowerCase()=="seller"&&n.updateToPickUpOffer(),!1});$(".instantPickUpDropOffContainer").bind("touchstart touchend",function(){$(this).toggleClass("instantPickUpDropOffContainerTap")});$(".ouiBounceErrorMsgCancel").on("click tap",function(){if(!t)return t=!0,setTimeout(function(){t=!1},100),com.site.Modal.checkAndSetScrollablePopup("ouiBounceModal"),!1});$("#ouiBounceSubmitButtonId").bind("touchstart touchend",function(){$(this).toggleClass("buttonTapClass")});$("#ouiBounceSubmitButtonId").on("click tap",function(){if(!t)return t=!0,setTimeout(function(){t=!1},100),n.validateOuiBounceEmail(!0,!0)&&n.sendDataForEmailCapture(),!1});$("#ouiBounceEmailInput").bind({blur:function(){var t=this;setTimeout(function(){n.validateOuiBounceEmail(!1,!0)},150,t)},keyup:function(){com.site.Util.removeErrorStateToInput(this.id,!0);$("#ouiBounceEmailErrorMsg").hide();com.site.Modal.checkAndSetScrollablePopup("ouiBounceModal")},paste:function(){var t=this;setTimeout(function(){com.site.Util.removeErrorStateToInput(this.id,!0);$("#ouiBounceEmailErrorMsg").hide();com.site.Modal.checkAndSetScrollablePopup("ouiBounceModal");n.validateOuiBounceEmail(!1,!1)},50,t)},click:function(){n.scrollTopInCharome(this)}})}},com){if(typeof com!="object")throw new Error("com already exists and is not an object");}else com={};if(com.site){if(typeof com.site!="object")throw new Error("com.site already exists and is not an object");}else com.site={};if(com.site.SendSMS){if(typeof com.site.SendSMS!="object")throw new Error("com.site.SendSMS already exists and is not an object");}else com.site.SendSMS={};if(com.site.SendSMS.SendSMSControl=function(n){this.getInstantOffer=n.getInstantOffer;this.getInitialOffer=n.getInitialOffer;this.getInstantOfferLoadStatus=n.getInstantOfferLoadStatus;this.getInitialOfferLoadStatus=n.getInitialOfferLoadStatus;this.attachEventsOnSendSMS();this.SMSText="";this.SMSType="";this.offerPhone="";this.opportunityId="";_selfSendSMS=this},com.site.SendSMS.SendSMSControl.prototype={setOfferPhone:function(n){this.offerPhone=n},getOfferPhone:function(){return this.offerPhone},setOpportunityId:function(n){this.opportunityId=n},getOpportunityId:function(){return this.opportunityId},openSMSOfferPopup:function(){com.site.Util.resetInputState("SMSNumber",!0);com.site.Modal.attachAllModalsEvent("SMSOffer");_selfSendSMS.getSMSType()=="VINSms"&&$("#SMSOffer .modal-title").html("VIN SMS");$("#SMSOffer").modal("show")},closeSMSOfferPopup:function(){$("#SMSOffer").modal("hide")},plainFormatPhoneNumber:function(n){var t=n;return t=t.replace(/-/g,""),t=t.replace(/\(/g,""),t=t.replace(/\)/g,""),t.replace(/ /g,"")},validateSMSNumber:function(n){return com.site.Util.isBlank("SMSNumber")?(n&&($("#sendSMSOfferErrorMsg .errorMessageText").html("Enter a phone number or mobile number."),$("#sendSMSOfferErrorMsg").show()),!1):(com.site.Util.removeErrorStateToInput("SMSNumber",!0),!com.site.Util.validatePhoneAmerica("SMSNumber"))?(com.site.Util.addErrorStateToInput("SMSNumber",!0),n&&($("#sendSMSOfferErrorMsg .errorMessageText").html("Enter a phone number or mobile number."),$("#sendSMSOfferErrorMsg").show()),!1):(com.site.Util.addSuccessStateToInput("SMSNumber",!0),!0)},setSMSType:function(n){this.SMSType=n},getSMSType:function(){return this.SMSType},setSMSText:function(n,t){this.setSMSType(n);switch(n){case"instantOffer":this.SMSText=t;break;case"initialOffer":this.SMSText=t;break;case"VINSms":this.SMSText=t}},getSMSText:function(){return this.SMSText},getTwilioCallerNumber:function(){com.site.DataService.getTwilioCallerPhoneNumber({},this.getTwilioCallerNumberCallback)},getTwilioCallerNumberCallback:function(n){var r=n,t="",i;r.Success==!0&&(t=r.CallerNumberFromCookie);$("#SMSNumber").val("");com.site.Util.removeErrorStateToInput("SMSNumber",!1);t!=null&&t!=""?(t=_selfSendSMS.plainFormatPhoneNumber(t),$("#SMSNumber").val(t.slice(-10)),com.site.Util.reformatPhoneNumber($("#SMSNumber")),_selfSendSMS.validateSMSNumber(!1)):!_selfSendSMS.getOfferPhone()||(i=_selfSendSMS.getOfferPhone(),i=_selfSendSMS.plainFormatPhoneNumber(i),$("#SMSNumber").val(i.slice(-10)),com.site.Util.reformatPhoneNumber($("#SMSNumber")),_selfSendSMS.validateSMSNumber(!1));_selfSendSMS.openSMSOfferPopup()},sendSMSOffer:function(){var t,r,i,n;com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();t=this.plainFormatPhoneNumber($("#SMSNumber").val());r=this.getSMSText();_selfSendSMS.getSMSType()=="VINSms"?(n={phoneNumber:t,SMSText:r,ClaimCode:com.site.AcceptOffer.ClaimCode,OpportunityId:_selfSendSMS.getOpportunityId()},com.site.DataService.sendVINSMS(n,this.sendSMSOfferCallback)):(i="",$("#publisherViewId").length!=0&&$("#publisherViewId").val()!=""&&(i=$("#publisherViewId").val()),n={phoneNumber:t,offerId:OfferIdGBL,publisherId:i},com.site.DataService.sendSMSBot(n,this.sendSMSOfferCallback))},sendSMSOfferCallback:function(n){var t=n;t.Success==!0?_selfSendSMS.closeSMSOfferPopup():_selfSendSMS.closeSMSOfferPopup()},getShortUrlLinkForVinSms:function(){com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();var n={ClaimCode:com.site.AcceptOffer.ClaimCode};com.site.DataService.getShortUrlForVINSMS(n,this.getShortUrlLinkForVinSmsCallback)},getShortUrlLinkForVinSmsCallback:function(n){var t=n,i;t.Success==!0?(i="Peddle: You can locate your VIN here: "+com.site.Config.ShortVINHelpUrl+". Once you do, visit "+t.ShortUrl+" to continue!",_selfSendSMS.setSMSText("VINSms",i),_selfSendSMS.sendSMSOffer()):_selfSendSMS.closeSMSOfferPopup()},attachEventsOnSendSMS:function(){var n=this,t=!1;if($("#SMSOfferIDLinkId").length>0||$("#SMSInitialOfferIDLinkId").length>0){$(".sendSMSOfferErrorMsgCancel").on("click tap",function(){if(!t)return t=!0,setTimeout(function(){t=!1},100),com.site.Modal.checkAndSetScrollablePopup("SMSOffer"),!1});$("#sendSMSOfferButtonId").bind("touchstart touchend",function(){$(this).toggleClass("buttonTapClass")});$("#sendSMSOfferButtonId").on("click tap",function(){if(!t){if(t=!0,setTimeout(function(){t=!1},100),n.validateSMSNumber(!0)){if(_selfSendSMS.getSMSType()=="VINSms")return n.getShortUrlLinkForVinSms(),!1;(_selfSendSMS.getSMSType()=="initialOffer"||_selfSendSMS.getSMSType()=="instantOffer")&&n.sendSMSOffer()}return!1}});$("#SMSOfferIDLinkTextId").bind({click:function(){!OfferIdGBL||(n.setSMSText("instantOffer",""),n.getTwilioCallerNumber())}});$("#SMSIniitalOfferIDLinkTextId").bind({click:function(){n.getInitialOfferLoadStatus()&&(n.setSMSText("initialOffer",""),n.getTwilioCallerNumber())}});$("#SMSVINIDLinkTextId").bind({click:function(){n.setSMSText("VINSms","");n.getTwilioCallerNumber()}});$("#SMSNumber").formatter({pattern:"({{999}}) {{999}}-{{9999}}"});$("#SMSNumber").bind({blur:function(){setTimeout(function(){n.validateSMSNumber(!1)},200)},keyup:function(){com.site.Util.removeErrorStateToInput("SMSNumber",!0)},keypress:function(n){return com.site.Util.checkCharacter(n)},paste:function(){setTimeout(function(){n.validateSMSNumber(!1)},50)}})}}},com){if(typeof com!="object")throw new Error("com already exists and is not an object");}else com={};if(com.site){if(typeof com.site!="object")throw new Error("com.site already exists and is not an object");}else com.site={};if(com.site.CreateAccount){if(typeof com.site.CreateAccount!="object")throw new Error("com.site.CreateAccount already exists and is not an object");}else com.site.CreateAccount={};if(com.site.CreateAccount.createAccountQuestionProperty=[{name:"createAccountEmailInput",isVisible:!0,answer:"",errorText:"email address",setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer}}],com.site.CreateAccount.CreateAccountControl=function(n){this.postEnableButton=n.postEnableButton;this.postDisableButton=n.postDisableButton;this.postClickEnableButton=n.postClickEnableButton;this.postClickDisableButton=n.postClickDisableButton;this.CAQId=com.site.CreateAccount.createAccountQuestionProperty;this.AttachCreateAccountEvents();this.MIN_PASSWORD_LENGTH=6;this.ErrorMessageText="";this.PreviousErrorMessageTextFilled=!1},com.site.CreateAccount.CreateAccountControl.prototype={getInputIndexFromName:function(n){for(var t=0;t<this.CAQId.length;t++)if(this.CAQId[t].name==n)return t;return null},getInputValue:function(n){var t=this.getInputIndexFromName(n);return this.CAQId[t].getAnswer()},createAccountButtonAction:function(){this.validateAllInput(!1,!0);this.IsAllAnsweredSet()===!0?this.postClickEnableButton():(this.ErrorMessageText="",this.PreviousErrorMessageTextFilled=!1,this.highLightError(),this.postClickDisableButton())},highLightError:function(){this.validateAllInput(!0,!0)},hideCustomErrorAlert:function(){$("#createAccountErrorMsg .errorMessageText").html("");$("#createAccountErrorMsg").hide()},validateAllInput:function(n,t){this.validateInput("createAccountEmailInput",n,t)},IsAllAnsweredSet:function(){for(var t,n=0;n<this.CAQId.length;n++)if(t=this.CAQId[n],t.isVisible&&t.answer=="")return n;return!0},validateInput:function(n,t,i){var r=this.getInputIndexFromName(n),u=$.trim($("#"+n).val());if(this.CAQId[r].isVisible){if(com.site.Util.isBlank(n))return this.CAQId[r].setAnswer(""),i||(com.site.Util.removeErrorStateToInput(n,!0),this.hideCustomErrorAlert()),t&&(com.site.Util.addErrorStateToInput(n,!0),(this.ErrorMessageText==""||this.PreviousErrorMessageTextFilled)&&(this.ErrorMessageText=this.ErrorMessageText!=""?this.ErrorMessageText.replace(".",",")+" "+this.CAQId[r].errorText+".":"Enter valid "+this.CAQId[r].errorText+".",this.PreviousErrorMessageTextFilled=!0)),!1;switch(n){case"createAccountEmailInput":if(!com.site.Util.isValidEmail(u))return this.CAQId[r].setAnswer(""),(i||t)&&(com.site.Util.addErrorStateToInput(n,!0),this.ErrorMessageText==""?this.ErrorMessageText="Enter valid email address.":""),!1}this.CAQId[r].setAnswer($.trim($("#"+n).val()));com.site.Util.addSuccessStateToInput(n,!0)}return!0},enableButton:function(){this.postEnableButton()},disableButton:function(){this.postDisableButton()},checkAllAnswerSet:function(){if(this.IsAllAnsweredSet()===!0){this.enableButton();return}this.disableButton()},resetAllInput:function(){$("#createAccountEmailInput").val("");com.site.Util.resetInputState("createAccountEmailInput",!0);this.validateAllInput(!1,!1);this.checkAllAnswerSet()},scrollTopInCharome:function(n){jQuery.browser.mobile&&!com.site.Util.isiPhone()&&$(".modal-scrollable").animate({scrollTop:$(n).position().top-50})},AttachCreateAccountEvents:function(){var n=this;n.resetAllInput();$("#createAccountEmailInput").bind({blur:function(){var t=this;setTimeout(function(){n.validateInput(t.id,!1,!0);n.checkAllAnswerSet()},150,t)},keyup:function(){com.site.Util.removeErrorStateToInput(this.id,!0);n.hideCustomErrorAlert();n.validateInput(this.id,!1);n.checkAllAnswerSet()},keydown:function(t){var i=com.site.Util.getKeyCode(t),r=this;return setTimeout(function(){i==com.site.Config.ENTER_KEY_CODE&&(n.validateAllInput(!0,!0),n.IsAllAnsweredSet()===!0&&n.postClickEnableButton())},0,r,i),i==com.site.Config.ENTER_KEY_CODE?(t.stopPropagation(),t.preventDefault(),!1):void 0},paste:function(){var t=this;setTimeout(function(){com.site.Util.removeErrorStateToInput(this.id,!0);n.hideCustomErrorAlert();n.validateInput(t.id,!1,!1);n.checkAllAnswerSet()},50,t)},click:function(){n.scrollTopInCharome(this)}})}},com){if(typeof com!="object")throw new Error("com already exists and is not an object");}else com={};if(com.site){if(typeof com.site!="object")throw new Error("com.site already exists and is not an object");}else com.site={};if(com.site.Login){if(typeof com.site.Login!="object")throw new Error("com.site.Login already exists and is not an object");}else com.site.Login={};if(com.site.Login.loginQuestionProperty=[{name:"loginEmailInput",isVisible:!0,answer:"",errorText:"email address",setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer}},{name:"loginPasswordInput",isVisible:!0,answer:"",errorText:"password",setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer}}],com.site.Login.LoginControl=function(n){this.postEnableButton=n.postEnableButton;this.postDisableButton=n.postDisableButton;this.postClickEnableButton=n.postClickEnableButton;this.postClickDisableButton=n.postClickDisableButton;this.LQId=com.site.Login.loginQuestionProperty;this.AttachLoginEvents();this.MIN_PASSWORD_LENGTH=6;this.ErrorMessageText="";this.PreviousErrorMessageTextFilled=!1},com.site.Login.LoginControl.prototype={getInputIndexFromName:function(n){for(var t=0;t<this.LQId.length;t++)if(this.LQId[t].name==n)return t;return null},getInputValue:function(n){var t=this.getInputIndexFromName(n);return this.LQId[t].getAnswer()},loginButtonAction:function(){this.validateInput("loginEmailInput",!1);this.validateInput("loginPasswordInput",!1);this.IsAllAnsweredSet()===!0?this.postClickEnableButton():(this.ErrorMessageText="",this.PreviousErrorMessageTextFilled=!1,this.highLightError(),this.postClickDisableButton())},highLightError:function(){this.validateInput("loginEmailInput",!0,!0);this.validateInput("loginPasswordInput",!0,!0)},hideCustomErrorAlert:function(){$("#loginErrorMsg .errorMessageText").html("");$("#loginErrorMsg").hide()},IsAllAnsweredSet:function(){for(var t,n=0;n<this.LQId.length;n++)if(t=this.LQId[n],t.isVisible&&t.answer=="")return n;return!0},validateInput:function(n,t,i){var r=this.getInputIndexFromName(n),u=$.trim($("#"+n).val());if(com.site.Util.isBlank(n))return this.LQId[r].setAnswer(""),i||(com.site.Util.removeErrorStateToInput(n,!0),this.hideCustomErrorAlert()),t&&(com.site.Util.addErrorStateToInput(n,!0),(this.ErrorMessageText==""||this.PreviousErrorMessageTextFilled)&&(this.ErrorMessageText=this.ErrorMessageText!=""?this.ErrorMessageText.replace(".",",")+" "+this.LQId[r].errorText+".":"Enter valid "+this.LQId[r].errorText+".",this.PreviousErrorMessageTextFilled=!0)),!1;switch(n){case"loginEmailInput":if(!com.site.Util.isValidEmail(u))return this.LQId[r].setAnswer(""),(i||t)&&(com.site.Util.addErrorStateToInput(n,!0),this.ErrorMessageText==""?this.ErrorMessageText="Enter valid email address.":""),!1;break;case"loginPasswordInput":if(!com.site.Util.checkForValidPassword(u))return this.LQId[r].setAnswer(""),com.site.Util.addErrorStateToInput(n,!0),this.ErrorMessageText==""?this.ErrorMessageText="Invalid password character.":"",!1;if(u.length<this.MIN_PASSWORD_LENGTH)return this.LQId[r].setAnswer(""),(i||t)&&(com.site.Util.addErrorStateToInput(n,!0),this.ErrorMessageText==""?this.ErrorMessageText="Passwords must be six or more characters.":""),!1}return this.LQId[r].setAnswer($.trim($("#"+n).val())),com.site.Util.addSuccessStateToInput(n,!0),!0},enableButton:function(){this.postEnableButton()},disableButton:function(){this.postDisableButton()},checkAllAnswerSet:function(){if(this.IsAllAnsweredSet()===!0){this.enableButton();return}this.disableButton()},resetAllInput:function(){$("#loginEmailInput, #loginPasswordInput").val("");com.site.Util.resetInputState("loginEmailInput",!0);com.site.Util.resetInputState("loginPasswordInput",!0);this.validateInput("loginEmailInput",!1,!1);this.validateInput("loginPasswordInput",!1,!1);this.checkAllAnswerSet()},scrollTopInCharome:function(n){jQuery.browser.mobile&&!com.site.Util.isiPhone()&&$(".modal-scrollable").animate({scrollTop:$(n).position().top-50})},AttachLoginEvents:function(){var n=this;n.resetAllInput();$("#loginEmailInput, #loginPasswordInput").bind({blur:function(){var t=this;setTimeout(function(){var i=t.id=="loginEmailInput"||t.id=="loginPasswordInput"?!0:!1;n.validateInput(t.id,!1,i);n.checkAllAnswerSet()},150,t)},keyup:function(){com.site.Util.removeErrorStateToInput(this.id,!0);n.checkAllAnswerSet();n.hideCustomErrorAlert()},keydown:function(t){var i=com.site.Util.getKeyCode(t),r=this;return setTimeout(function(){i==com.site.Config.ENTER_KEY_CODE&&(n.validateInput("loginEmailInput",!1,!1),n.validateInput("loginPasswordInput",!1,!1),$("#loginPasswordInput").blur(),n.IsAllAnsweredSet()===!0&&n.postClickEnableButton())},0,r,i),i==com.site.Config.ENTER_KEY_CODE?(t.stopPropagation(),t.preventDefault(),!1):void 0},paste:function(){var t=this;setTimeout(function(){com.site.Util.removeErrorStateToInput(this.id,!0);n.hideCustomErrorAlert();n.validateInput(t.id,!1,!1);n.checkAllAnswerSet()},50,t)},click:function(){n.scrollTopInCharome(this)}})}},com){if(typeof com!="object")throw new Error("com already exists and is not an object");}else com={};if(com.site){if(typeof com.site!="object")throw new Error("com.site already exists and is not an object");}else com.site={};if(com.site.CreateAccountAndLogin){if(typeof com.site.CreateAccountAndLogin!="object")throw new Error("com.site.CreateAccountAndLogin already exists and is not an object");}else com.site.CreateAccountAndLogin={};if(com.site.CreateAccountAndLogin.loginUsingFacebookClicked=!1,com.site.CreateAccountAndLogin.IsSocialLoggedIn=!1,ZIPCodeTimeZoneGBL="",differentSellerAccount=!1,com.site.CreateAccountAndLogin.getTimeZone=function(){var n=com.site.Util.getBrowserTimeZone();return com.site.Util.isBrowserTimeZoneInsideUSA(n)?n:ZIPCodeTimeZoneGBL!=""?ZIPCodeTimeZoneGBL:com.site.Config.DefaultSellerTimeZone},com.site.CreateAccountAndLogin.showFacebookErrorPopUpForLogin=function(){com.site.CreateAccountAndLogin.infoPopUpModalObj.openModal({id:"loginFacebookError"})},com.site.CreateAccountAndLogin.showFacebookErrorPopUpForCreateAccount=function(){com.site.CreateAccountAndLogin.infoPopUpModalObj.openModal({id:"createAccountFacebookError"})},com.site.CreateAccountAndLogin.systemErrorPopupOpen=function(){infoPopUpModalObj.openModal({id:"systemError"})},com.site.CreateAccountAndLogin.showLogin=function(){com.site.CreateAccountAndLogin.createAccountPageObj.resetAllInput();com.site.CreateAccountAndLogin.loginPageObj.resetAllInput();forgotPasswordPageObj.resetAllInput();$("#accountSectionId, #forgotPasswordSectionId").fadeOut("slow",function(){$("#createAccountLoginModal").append($("#accountSectionId"));$("#createAccountLoginModal").append($("#forgotPasswordSectionId"))});$("#accountSectionId, #forgotPasswordSectionId").hide();$("#loginSectionId").fadeIn("slow",function(){});$("#loginSectionId").show();jQuery.browser.mobile||$("#loginEmailInput").focus();$("#createAccountModalButtonId").removeClass("btn-success")},com.site.CreateAccountAndLogin.showCreateAccount=function(){com.site.CreateAccountAndLogin.loginPageObj.resetAllInput();com.site.CreateAccountAndLogin.createAccountPageObj.resetAllInput();forgotPasswordPageObj.resetAllInput();$("#loginSectionId, #forgotPasswordSectionId").fadeOut("slow",function(){$("#createAccountLoginModal").append($("#loginSectionId"));$("#createAccountLoginModal").append($("#forgotPasswordSectionId"))});$("#loginSectionId, #forgotPasswordSectionId").hide();$("#accountSectionId").fadeIn("slow",function(){});jQuery.browser.mobile||$("#createAccountEmailInput").focus();$("#accountSectionId").show();$("#loginModalButtonId").removeClass("btn-success")},com.site.CreateAccountAndLogin.showForgotPassword=function(){setTimeout(function(){var n=com.site.CreateAccountAndLogin.loginPageObj.getInputValue("loginEmailInput");com.site.CreateAccountAndLogin.loginPageObj.resetAllInput();com.site.CreateAccountAndLogin.createAccountPageObj.resetAllInput();forgotPasswordPageObj.resetAllInput();!n||forgotPasswordPageObj.setInputValue("fpEmailInput",n)},150);$("#loginSectionId, #accountSectionId").fadeOut("slow",function(){$("#createAccountLoginModal").append($("#loginSectionId"));$("#createAccountLoginModal").append($("#accountSectionId"))});$("#loginSectionId, #accountSectionId").hide();$("#forgotPasswordSectionId").fadeIn("slow",function(){});$("#forgotPasswordErrorMsg").hide();$("#forgotPasswordSectionId").show();jQuery.browser.mobile||$("#fpEmailInput").focus()},com.site.CreateAccountAndLogin.prepareDuplicateVehicleString=function(n){var t=n.Vehicle.Year.Name,i=n.Vehicle.Make.Name,r=n.Vehicle.Model.Name;return t+" "+i+" "+r},com.site.CreateAccountAndLogin.showDuplicateVehicleModal=function(n){com.site.CreateAccountAndLogin.infoPopUpModalObj.openModal({id:"vehicleAlreadyExist",vehicle:com.site.CreateAccountAndLogin.prepareDuplicateVehicleString(n.Claim),response:n})},com.site.CreateAccountAndLogin.showDuplicateVehicleModalForListing=function(n){com.site.CreateAccountAndLogin.infoPopUpModalObj.openModal({id:"vehicleAlreadyListed",vehicle:com.site.CreateAccountAndLogin.prepareDuplicateVehicleString(n.Claim),response:n})},com.site.CreateAccountAndLogin.showDuplicateAcceptedVehicleModal=function(n){com.site.CreateAccountAndLogin.booleanPopUpModalObj.openModal({id:"vehicleAlreadyExistAsAccepted",vehicle:com.site.CreateAccountAndLogin.prepareDuplicateVehicleString(n.Claim),response:n})},com.site.CreateAccountAndLogin.showDuplicateAcceptedVinModal=function(n){com.site.CreateAccountAndLogin.infoPopUpModalObj.openModal({id:"vinAlreadyExistAsAccepted",vehicle:com.site.CreateAccountAndLogin.prepareDuplicateVehicleString(n.Claim),response:n})},com.site.CreateAccountAndLogin.showDuplicateDifferentSellerVinModal=function(n){com.site.CreateAccountAndLogin.infoPopUpModalObj.openModal({id:"vinAlreadyExistForDifferentSeller",vehicle:com.site.CreateAccountAndLogin.prepareDuplicateVehicleString(n.Claim),response:n})},com.site.CreateAccountAndLogin.showPublisherDuplicateVinAcceptedModal=function(n){com.site.CreateAccountAndLogin.infoPopUpModalObj.openModal({id:"publisherVinAlreadyExistAsAccepted",vehicle:com.site.CreateAccountAndLogin.prepareDuplicateVehicleString(n.Claim),response:n})},com.site.CreateAccountAndLogin.showPublisherDuplicateAcceptedVehicleModal=function(n){com.site.CreateAccountAndLogin.infoPopUpModalObj.openModal({id:"publisherVehicleAlreadyExistAsAccepted",vehicle:com.site.CreateAccountAndLogin.prepareDuplicateVehicleString(n.Claim),response:n})},com.site.CreateAccountAndLogin.setInfoPopUpSuccessButtonAction=function(n){var t=n.call(this);(t.id=="vehicleAlreadyExist"||t.id=="vinAlreadyExistAsAccepted"||t.id=="vehicleAlreadyListed")&&(t.id=="vehicleAlreadyExist"&&com.site.Util.isPublisherView()&&t.modalAnswer.DuplicationResponseMessage=="DifferentPublisherSameSellerOpenVehicle"||t.modalAnswer.DuplicationResponseMessage=="DifferentPublisherSameSellerOpenVIN"?com.site.CreateAccountAndLogin.transferOwnership(AccountIdGBL,t.modalAnswer.Claim.ClaimId,OfferIdGBL):window.open(t.modalAnswer.RedirectPage+"?OfferID="+t.modalAnswer.Claim.ClaimCode+"&zipcode="+t.modalAnswer.Claim.Location.ZipCode,"_self",!1));t.id=="vinAlreadyExistForDifferentSeller"&&(differentSellerAccount=!0,com.site.CreateAccountAndLogin.openLoginPopupModal());(t.id=="vinAlreadyExistAsAccepted"||t.id=="publisherVinAlreadyExistAsAccepted"||t.id=="publisherVehicleAlreadyExistAsAccepted"||t.id=="vinAlreadyExistForDifferentSeller")&&com.site.Util.isPublisherView()&&(t.modalAnswer.DuplicationResponseMessage=="DifferentPublisherSameSellerAcceptedVehicle"||t.modalAnswer.DuplicationResponseMessage=="SameSellerAcceptedVehicle"||t.modalAnswer.DuplicationResponseMessage=="SameSellerListedVehicle"||t.modalAnswer.DuplicationResponseMessage=="SameSellerListedVIN"||t.modalAnswer.DuplicationResponseMessage=="SameSellerAcceptedVIN"||t.modalAnswer.DuplicationResponseMessage=="DifferentSellerOpenVIN"||t.modalAnswer.DuplicationResponseMessage=="DifferentSellerAcceptedVIN"||t.modalAnswer.DuplicationResponseMessage=="DifferentPublisherDifferentSellerOpenVIN"||t.modalAnswer.DuplicationResponseMessage=="DifferentPublisherSameSellerListedVehicle"||t.modalAnswer.DuplicationResponseMessage=="DifferentPublisherSameSellerListedVIN"||t.modalAnswer.DuplicationResponseMessage=="DifferentPublisherDifferentSellerAcceptedVIN"||t.modalAnswer.DuplicationResponseMessage=="DifferentPublisherSameSellerAcceptedVIN")&&$("#createAccountLoginModal").modal("hide")},com.site.CreateAccountAndLogin.setInfoPopUpCancelButtonAction=function(n){var t=n.call(this)},com.site.CreateAccountAndLogin.setBooleanPopupLeftButtonAction=function(n){var t=n.call(this);t.id=="accountAlreadyExist";t.id=="vehicleAlreadyExistAsAccepted"&&com.site.CreateAccountAndLogin.createClaimRequest(AccountIdGBL,OfferIdGBL)},com.site.CreateAccountAndLogin.setBooleanPopupRightButtonAction=function(n){var t=n.call(this);t.id=="vehicleAlreadyExistAsAccepted"&&(com.site.AjaxEngine.showMask=!0,com.site.CreateAccountAndLogin.showModalMask(),window.open(t.modalAnswer.RedirectPage+"?OfferID="+t.modalAnswer.Claim.ClaimCode+"&zipcode="+t.modalAnswer.Claim.Location.ZipCode,"_self",!1))},com.site.CreateAccountAndLogin.setBooleanPopupCancelButtonAction=function(n){var t=n.call(this);t.id=="vehicleAlreadyExistAsAccepted"&&t.postCloseActionRequired&&(com.site.CreateAccountAndLogin.enableLoginButton(),com.site.CreateAccountAndLogin.enableCreateAccountButton())},com.site.CreateAccountAndLogin.postEnableCreateAccountButtonAction=function(){$("#createAccountModalButtonId").addClass("btn-success")},com.site.CreateAccountAndLogin.postDisableCreateAccountButtonAction=function(){$("#createAccountModalButtonId").removeClass("btn-success")},com.site.CreateAccountAndLogin.postClickCreateAccountEnableButton=function(){com.site.CreateAccountAndLogin.requestForCreatingAccount()},com.site.CreateAccountAndLogin.postClickCreateAccountDisableButton=function(){com.site.CreateAccountAndLogin.createAccountPageObj.ErrorMessageText!=""&&($("#createAccountErrorMsg .errorMessageText").html(com.site.CreateAccountAndLogin.createAccountPageObj.ErrorMessageText),$("#createAccountErrorMsg").show())},com.site.CreateAccountAndLogin.disableCreateAccountButton=function(){com.site.CreateAccountAndLogin.IsSocialLoggedIn?$("#createAccountModalButtonId").html("Logging in..."):$("#createAccountModalButtonId").html("Creating...");$("#createAccountModalButtonId").attr("disabled","disabled")},com.site.CreateAccountAndLogin.enableCreateAccountButton=function(){$("#createAccountModalButtonId").html("Continue");$("#createAccountModalButtonId").removeAttr("disabled")},com.site.CreateAccountAndLogin.showExistingAccountInLogin=function(){var n=com.site.CreateAccountAndLogin.createAccountPageObj.getInputValue("createAccountEmailInput");com.site.CreateAccountAndLogin.IsAdminView!=""?com.site.CreateAccountAndLogin.sendDataForAutoLogin():(setTimeout(function(){$("#loginEmailInput").val(n);$("#loginEmailInput").blur()},300),com.site.Util.trackPage("login"),com.site.CreateAccountAndLogin.showLogin(),com.site.Util.addErrorStateToInput("loginPasswordInput",!0),$("#loginErrorMsg").show(),$("#loginErrorMsg .errorMessageText").html("You already have an account. Enter your password."))},com.site.CreateAccountAndLogin.postEnableLoginButtonAction=function(){$("#loginModalButtonId").addClass("btn-success")},com.site.CreateAccountAndLogin.postDisableLoginButtonAction=function(){$("#loginModalButtonId").removeClass("btn-success")},com.site.CreateAccountAndLogin.postClickLoginEnableButton=function(){com.site.CreateAccountAndLogin.requestForLogin()},com.site.CreateAccountAndLogin.postClickLoginDisableButton=function(){com.site.CreateAccountAndLogin.loginPageObj.ErrorMessageText!=""&&($("#loginErrorMsg .errorMessageText").html(com.site.CreateAccountAndLogin.loginPageObj.ErrorMessageText),$("#loginErrorMsg").show())},com.site.CreateAccountAndLogin.disableLoginButton=function(){$("#loginModalButtonId").html("Logging in...");$("#loginModalButtonId").attr("disabled","disabled")},com.site.CreateAccountAndLogin.enableLoginButton=function(){$("#loginModalButtonId").html("Log in");$("#loginModalButtonId").removeAttr("disabled")},com.site.CreateAccountAndLogin.requestForCreatingAccount=function(){com.site.CreateAccountAndLogin.IsSocialLoggedIn=!1;com.site.CreateAccountAndLogin.disableCreateAccountButton();com.site.AjaxEngine.showMask=!0;com.site.CreateAccountAndLogin.showModalMask();var n={};n.Email=com.site.CreateAccountAndLogin.createAccountPageObj.getInputValue("createAccountEmailInput");n.TimeZone=com.site.CreateAccountAndLogin.getTimeZone();com.site.DataService.createAccount(n,com.site.CreateAccountAndLogin.requestForCreatingAccountCallback)},com.site.CreateAccountAndLogin.requestForCreatingAccountCallback=function(n){var t=n;t.Success==!0?t.IsLogin==!0?com.site.CreateAccountAndLogin.performAction(t,"createAccount"):com.site.CreateAccountAndLogin.performAction(t,"createAccount"):com.site.CreateAccountAndLogin.performAction(t,"createAccount")},com.site.CreateAccountAndLogin.requestForLogin=function(){var t,n;if(!com.site.Util.areCookiesEnabled()){com.site.CreateAccountAndLogin.infoPopUpModalObj.openModal({id:"cookieDisable"});return}com.site.CreateAccountAndLogin.disableLoginButton();com.site.AjaxEngine.showMask=!0;com.site.CreateAccountAndLogin.showModalMask();t="0";$("#StayLogIn div").hasClass("checked")&&(t="1");n={};n.Email=com.site.CreateAccountAndLogin.loginPageObj.getInputValue("loginEmailInput");n.Password=com.site.CreateAccountAndLogin.loginPageObj.getInputValue("loginPasswordInput");n.rememberMe=t;com.site.DataService.login(n,com.site.CreateAccountAndLogin.requestForLoginCallback)},com.site.CreateAccountAndLogin.requestForLoginCallback=function(n){var t=n;t.Success==!0?com.site.CreateAccountAndLogin.performAction(t,"login"):(t.ErrorMessage?(com.site.CreateAccountAndLogin.enableLoginButton(),com.site.AjaxEngine.hideLoadingMask(),com.site.CreateAccountAndLogin.hideModalMask(),t.ErrorMessage=="INVALID_EMAIL_OR_PASSWORD_ERROR"?($("#loginErrorMsg .errorMessageText").html("Enter valid email address or password."),$("#loginErrorMsg").show()):($("#loginErrorMsg .errorMessageText").html(t.ErrorMessage),$("#loginErrorMsg").show())):com.site.CreateAccountAndLogin.sendDataForCharityLogin(),EventTracking("Login","Click","Invalid Email or Password-"+com.site.CreateAccountAndLogin.loginPageObj.getInputValue("loginEmailInput")))},com.site.CreateAccountAndLogin.sendDataForBuyerLogin=function(){var t,n;com.site.CreateAccountAndLogin.disableLoginButton();com.site.AjaxEngine.showMask=!0;com.site.CreateAccountAndLogin.showModalMask();t="0";$("#StayLogIn div").hasClass("checked")&&(t="1");n={};n.Email=com.site.CreateAccountAndLogin.loginPageObj.getInputValue("loginEmailInput");n.Password=com.site.CreateAccountAndLogin.loginPageObj.getInputValue("loginPasswordInput");n.rememberMe=t;com.site.DataService.loginBuyer(n,com.site.CreateAccountAndLogin.sendDataForBuyerLoginCallback)},com.site.CreateAccountAndLogin.sendDataForBuyerLoginCallback=function(n){var t=n;if(t.Success==!0)window.open(com.site.Config.PartnerLoginURL,"_self",!1);else{if(com.site.CreateAccountAndLogin.enableLoginButton(),com.site.AjaxEngine.hideLoadingMask(),com.site.CreateAccountAndLogin.hideModalMask(),t.ErrorCode==16||t.ErrorCode==202||t.ErrorCode==203||t.ErrorCode==204){$("#loginErrorMsg .errorMessageText").html(t.ErrorMessage);$("#loginErrorMsg").show();return}$("#loginErrorMsg .errorMessageText").html("Enter valid email address or password.");$("#loginErrorMsg").show();EventTracking("Login","Click","Invalid Buyer Email or Password-"+com.site.CreateAccountAndLogin.loginPageObj.getInputValue("loginEmailInput"))}},com.site.CreateAccountAndLogin.sendDataForCharityLogin=function(){var t,n;com.site.CreateAccountAndLogin.disableLoginButton();t=!1;$("#StayLogIn input").attr("checked")==="checked"&&(t=!0);n={};n.Email=com.site.CreateAccountAndLogin.loginPageObj.getInputValue("loginEmailInput");n.Password=com.site.CreateAccountAndLogin.loginPageObj.getInputValue("loginPasswordInput");n.RememberMe=t;com.site.DataService.loginCharity(n,com.site.CreateAccountAndLogin.sendDataForCharityLoginCallback)},com.site.CreateAccountAndLogin.sendDataForCharityLoginCallback=function(n){var t=n;t.Success==!0?window.open(com.site.Config.CharityLoginURL,"_self",!1):(com.site.CreateAccountAndLogin.sendDataForBuyerLogin(),EventTracking("Login","Click","Invalid Charity Email or Password-"+com.site.CreateAccountAndLogin.loginPageObj.getInputValue("loginEmailInput")))},com.site.CreateAccountAndLogin.performAction=function(n,t){if(com.site.Util.resetAgentSessionTimer(),t==""&&(n.Action!=2||n.Action!=11)?(com.site.CreateAccountAndLogin.enableCreateAccountButton(),com.site.CreateAccountAndLogin.enableLoginButton(),com.site.AjaxEngine.hideLoadingMask(),com.site.CreateAccountAndLogin.hideModalMask()):t=="createAccount"&&(n.Action!=2||n.Action!=11)&&(com.site.CreateAccountAndLogin.enableCreateAccountButton(),com.site.AjaxEngine.hideLoadingMask(),com.site.CreateAccountAndLogin.hideModalMask()),n.Action==2){setTimeout(function(){com.site.CreateAccountAndLogin.showModalMask()},10);var r=com.site.Config.EmailHandlerURL,e=com.site.Util.getURLParameter("cmd")||"",u=com.site.Util.getURLParameter("source")||"",f=com.site.Util.getURLParameter("OfferID")||"",i="";if(e!=""&&e!=null){switch(e){case"ViewOffer":i=r+"?cmd=ViewOffer&Source="+u+"&OfferID="+f;break;case"CancelClaim":i=r+"?cmd=CancelClaim&Source="+u+"&OfferID="+f;case"ConfirmCancelYes":i=r+"?cmd=ConfirmCancelYes&Source="+u+"&OfferID="+f;break;case"ConfirmCancelNo":i=r+"?cmd=ConfirmCancelNo&Source="+u+"&OfferID="+f;break;case"SendMeOffers":i=r+"?cmd=SendMeOffers&Source="+u+"&OfferID="+f;break;case"LearnMore":i=r+"?cmd=LearnMore&Source="+u+"&OfferID="+f;break;case"GetStartedNow":i=r+"?cmd=GetStartedNow&Source="+u+"&OfferID="+f;break;case"GetStartedNowOnDecline":i=r+"?cmd=GetStartedNowOnDecline&Source="+u+"&OfferID="+f}window.open(i,"_self",!1);return}window.open(n.RedirectPage,"_self",!1);return}n.Action==5?!differentSellerAccount||!AccountIdGBL||!n.AccountId||AccountIdGBL==n.AccountId?!differentSellerAccount||!AccountIdGBL||!n.AccountId||AccountIdGBL!=n.AccountId?n.DuplicationResponseMessage=="SameSellerOpenVehicle"||n.DuplicationResponseMessage=="SameSellerOpenVIN"?com.site.CreateAccountAndLogin.showDuplicateVehicleModal(n):n.DuplicationResponseMessage=="SameSellerAcceptedVIN"?com.site.Util.isPublisherView()?com.site.CreateAccountAndLogin.showPublisherDuplicateVinAcceptedModal(n):com.site.CreateAccountAndLogin.showDuplicateAcceptedVinModal(n):n.DuplicationResponseMessage=="SameSellerListedVehicle"||n.DuplicationResponseMessage=="SameSellerListedVIN"?com.site.Util.isPublisherView()?n.DuplicationResponseMessage=="SameSellerListedVehicle"?com.site.CreateAccountAndLogin.showPublisherDuplicateAcceptedVehicleModal(n):n.DuplicationResponseMessage=="SameSellerListedVIN"&&com.site.CreateAccountAndLogin.showPublisherDuplicateVinAcceptedModal(n):com.site.CreateAccountAndLogin.showDuplicateVehicleModalForListing(n):n.DuplicationResponseMessage=="DifferentSellerOpenVIN"||n.DuplicationResponseMessage=="DifferentSellerAcceptedVIN"?com.site.Util.isPublisherView()?com.site.CreateAccountAndLogin.showPublisherDuplicateVinAcceptedModal(n):com.site.CreateAccountAndLogin.showDuplicateDifferentSellerVinModal(n):n.DuplicationResponseMessage=="SameSellerAcceptedVehicle"?com.site.Util.isPublisherView()?com.site.CreateAccountAndLogin.showPublisherDuplicateAcceptedVehicleModal(n):com.site.CreateAccountAndLogin.showDuplicateAcceptedVehicleModal(n):n.DuplicationResponseMessage=="DifferentPublisherSameSellerOpenVehicle"||n.DuplicationResponseMessage=="DifferentPublisherSameSellerOpenVIN"?com.site.CreateAccountAndLogin.showDuplicateVehicleModal(n):n.DuplicationResponseMessage=="DifferentPublisherSameSellerListedVehicle"||n.DuplicationResponseMessage=="DifferentPublisherSameSellerListedVIN"?com.site.Util.isPublisherView()?n.DuplicationResponseMessage=="DifferentPublisherSameSellerListedVehicle"?com.site.CreateAccountAndLogin.showPublisherDuplicateAcceptedVehicleModal(n):n.DuplicationResponseMessage=="DifferentPublisherSameSellerListedVIN"&&com.site.CreateAccountAndLogin.showPublisherDuplicateVinAcceptedModal(n):com.site.CreateAccountAndLogin.showDuplicateVehicleModalForListing(n):n.DuplicationResponseMessage=="DifferentPublisherDifferentSellerOpenVIN"||n.DuplicationResponseMessage=="DifferentPublisherDifferentSellerAcceptedVIN"||n.DuplicationResponseMessage=="DifferentPublisherSameSellerAcceptedVIN"?com.site.CreateAccountAndLogin.showPublisherDuplicateVinAcceptedModal(n):n.DuplicationResponseMessage=="DifferentPublisherSameSellerAcceptedVehicle"&&com.site.CreateAccountAndLogin.showPublisherDuplicateAcceptedVehicleModal(n):(window.open(com.site.Config.VehicleInfoLink+"?OfferID="+n.Claim.ClaimCode,"_self",!1),differentSellerAccount=!1):(com.site.CreateAccountAndLogin.showDuplicateDifferentSellerVinModal(n),differentSellerAccount=!1):n.Action==8?(AccountIdGBL=n.AccountId,OfferIdGBL=n.OfferId,com.site.CreateAccountAndLogin.enableCreateAccountButton(),com.site.CreateAccountAndLogin.enableLoginButton(),com.site.CreateAccountAndLogin.checkForDuplicateVehicle(AccountIdGBL,OfferIdGBL)):n.Action==9?(com.site.CreateAccountAndLogin.enableCreateAccountButton(),com.site.AjaxEngine.hideLoadingMask(),com.site.CreateAccountAndLogin.hideModalMask(),com.site.CreateAccountAndLogin.showExistingAccountInLogin()):n.Action===10?(t=="createAccount"&&com.site.CreateAccountAndLogin.enableCreateAccountButton(),t=="login"&&com.site.CreateAccountAndLogin.enableLoginButton(),com.site.CreateAccountAndLogin.createClaimRequest(AccountIdGBL,OfferIdGBL)):n.Action===11?(setTimeout(function(){com.site.CreateAccountAndLogin.showModalMask()},10),com.site.CreateAccountAndLogin.disableLoginButton(),com.site.CreateAccountAndLogin.disableCreateAccountButton(),typeof instantOfferPageObj!="undefined"&&instantOfferPageObj.getInstantOfferAmount()==0?window.open(com.site.Config.AcceptOfferLink+"?OfferID="+n.ClaimCode,"_self",!1):typeof instantOfferSlideVisibility!="undefined"&&instantOfferSlideVisibility?window.open(com.site.Config.AcceptOfferLink+"?OfferID="+n.ClaimCode,"_self",!1):window.open(com.site.Config.CustomerHandlerURL+"?OfferID="+n.ClaimCode,"_self",!1)):n.Action===14?(com.site.AjaxEngine.hideLoadingMask(),com.site.CreateAccountAndLogin.hideModalMask(),t=="createAccount"?(com.site.CreateAccountAndLogin.enableLoginButton(),$("#createAccountErrorMsg .errorMessageText").html(n.ErrorMessage),$("#createAccountErrorMsg").show()):t=="login"?(com.site.CreateAccountAndLogin.enableLoginButton(),$("#loginErrorMsg .errorMessageText").html(n.ErrorMessage),$("#loginErrorMsg").show()):$("#loginSectionId").is(":visible")?(com.site.CreateAccountAndLogin.enableLoginButton(),$("#loginErrorMsg .errorMessageText").html(n.ErrorMessage),$("#loginErrorMsg").show()):(com.site.CreateAccountAndLogin.enableLoginButton(),$("#createAccountErrorMsg .errorMessageText").html(n.ErrorMessage),$("#createAccountErrorMsg").show())):n.Action===15?(com.site.AjaxEngine.hideLoadingMask(),com.site.CreateAccountAndLogin.hideModalMask(),$("#accountSectionId").css("display")!="none"?($("#createAccountErrorMsg .errorMessageText").html("You must share your email with Peddle to connect with Facebook."),$("#createAccountErrorMsg").show()):$("#loginSectionId").css("display")!="none"&&($("#loginErrorMsg .errorMessageText").html("You must share your email with Peddle to connect with Facebook."),$("#loginErrorMsg").show())):n.Action===16?(com.site.AjaxEngine.hideLoadingMask(),com.site.CreateAccountAndLogin.hideModalMask(),$("#accountSectionId").css("display")!="none"?($("#createAccountErrorMsg .errorMessageText").html("You must share your email with Peddle to connect with Google."),$("#createAccountErrorMsg").show()):$("#loginSectionId").css("display")!="none"&&($("#loginErrorMsg .errorMessageText").html("You must share your email with Peddle to connect with Google."),$("#loginErrorMsg").show())):(com.site.AjaxEngine.hideLoadingMask(),com.site.CreateAccountAndLogin.hideModalMask(),t=="login"&&com.site.CreateAccountAndLogin.enableLoginButton())},com.site.CreateAccountAndLogin.checkForDuplicateVehicle=function(n,t){com.site.AjaxEngine.showMask=!0;com.site.CreateAccountAndLogin.showModalMask();com.site.CreateAccountAndLogin.disableLoginButton();com.site.CreateAccountAndLogin.disableCreateAccountButton();var i={};i.AccountId=n;i.OfferId=t;com.site.DataService.checkForDuplicateVehicle(i,com.site.CreateAccountAndLogin.checkForDuplicateVehicleCallback)},com.site.CreateAccountAndLogin.checkForDuplicateVehicleCallback=function(n){var t=n;t.Success==!0?com.site.CreateAccountAndLogin.performAction(t,""):(com.site.CreateAccountAndLogin.enableCreateAccountButton(),com.site.CreateAccountAndLogin.enableLoginButton(),com.site.AjaxEngine.hideLoadingMask(),com.site.CreateAccountAndLogin.hideModalMask())},com.site.CreateAccountAndLogin.transferOwnership=function(n,t,i){com.site.AjaxEngine.showMask=!0;com.site.CreateAccountAndLogin.showModalMask();com.site.CreateAccountAndLogin.disableLoginButton();com.site.CreateAccountAndLogin.disableCreateAccountButton();var r={};r.AccountId=n;r.OfferId=t;r.InstantOfferId=i;com.site.DataService.transferOwnership(r,com.site.CreateAccountAndLogin.transferOwnershipCallback)},com.site.CreateAccountAndLogin.transferOwnershipCallback=function(n){var t=n;t.Success==!0?window.open(t.RedirectPage+"?OfferID="+t.Claim.ClaimCode,"_self",!1):(com.site.CreateAccountAndLogin.enableCreateAccountButton(),com.site.CreateAccountAndLogin.enableLoginButton(),com.site.AjaxEngine.hideLoadingMask(),com.site.CreateAccountAndLogin.hideModalMask())},com.site.CreateAccountAndLogin.createClaimRequest=function(n,t){com.site.AjaxEngine.showMask=!0;com.site.CreateAccountAndLogin.showModalMask();com.site.CreateAccountAndLogin.disableLoginButton();com.site.CreateAccountAndLogin.disableCreateAccountButton();var i={};i.AccountId=n;i.OfferId=t;com.site.DataService.createClaimFromOffer(i,com.site.CreateAccountAndLogin.createClaimRequestCallback)},com.site.CreateAccountAndLogin.createClaimRequestCallback=function(n){var t=n;t.Success==!0?com.site.CreateAccountAndLogin.performAction(t,""):(com.site.CreateAccountAndLogin.systemErrorPopupOpen(),com.site.CreateAccountAndLogin.enableCreateAccountButton(),com.site.CreateAccountAndLogin.enableLoginButton(),com.site.AjaxEngine.hideLoadingMask(),com.site.CreateAccountAndLogin.hideModalMask())},com.site.CreateAccountAndLogin.sendDataForAutoLogin=function(){com.site.AjaxEngine.showMask=!0;com.site.CreateAccountAndLogin.showModalMask();com.site.CreateAccountAndLogin.disableLoginButton();com.site.CreateAccountAndLogin.disableCreateAccountButton();var n={};n.Email=com.site.CreateAccountAndLogin.createAccountPageObj.getInputValue("createAccountEmailInput");com.site.DataService.AutoLoginAgentUsingEmail(n,com.site.CreateAccountAndLogin.sendDataForAutoLoginCallback)},com.site.CreateAccountAndLogin.sendDataForAutoLoginCallback=function(n){var t=n;t.Success==!0?com.site.CreateAccountAndLogin.performAction(t,"createAccount"):(com.site.CreateAccountAndLogin.systemErrorPopupOpen(),com.site.CreateAccountAndLogin.enableCreateAccountButton(),com.site.CreateAccountAndLogin.enableLoginButton(),com.site.AjaxEngine.hideLoadingMask(),com.site.CreateAccountAndLogin.hideModalMask())},com.site.CreateAccountAndLogin.isScriptAlreadyIncluded=function(n){for(var i=document.getElementsByTagName("script"),t=0;t<i.length;t++)if(i[t].getAttribute("src")==n)return!0;return!1},com.site.CreateAccountAndLogin.faceBookLoginInitiation=function(){window.fbAsyncInit=function(){FB.init({appId:com.site.Config.FacebookAppId,status:!0,cookie:!0,xfbml:!0,oauth:!0,version:"v2.6"})};com.site.CreateAccountAndLogin.isScriptAlreadyIncluded("//connect.facebook.net/en_US/sdk.js")||function(n){var t,i="facebook-jssdk";n.getElementById(i)||(t=n.createElement("script"),t.id=i,t.async=!0,t.src="//connect.facebook.net/en_US/sdk.js",n.getElementsByTagName("head")[0].appendChild(t))}(document)},com.site.CreateAccountAndLogin.loginUsingFacebook=function(n){com.site.CreateAccountAndLogin.loginUsingFacebookClicked=!1;n.authResponse&&n.authResponse.accessToken&&n.authResponse.accessToken!=""&&com.site.CreateAccountAndLogin.getFacebookAuthentication(n.authResponse.accessToken)},com.site.CreateAccountAndLogin.getFacebookAuthentication=function(n){com.site.CreateAccountAndLogin.IsSocialLoggedIn=!0;com.site.CreateAccountAndLogin.disableCreateAccountButton();com.site.CreateAccountAndLogin.disableLoginButton();com.site.AjaxEngine.showMask=!0;com.site.CreateAccountAndLogin.showModalMask();var t={};t.FacebookAuthenticationToken=n;t.TimeZone=com.site.CreateAccountAndLogin.getTimeZone();com.site.DataService.facebookLogin(t,com.site.CreateAccountAndLogin.getFacebookAuthenticationCallback)},com.site.CreateAccountAndLogin.getFacebookAuthenticationCallback=function(n){var t=n;t.Success==!0?t.IsLogin==!0?com.site.CreateAccountAndLogin.performAction(t,""):com.site.CreateAccountAndLogin.performAction(t,""):com.site.CreateAccountAndLogin.performAction(t,"")},com.site.CreateAccountAndLogin.googleLoginInitiation=function(){com.site.CreateAccountAndLogin.isScriptAlreadyIncluded("https://apis.google.com/js/api:client.js")||function(n){var t,i="google-jsapi";n.getElementById(i)||(t=n.createElement("script"),t.id=i,t.async=!0,t.src="https://apis.google.com/js/api:client.js?onload=startApp",n.getElementsByTagName("head")[0].appendChild(t))}(document);googleUser={};startApp=function(){gapi.load("auth2",function(){auth2=gapi.auth2.init({client_id:com.site.Config.GoogleClientId,cookiepolicy:"single_host_origin",scope:"profile email"});com.site.CreateAccountAndLogin.attachSignin(document.getElementById("googleLogInButtonId"));com.site.CreateAccountAndLogin.attachSignin(document.getElementById("googleSignOnButtonId"))})}},com.site.CreateAccountAndLogin.attachSignin=function(n){auth2.attachClickHandler(n,{},function(t){var i=t.getAuthResponse().access_token;EventTracking("Login","Click","Login/sign on Using Google");com.site.CreateAccountAndLogin.loginUsingGoogleButtonType=n.id=="googleSignOnButtonId"?"createAccount":"login";com.site.CreateAccountAndLogin.getGoogleAuthentication(i)})},com.site.CreateAccountAndLogin.getGoogleAuthentication=function(n){com.site.CreateAccountAndLogin.IsSocialLoggedIn=!0;com.site.CreateAccountAndLogin.disableCreateAccountButton();com.site.CreateAccountAndLogin.disableLoginButton();com.site.AjaxEngine.showMask=!0;com.site.CreateAccountAndLogin.showModalMask();var t={};t.GoogleAuthenticationToken=n;t.TimeZone=com.site.CreateAccountAndLogin.getTimeZone();com.site.DataService.googleLogin(t,com.site.CreateAccountAndLogin.getGoogleAuthenticationCallback)},com.site.CreateAccountAndLogin.getGoogleAuthenticationCallback=function(n){var t=n;t.Success==!0?t.IsLogin==!0?com.site.CreateAccountAndLogin.performAction(t,""):com.site.CreateAccountAndLogin.performAction(t,""):com.site.CreateAccountAndLogin.performAction(t,"")},com.site.CreateAccountAndLogin.AttachEventsOnCreateAccountAndLogin=function(){var n=!1;$("#createAccountModalButtonId, #loginModalButtonId").bind("touchstart touchend",function(){$(this).toggleClass("buttonTapClass")});$("#createAccountModalButtonId").on("click tap",function(){if(!n)return n=!0,setTimeout(function(){n=!1},100),com.site.CreateAccountAndLogin.createAccountPageObj.createAccountButtonAction(),!1});$("#loginModalButtonId").on("click tap",function(){if(!n)return n=!0,setTimeout(function(){n=!1},100),com.site.CreateAccountAndLogin.loginPageObj.loginButtonAction(),!1});$("#createAccountLoginModal").on("hide.bs.modal",function(){com.site.CreateAccountAndLogin.showLogin();com.site.CreateAccountAndLogin.showCreateAccount()});$("#loginLinkIO, #createAccountLinkIO, #forgetPasswordLinkIO, #returnToLoginLinkIO").on("click tap",function(){if(!n)return n=!0,setTimeout(function(){n=!1},100),this.id=="loginLinkIO"&&(com.site.Util.trackPage("login"),com.site.CreateAccountAndLogin.showLogin()),this.id=="createAccountLinkIO"&&(com.site.Util.trackPage("createaccount"),com.site.CreateAccountAndLogin.showCreateAccount()),this.id=="forgetPasswordLinkIO"&&(com.site.Util.trackPage("forgotpassword"),com.site.CreateAccountAndLogin.showForgotPassword()),this.id=="returnToLoginLinkIO"&&(com.site.Util.trackPage("login"),com.site.CreateAccountAndLogin.showLogin()),!1});$("#facebookLogInButtonId, #facebookSignOnButtonId").on("click tap",function(){if(!n)return n=!0,setTimeout(function(){n=!1},100),com.site.CreateAccountAndLogin.loginUsingFacebookClicked||typeof FB!="object"||(EventTracking("Login","Click","Login/sign on Using Facebook"),com.site.CreateAccountAndLogin.loginUsingFacebookClicked=!0,com.site.CreateAccountAndLogin.loginUsingFacebookButtonType=this.id=="facebookSignOnButtonId"?"createAccount":"login",FB.login(com.site.CreateAccountAndLogin.loginUsingFacebook,{scope:"email"})),!1});$(".createAccountLoginErrorMsgCancel").on("click tap",function(){if(!n)return n=!0,setTimeout(function(){n=!1},100),!1});jQuery.browser.mobile||(com.site.Util.initKeyNavigationPlugin("#accountSectionId"),com.site.Util.initKeyNavigationPlugin("#loginSectionId"),com.site.Util.initKeyNavigationPlugin("#forgotPasswordSectionId"))},com.site.CreateAccountAndLogin.openLoginPopupModal=function(){com.site.CreateAccountAndLogin.faceBookLoginInitiation();com.site.CreateAccountAndLogin.googleLoginInitiation();com.site.CreateAccountAndLogin.loginPageObj.resetAllInput();com.site.CreateAccountAndLogin.createAccountPageObj.resetAllInput();forgotPasswordPageObj.resetAllInput();$("#createAccountLoginModal").append($("#accountSectionId"));$("#createAccountLoginModal").append($("#forgotPasswordSectionId"));$("#accountSectionId").hide();$("#forgotPasswordSectionId").hide();$("#loginSectionId").show();com.site.CreateAccountAndLogin.attachAllModalsEvent("createAccountLoginModal");$("#createAccountLoginModal").modal("show");jQuery.browser.mobile||$("#loginEmailInput").focus();$("#menu").trigger("close")},com.site.CreateAccountAndLogin.openCreateAccountPopupModal=function(){com.site.CreateAccountAndLogin.faceBookLoginInitiation();com.site.CreateAccountAndLogin.googleLoginInitiation();com.site.CreateAccountAndLogin.loginPageObj.resetAllInput();com.site.CreateAccountAndLogin.createAccountPageObj.resetAllInput();forgotPasswordPageObj.resetAllInput();$("#createAccountLoginModal").append($("#loginSectionId"));$("#createAccountLoginModal").append($("#forgotPasswordSectionId"));$("#loginSectionId").hide();$("#forgotPasswordSectionId").hide();$("#accountSectionId").show();com.site.CreateAccountAndLogin.attachAllModalsEvent("createAccountLoginModal");$("#createAccountLoginModal").modal("show");jQuery.browser.mobile||$("#createAccountEmailInput").focus();$("#menu").trigger("close")},com.site.CreateAccountAndLogin.showModalMask=function(){com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask()},com.site.CreateAccountAndLogin.hideModalMask=function(){com.site.AjaxEngine.hideLoadingMask()},com.site.CreateAccountAndLogin.attachAllModalsEvent=function(n){if(com.site.Util.isiPhone()&&$("#createAccountLoginModal").addClass("modalScrollIssueInIOS"),jQuery.browser.mobile){$("#"+n).on("hidden.bs.modal",function(){$("body").removeClass("positionFixedClass")});$("#"+n).on("shown.bs.modal",function(){$("body").addClass("positionFixedClass")})}},$(document).ready(function(){com.site.CreateAccountAndLogin.IsAdminView=$("#adminUser").val();com.site.CreateAccountAndLogin.loginPageInit={postEnableButton:com.site.CreateAccountAndLogin.postEnableLoginButtonAction,postDisableButton:com.site.CreateAccountAndLogin.postDisableLoginButtonAction,postClickEnableButton:com.site.CreateAccountAndLogin.postClickLoginEnableButton,postClickDisableButton:com.site.CreateAccountAndLogin.postClickLoginDisableButton};com.site.CreateAccountAndLogin.loginPageObj=new com.site.Login.LoginControl(com.site.CreateAccountAndLogin.loginPageInit);com.site.CreateAccountAndLogin.createAccountPageInit={postEnableButton:com.site.CreateAccountAndLogin.postEnableCreateAccountButtonAction,postDisableButton:com.site.CreateAccountAndLogin.postDisableCreateAccountButtonAction,postClickEnableButton:com.site.CreateAccountAndLogin.postClickCreateAccountEnableButton,postClickDisableButton:com.site.CreateAccountAndLogin.postClickCreateAccountDisableButton};com.site.CreateAccountAndLogin.createAccountPageObj=new com.site.CreateAccount.CreateAccountControl(com.site.CreateAccountAndLogin.createAccountPageInit);com.site.CreateAccountAndLogin.infoPopUpModalInit={setSuccessButtonAction:com.site.CreateAccountAndLogin.setInfoPopUpSuccessButtonAction,setCancelButtonAction:com.site.CreateAccountAndLogin.setInfoPopUpCancelButtonAction};com.site.CreateAccountAndLogin.infoPopUpModalObj=new com.site.Modal.InfoPopUpModalControl(com.site.CreateAccountAndLogin.infoPopUpModalInit);com.site.CreateAccountAndLogin.booleanPopUpModalInit={setLeftButtonAction:com.site.CreateAccountAndLogin.setBooleanPopupLeftButtonAction,setRightButtonAction:com.site.CreateAccountAndLogin.setBooleanPopupRightButtonAction,setCancelButtonAction:com.site.CreateAccountAndLogin.setBooleanPopupCancelButtonAction};com.site.CreateAccountAndLogin.booleanPopUpModalObj=new com.site.Modal.BooleanPopUpModalControl(com.site.CreateAccountAndLogin.booleanPopUpModalInit);com.site.CreateAccountAndLogin.AttachEventsOnCreateAccountAndLogin();$("#StayLogIn input").iCheck({checkboxClass:"icheckbox_minimal-blue",radioClass:"iradio_minimal-blue",increaseArea:"20%"});$("#StayLogIn input").iCheck("check")}),com){if(typeof com!="object")throw new Error("com already exists and is not an object");}else com={};if(com.site){if(typeof com.site!="object")throw new Error("com.site already exists and is not an object");}else com.site={};if(com.site.ForgotPassword){if(typeof com.site.ForgotPassword!="object")throw new Error("com.site.ForgotPassword already exists and is not an object");}else com.site.ForgotPassword={};if(com.site.ForgotPassword.forgotPasswordQuestionProperty=[{name:"fpEmailInput",isVisible:!0,answer:"",setAnswer:function(n){this.answer=n},getAnswer:function(){return this.answer}}],com.site.ForgotPassword.ForgotPasswordControl=function(n){this.postEnableButton=n.postEnableButton;this.postDisableButton=n.postDisableButton;this.postClickEnableButton=n.postClickEnableButton;this.postClickDisableButton=n.postClickDisableButton;this.FPId=com.site.ForgotPassword.forgotPasswordQuestionProperty;this.AttachForgotPasswordEvents();this.ErrorMessageText=""},com.site.ForgotPassword.ForgotPasswordControl.prototype={getInputIndexFromName:function(n){for(var t=0;t<this.FPId.length;t++)if(this.FPId[t].name==n)return t;return null},getInputValue:function(n){var t=this.getInputIndexFromName(n);return this.FPId[t].getAnswer()},setInputValue:function(n,t){$("#fpEmailInput").val(t);this.validateInput(n,!1,!0);this.checkAllAnswerSet()},resetButtonAction:function(){this.validateInput("fpEmailInput",!1,!0);this.IsAllAnsweredSet()===!0?this.postClickEnableButton():(this.ErrorMessageText="",this.highLightError(),this.postClickDisableButton())},highLightError:function(){this.validateInput("fpEmailInput",!0,!0)},hideCustomErrorAlert:function(){$("#forgotPasswordErrorMsg .errorMessageText").html("");$("#forgotPasswordErrorMsg").hide()},IsAllAnsweredSet:function(){for(var t,n=0;n<this.FPId.length;n++)if(t=this.FPId[n],t.isVisible&&t.answer=="")return n;return!0},validateInput:function(n,t,i){var r=this.getInputIndexFromName(n),u=$.trim($("#"+n).val());return com.site.Util.isBlank(n)?(this.FPId[r].setAnswer(""),i||(com.site.Util.removeErrorStateToInput(n,!0),this.hideCustomErrorAlert()),t&&(com.site.Util.addErrorStateToInput(n,!0),this.ErrorMessageText="Enter a valid email address."),!1):com.site.Util.isValidEmail(u)?(this.FPId[r].setAnswer($.trim($("#"+n).val())),com.site.Util.addSuccessStateToInput(n,!0),!0):(this.FPId[r].setAnswer(""),(i||t)&&(com.site.Util.addErrorStateToInput(n,!0),this.ErrorMessageText==""?this.ErrorMessageText="Enter valid email address.":""),!1)},enableButton:function(){this.postEnableButton()},disableButton:function(){this.postDisableButton()},checkAllAnswerSet:function(){if(this.IsAllAnsweredSet()===!0){this.enableButton();return}this.disableButton()},resetAllInput:function(){$("#fpEmailInput").val("");com.site.Util.resetInputState("fpEmailInput",!0);this.validateInput("fpEmailInput",!1,!1);this.checkAllAnswerSet()},AttachForgotPasswordEvents:function(){var n=this,t=!1;n.resetAllInput();$("#fpEmailInput").bind({blur:function(){var t=this;setTimeout(function(){n.validateInput(t.id,!1,!0);n.checkAllAnswerSet()},150,t)},keyup:function(){com.site.Util.removeErrorStateToInput(this.id,!0);n.checkAllAnswerSet()},keydown:function(t){var i=com.site.Util.getKeyCode(t),r=this;setTimeout(function(){i==com.site.Config.ENTER_KEY_CODE&&(n.validateInput("fpEmailInput",!1,!1),n.IsAllAnsweredSet()===!0&&n.postClickEnableButton())},0,r,i)},paste:function(){var t=this;setTimeout(function(){com.site.Util.removeErrorStateToInput(this.id,!0);n.validateInput(t.id,!1,!1);n.checkAllAnswerSet()},50,t)}});$("#resetBtn").bind("touchstart touchend",function(){$(this).toggleClass("buttonTapClass")});t=!1;$("#resetBtn").on("click tap",function(){if(!t)return t=!0,com.site.ForgotPassword.fromModal=$(this).hasClass("forgotPasswordModalResetBtn")?!0:!1,setTimeout(function(){t=!1},100),n.resetButtonAction(),!1})}},com.site.ForgotPassword.postEnableButtonAction=function(){$("#slideError").fadeOut();$("#resetBtn").addClass("btn-success")},com.site.ForgotPassword.postDisableButtonAction=function(){$("#resetBtn").removeClass("btn-success")},com.site.ForgotPassword.postClickEnableButton=function(){com.site.ForgotPassword.requestForPasswordLink()},com.site.ForgotPassword.postClickDisableButton=function(){forgotPasswordPageObj.ErrorMessageText!=""&&($("#forgotPasswordErrorMsg .errorMessageText").html(forgotPasswordPageObj.ErrorMessageText),$("#forgotPasswordErrorMsg").show())},com.site.ForgotPassword.disableForgotPasswordButton=function(){$("#resetBtn").html("Sending...");$("#resetBtn").attr("disabled","disabled")},com.site.ForgotPassword.enableForgotPasswordButton=function(){$("#resetBtn").html("Submit");$("#resetBtn").removeAttr("disabled")},com.site.ForgotPassword.showResetPasswordPopUp=function(){infoPopUpModalObj.openModal({id:"forgotPasswordEmailSent"})},com.site.ForgotPassword.showEmailNotSentPopUp=function(){infoPopUpModalObj.openModal({id:"forgotPasswordEmailNotSent"})},com.site.ForgotPassword.setInfoPopUpSuccessButtonAction=function(n){var t=n.call(this);t.id=="forgotPasswordEmailSent"&&(com.site.ForgotPassword.fromModal?com.site.CreateAccountAndLogin.showLogin():window.open(com.site.Config.LogInLink,"_self",!1));t.id=="forgotPasswordEmailNotSent"&&com.site.ForgotPassword.requestForPasswordLink()},com.site.ForgotPassword.setInfoPopUpCancelButtonAction=function(n){var t=n.call(this);com.site.ForgotPassword.fromModal?com.site.CreateAccountAndLogin.showLogin():window.open(com.site.Config.LogInLink,"_self",!1)},com.site.ForgotPassword.requestForPasswordLink=function(){com.site.ForgotPassword.disableForgotPasswordButton();var n={};n.Email=forgotPasswordPageObj.getInputValue("fpEmailInput");com.site.DataService.sendForgotPasswordLink(n,com.site.ForgotPassword.requestForPasswordLinkCallback)},com.site.ForgotPassword.requestForPasswordLinkCallback=function(n){com.site.ForgotPassword.enableForgotPasswordButton();var t=n;t.Success==!0?com.site.ForgotPassword.showResetPasswordPopUp():com.site.ForgotPassword.performAction(t)},com.site.ForgotPassword.performAction=function(n){n.Action==1?com.site.ForgotPassword.showEmailNotSentPopUp():n.Action==3?(com.site.Util.addErrorStateToInput("fpEmailInput",!0),$(".errorMessageText").html("Enter valid email address."),$(".errorMessageAlert").show()):n.Action===14?($(".errorMessageText").html(n.ErrorMessage),$(".errorMessageAlert").show()):com.site.ForgotPassword.showEmailNotSentPopUp()},$(document).ready(function(){infoPopUpModalInit={setSuccessButtonAction:com.site.ForgotPassword.setInfoPopUpSuccessButtonAction,setCancelButtonAction:com.site.ForgotPassword.setInfoPopUpCancelButtonAction};infoPopUpModalObj=new com.site.Modal.InfoPopUpModalControl(infoPopUpModalInit);forgotPasswordPageInit={postEnableButton:com.site.ForgotPassword.postEnableButtonAction,postDisableButton:com.site.ForgotPassword.postDisableButtonAction,postClickEnableButton:com.site.ForgotPassword.postClickEnableButton,postClickDisableButton:com.site.ForgotPassword.postClickDisableButton};forgotPasswordPageObj=new com.site.ForgotPassword.ForgotPasswordControl(forgotPasswordPageInit)}),setProgressBar=function(n){$("#offerProgress").css("width",n+"%")},isProfileShownCompletely=!1,isProfileReachedWindowHeight=!1,com){if(typeof com!="object")throw new Error("com already exists and is not an object");}else com={};if(com.site){if(typeof com.site!="object")throw new Error("com.site already exists and is not an object");}else com.site={};if(com.site.VehicleProfile){if(typeof com.site.VehicleProfile!="object")throw new Error("com.site.VehicleProfile already exists and is not an object");}else com.site.VehicleProfile={};if(com.site.VehicleProfile.vehicleProfileInfoProperty=[{id:"vehicleInfo",isVisible:!0,isFilled:!1,YesText:"",NoText:"",PartialText:"",DefaultText:""},{id:"titleType",isVisible:!0,isFilled:!1,YesText:"I have a clean title.",NoText:"I don't have a title.",PartialText:"I have a salvage or rebuilt title.",DefaultText:"What type of title do you have?"},{id:"vehicleLocation",isVisible:!0,isFilled:!1,YesText:"",NoText:"",PartialText:"",DefaultText:"Location?"},{id:"tires",isVisible:!0,isFilled:!1,YesText:"All wheels are mounted and tires are inflated.",NoText:"One or more wheels are removed.",PartialText:"One or more tires are flat.",DefaultText:"Are the wheels mounted and tires inflated?"},{id:"keyAndBattery",isVisible:!1,isFilled:!1,YesText:"It has a key and the battery is installed and functioning.",NoText:"It is missing the key and/or the battery is missing or dead.",PartialText:"",DefaultText:"Does it have a key and a working battery?"},{id:"drivable",isVisible:!0,isFilled:!1,YesText:"It starts and drives.",NoText:"It doesn't start.",PartialText:"It starts but does not drive.",DefaultText:"Does it drive?"},{id:"underTheHood",isVisible:!1,isFilled:!1,YesText:"The engine and transmission are intact and properly installed.",NoText:"The engine and/or transmission are removed.",PartialText:"The engine and/or transmission are missing parts.",DefaultText:"What's under the hood?"},{id:"taxiUsage",isVisible:!1,isFilled:!1,YesText:"It was never used as a taxi.",NoText:"It has been used as a taxi.",PartialText:"",DefaultText:"Was it used as a taxi?"},{id:"mileage",isVisible:!0,isFilled:!1,YesText:"",NoText:"",PartialText:"",DefaultText:"What's the mileage shown on the odometer?"},{id:"bodyPanel",isVisible:!0,isFilled:!1,YesText:"All body panels (doors, bumpers, hood, etc.) are properly intact and attached.",NoText:"It has loose or missing panels.",PartialText:"",DefaultText:"Any removed exterior body panels?"},{id:"bodyDamage",isVisible:!0,isFilled:!1,YesText:"It has no exterior damage.",NoText:"It has damage that is baseball-sized or larger.",PartialText:"",DefaultText:"Does it have body damage?"},{id:"glassAndLight",isVisible:!0,isFilled:!1,YesText:"The mirrors, glass or lights are intact.",NoText:"Some mirrors, glass or lights are cracked or missing.",PartialText:"",DefaultText:"Any damaged mirrors, glass, or lights?"},{id:"interiorItems",isVisible:!0,isFilled:!1,YesText:"All the interior parts (seats, airbags, radio, etc.) are properly intact and attached.",NoText:"It has damaged or removed interior parts.",PartialText:"",DefaultText:"Any removed interior parts?"},{id:"floodAndFire",isVisible:!0,isFilled:!1,YesText:"It has no flood or fire damage.",NoText:"It has flood or fire damage.",PartialText:"",DefaultText:"Any flood or fire damage?"},{id:"instantOffer",isVisible:!0,isFilled:!1,YesText:"View instant offer",NoText:"",PartialText:"",DefaultText:"Instant offer"},{id:"charityReference",isVisible:!1,isFilled:!1,YesText:"",NoText:"",PartialText:"",DefaultText:"What is your reference ID?"},{id:"carLocation",isVisible:!0,isFilled:!1,YesText:"",NoText:"",PartialText:"",DefaultText:"Where is it currently located?"},{id:"color",isVisible:!0,isFilled:!1,YesText:"",NoText:"",PartialText:"",DefaultText:"What color is your car?"},{id:"payment",isVisible:!1,isFilled:!1,YesText:"",NoText:"",PartialText:"",DefaultText:"How are we paying?"},{id:"mailing",isVisible:!0,isFilled:!1,YesText:"",NoText:"",PartialText:"",DefaultText:"Where are we mailing payment?"},{id:"payWho",isVisible:!0,isFilled:!1,YesText:"",NoText:"",PartialText:"",DefaultText:"Who's getting paid?"},{id:"contact",isVisible:!0,isFilled:!1,YesText:"",NoText:"",PartialText:"",DefaultText:"Who may we contact?"},{id:"whatIsVin",isVisible:!0,isFilled:!1,YesText:"",NoText:"",PartialText:"",DefaultText:"What is the Vehicle Identification Number?"},{id:"titleIssued",isVisible:!0,isFilled:!1,YesText:"",NoText:"",PartialText:"",DefaultText:"In what state was the title issued?"},{id:"owner",isVisible:!0,isFilled:!1,YesText:"",NoText:"",PartialText:"",DefaultText:"What is the owner(s) name shown on the title?"},{id:"canSign",isVisible:!0,isFilled:!1,YesText:"The owner(s) can sign the title.",NoText:"The owner(s) cannot sign the title.",PartialText:"",DefaultText:"Is the owner(s) able to sign as required?"},{id:"liens",isVisible:!0,isFilled:!1,YesText:"The vehicle is free of any liens.",NoText:"There are outstanding liens on the vehicle.",PartialText:"There is a lien listed on the title, but there is a documentation to prove it is paid in full.",DefaultText:"Do you have any outstanding liens?"},{id:"addPhotos",isVisible:!1,isFilled:!1,YesText:"",NoText:"",PartialText:"",DefaultText:"Add photos"},{id:"acceptOffer",isVisible:!0,isFilled:!1,YesText:"Accept offer",NoText:"",PartialText:"",DefaultText:"Accept offer"}],com.site.VehicleProfile.VehicleProfileControl=function(n){var t=this;this.VPId=com.site.VehicleProfile.vehicleProfileInfoProperty;this.postClickLink=n.postClickLink;this.AttachVehicleProfileEvent();this.isColumnized=!1;this.isReColumnized=!1;this.offerId="";$(window).on("resize",function(){$("#collapseOne").hasClass("in")&&(t.stickyFooter(),$("#vehicleProfilePanel").removeClass("profilePanelNano"),t.resetProfileScroller())})},com.site.VehicleProfile.VehicleProfileControl.prototype={getInputIndexFromId:function(n){for(var t=0;t<this.VPId.length;t++)if(this.VPId[t].id==n)return t;return null},setOfferId:function(n){this.offerId=n;!n||($(".vehicleProfileMiniTabText").html("My car ID "+n),$(".profilePanelHeadingContainer a").addClass("miniTabWithOfferIdBack"))},getOfferId:function(){return this.offerId},setVehicleProfileDefaultText:function(n,t){var i=this.getInputIndexFromId(n);this.VPId[i].DefaultText=t},setVehicleProfileYesText:function(n,t){var i=this.getInputIndexFromId(n);this.VPId[i].YesText=t},setVehicleProfileNoText:function(n,t){var i=this.getInputIndexFromId(n);this.VPId[i].NoText=t},setVehicleProfileIcon:function(n,t,i){var r="partialVehicleProfile";if(this.removeSubConditionIcon(n,t),$("#"+n+"VPId .vehicleProfileCheckIconTD div").removeClass("vehicleProfileCheckIcon vehicleProfileUnCheckIcon"),t!=""){if(i!=""&&(i.DSFOption&&(r+="TL"),i.PSFOption&&(r+="TR"),i.PSROption&&(r+="BR"),i.DSROption&&(r+="BL"),$("#"+n+"VPId .vehicleProfileCheckIconTD div").addClass(r)),t=="Yes"){$("#"+n+"VPId .vehicleProfileCheckIconTD div").removeClass("vehicleProfileUnCheckIcon");$("#"+n+"VPId .vehicleProfileCheckIconTD div").addClass("vehicleProfileCheckIcon");return}$("#"+n+"VPId .vehicleProfileCheckIconTD div").removeClass("vehicleProfileCheckIcon");$("#"+n+"VPId .vehicleProfileCheckIconTD div").addClass("vehicleProfileUnCheckIcon")}},removeSubConditionIcon:function(n){if($("#"+n+"VPId .vehicleProfileCheckIconTD div").length>0){var t=$("#"+n+"VPId .vehicleProfileCheckIconTD div").attr("class").split(/\s+/);$.each(t,function(t,i){i.indexOf("partial")==0&&$("#"+n+"VPId .vehicleProfileCheckIconTD div").removeClass(i)})}},setAllVehicleProfileData:function(n){var k=n.vehicleInfo,l=n.titleInstantOffer,bt=n.isVehicleInfoFilled,d=n.vehicleLocation,g=n.keyAndBatteryVisible||"false",a=n.keyAndBattery,r=n.drivable,v=n.underTheHood,y=n.taxiUsage,nt=n.taxiUsageVisible||"false",tt=n.mileageText,u=n.bodyPanel,p=n.interiorItems,i=n.tires,f=n.bodyDamage,e=n.glassAndLight,w=n.floodAndFire,kt=n.missingPanelModal,dt=n.bodyDamageModal,gt=n.flatTireModal,ni=n.missingTireModal,ti=n.glassDamageModal,it=n.carLocation,rt=n.charityReference||"",ii=n.charityReferenceVisible||"false",ri=n.charityReferenceOptional||"false",ut=n.charityId||"false",ft=n.color,et=n.payment||"",ot=n.mailing||"",ui=n.mailingVisible||"false",fi=n.mailingOptional||"false",st=n.payWho,o=n.contact,t;o=$.trim(o);var ht=n.whatIsVin,ei=n.vinOptionalStatus,ct=n.vinVisible,s=n.title,lt=n.titleIssuedVisible,at=n.titleIssued,vt=n.owner,yt=n.canSignVisible,h=n.canSign,c=n.liens,oi=n.addPhotos,b=n.isListed,pt=n.imageContainerLength||0,si=n.isNavigationStateChangeRequired||"Yes",wt=n.isContactPhone||"true";for(t=0;t<this.VPId.length;t++)switch(this.VPId[t].id){case"vehicleInfo":this.VPId[t].isFilled=!1;k!=""&&$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(k);bt&&(this.VPId[t].isFilled=!0);break;case"titleType":l!=""?(this.VPId[t].isFilled=!0,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.getConditionTextFromAnswer(l,t)),this.setVehicleProfileIcon(this.VPId[t].id,l,"")):(this.VPId[t].isFilled=!1,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"",""));break;case"vehicleLocation":d!=""?(this.VPId[t].isFilled=!0,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(d),this.setVehicleProfileIcon(this.VPId[t].id,"Yes","")):(this.VPId[t].isFilled=!1,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"",""));break;case"keyAndBattery":g=="true"&&a!=""?(this.VPId[t].isFilled=!0,this.VPId[t].isVisible=!0,$("#keyAndBatteryVPId").show(),$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.getConditionTextFromAnswer(a,t)),this.setVehicleProfileIcon(this.VPId[t].id,a,"")):g=="true"?(this.VPId[t].isFilled=!1,this.VPId[t].isVisible=!0,$("#keyAndBatteryVPId").show(),$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"","")):(this.VPId[t].isFilled=!1,this.VPId[t].isVisible=!1,$("#keyAndBatteryVPId").hide(),$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"",""));break;case"drivable":r!=""?($("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.getConditionTextFromAnswer(r,t)),this.setVehicleProfileIcon(this.VPId[t].id,r,""),this.VPId[t].isFilled=!0,r=="Yes"||r=="Partial"?($("#underTheHoodVPId").hide(),this.VPId[this.getInputIndexFromId("underTheHood")].isVisible=!1):($("#underTheHoodVPId").show(),this.VPId[this.getInputIndexFromId("underTheHood")].isVisible=!0)):(this.VPId[t].isFilled=!1,this.VPId[this.getInputIndexFromId("underTheHood")].isVisible=!1,$("#underTheHoodVPId").hide(),$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"",""));break;case"underTheHood":v!=""?($("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.getConditionTextFromAnswer(v,t)),this.setVehicleProfileIcon(this.VPId[t].id,v,""),this.VPId[t].isFilled=!0):(this.VPId[t].isFilled=!1,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"",""));break;case"taxiUsage":nt=="true"&&y!=""?(this.VPId[t].isFilled=!0,this.VPId[t].isVisible=!0,$("#taxiUsageVPId").show(),$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.getConditionTextFromAnswer(y,t)),this.setVehicleProfileIcon(this.VPId[t].id,y,"")):nt=="true"?(this.VPId[t].isFilled=!1,this.VPId[t].isVisible=!0,$("#taxiUsageVPId").show(),$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"","")):(this.VPId[t].isFilled=!1,this.VPId[t].isVisible=!1,$("#taxiUsageVPId").hide(),$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"",""));break;case"mileage":tt!=""?(this.VPId[t].isFilled=!0,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(tt),this.setVehicleProfileIcon(this.VPId[t].id,"Yes","")):(this.VPId[t].isFilled=!1,this.setVehicleProfileIcon(this.VPId[t].id,"",""),$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText));break;case"bodyPanel":u!=""?(this.VPId[t].isFilled=!0,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.getConditionTextFromAnswer(u,t)),u=="Yes"?this.setVehicleProfileIcon(this.VPId[t].id,u,""):this.setVehicleProfileIcon(this.VPId[t].id,u,kt)):(this.VPId[t].isFilled=!1,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"",""));break;case"interiorItems":p!=""?(this.VPId[t].isFilled=!0,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.getConditionTextFromAnswer(p,t)),this.setVehicleProfileIcon(this.VPId[t].id,p,"")):(this.VPId[t].isFilled=!1,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"",""));break;case"tires":i!=""?(this.VPId[t].isFilled=!0,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.getConditionTextFromAnswer(i,t)),i=="Yes"?this.setVehicleProfileIcon(this.VPId[t].id,i,""):i=="No"?this.setVehicleProfileIcon(this.VPId[t].id,i,ni):this.setVehicleProfileIcon(this.VPId[t].id,i,gt)):(this.VPId[t].isFilled=!1,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,i,""));break;case"bodyDamage":f!=""?(this.VPId[t].isFilled=!0,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.getConditionTextFromAnswer(f,t)),f=="Yes"?this.setVehicleProfileIcon(this.VPId[t].id,f,""):this.setVehicleProfileIcon(this.VPId[t].id,f,dt)):(this.VPId[t].isFilled=!1,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"",""));break;case"glassAndLight":e!=""?(this.VPId[t].isFilled=!0,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.getConditionTextFromAnswer(e,t)),e=="Yes"?this.setVehicleProfileIcon(this.VPId[t].id,e,""):this.setVehicleProfileIcon(this.VPId[t].id,e,ti)):(this.VPId[t].isFilled=!1,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"",""));break;case"floodAndFire":w!=""?(this.VPId[t].isFilled=!0,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.getConditionTextFromAnswer(w,t)),this.setVehicleProfileIcon(this.VPId[t].id,w,"")):(this.VPId[t].isFilled=!1,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"",""));break;case"instantOffer":b!=""?$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html("View asking price"):$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html("View instant offer");break;case"charityReference":rt!=""?(this.VPId[t].isFilled=!0,this.VPId[t].isVisible=!0,$("#charityReferenceVPId").show(),$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html("<strong>Reference ID:<\/strong> "+rt),this.setVehicleProfileIcon(this.VPId[t].id,"Yes","")):ii=="true"?(this.VPId[t].isFilled=!1,this.VPId[t].isVisible=!0,$("#charityReferenceVPId").show(),$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"",""),ri=="true"&&(this.VPId[t].isFilled=!0)):(this.VPId[t].isFilled=!1,this.VPId[t].isVisible=!1,$("#charityReferenceVPId").hide(),$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"",""));break;case"carLocation":it!=""?(this.VPId[t].isFilled=!0,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html("<strong>Location:<\/strong> "+it),this.setVehicleProfileIcon(this.VPId[t].id,"Yes","")):(this.VPId[t].isFilled=!1,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"",""));break;case"color":ft!=""?(this.VPId[t].isFilled=!0,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html("<strong>Color:<\/strong> "+ft),this.setVehicleProfileIcon(this.VPId[t].id,"Yes","")):(this.VPId[t].isFilled=!1,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"",""));break;case"payment":et!=""&&ut=="false"?(this.VPId[t].isFilled=!0,this.VPId[t].isVisible=!0,$("#paymentVPId").show(),et=="onspot"?$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html("<strong>Payment:<\/strong> On spot"):$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html("<strong>Payment:<\/strong> Check by Mail"),this.setVehicleProfileIcon(this.VPId[t].id,"Yes","")):(this.VPId[t].isFilled=!1,this.VPId[t].isVisible=!1,$("#paymentVPId").hide(),$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"",""));break;case"mailing":ot!=""?(this.VPId[t].isFilled=!0,this.VPId[t].isVisible=!0,$("#mailingVPId").show(),$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html("<strong>Mailing:<\/strong> "+ot),this.setVehicleProfileIcon(this.VPId[t].id,"Yes","")):ui=="true"?(this.VPId[t].isFilled=!1,this.VPId[t].isVisible=!0,$("#mailingVPId").show(),$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"",""),fi=="true"&&(this.VPId[t].isFilled=!0)):(this.VPId[t].isFilled=!1,this.VPId[t].isVisible=!1,$("#mailingVPId").hide(),$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"",""));break;case"payWho":ut!="false"?(this.VPId[t].isFilled=!1,this.VPId[t].isVisible=!1,$("#payWhoVPId").hide(),this.VPId[this.getInputIndexFromId("payWho")].isVisible=!1,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"","")):st!=""?($("#payWhoVPId").show(),this.VPId[t].isFilled=!0,this.VPId[t].isVisible=!0,this.VPId[this.getInputIndexFromId("payWho")].isVisible=!0,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html("<strong>Payee:<\/strong> "+st),this.setVehicleProfileIcon(this.VPId[t].id,"Yes","")):(this.VPId[t].isFilled=!1,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"",""));break;case"contact":o!=""?(this.VPId[t].isFilled=!1,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html("<strong>Contact:<\/strong> "+o),this.setVehicleProfileIcon(this.VPId[t].id,"Yes",""),!wt||wt!="true"||(this.VPId[t].isFilled=!0)):(this.VPId[t].isFilled=!1,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"",""));break;case"whatIsVin":ht!=""?(this.VPId[t].isFilled=!0,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html("<strong>VIN:<\/strong> "+ht),this.setVehicleProfileIcon(this.VPId[t].id,"Yes","")):ei?(this.VPId[t].isFilled=!0,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"","")):(this.VPId[t].isFilled=!1,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"",""));!ct||($("#whatIsVinVPId").show(),this.VPId[t].isVisible=!0,ct=="No"&&($("#whatIsVinVPId").hide(),this.VPId[t].isVisible=!1));break;case"title":s!=""?(this.VPId[t].isFilled=!0,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.getConditionTextFromAnswer(s,t)),this.setVehicleProfileIcon(this.VPId[t].id,s,"")):(this.VPId[t].isFilled=!1,this.setVehicleProfileIcon(this.VPId[t].id,s,""),$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText));break;case"titleIssued":at!=""?(this.VPId[t].isFilled=!0,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html("<strong>Title issued:<\/strong> "+at),this.setVehicleProfileIcon(this.VPId[t].id,"Yes","")):(this.VPId[t].isFilled=!1,this.setVehicleProfileIcon(this.VPId[t].id,"",""),$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText));!lt||($("#titleIssuedVPId").show(),this.VPId[t].isVisible=!0,lt=="No"&&($("#titleIssuedVPId").hide(),this.VPId[t].isVisible=!1));break;case"owner":vt!=""?(this.VPId[t].isFilled=!0,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html("<strong>Owner:<\/strong> "+vt),this.setVehicleProfileIcon(this.VPId[t].id,"Yes","")):(this.VPId[t].isFilled=!1,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),this.setVehicleProfileIcon(this.VPId[t].id,"",""));break;case"canSign":h!=""?(this.VPId[t].isFilled=!0,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.getConditionTextFromAnswer(h,t)),this.setVehicleProfileIcon(this.VPId[t].id,h,"")):(this.VPId[t].isFilled=!1,this.setVehicleProfileIcon(this.VPId[t].id,h,""),$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText));!yt||($("#canSignVPId").show(),this.VPId[t].isVisible=!0,yt=="No"&&($("#canSignVPId").hide(),this.VPId[t].isVisible=!1));break;case"liens":c!=""?(this.VPId[t].isFilled=!0,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.getConditionTextFromAnswer(c,t)),this.setVehicleProfileIcon(this.VPId[t].id,c,"")):(this.VPId[t].isFilled=!1,this.setVehicleProfileIcon(this.VPId[t].id,c,""),$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText));break;case"addPhotos":b==""||!this.getOfferId()?(this.VPId[t].isFilled=!1,this.VPId[t].isVisible=!1,this.setVehicleProfileIcon(this.VPId[t].id,"",""),$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),$("#addPhotosVPId").hide()):(this.VPId[t].isFilled=!1,$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html(this.VPId[t].DefaultText),pt===1&&$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html("Add photo"),this.setVehicleProfileIcon(this.VPId[t].id,"",""),oi!=""&&(this.VPId[t].isFilled=!0,this.setVehicleProfileIcon(this.VPId[t].id,"Yes",""),$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html("Manage photos"),pt===1&&$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html("Manage photo")),$("#addPhotosVPId").show(),this.VPId[t].isVisible=!0);break;case"acceptOffer":b!=""?$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html("View listed price"):$("#"+this.VPId[t].id+"VPId .vehicleProfileTextTD").html("Accept offer")}si=="Yes"&&this.setEnableDisableStateForProfile()},getConditionTextFromAnswer:function(n,t){return n=="Yes"?this.VPId[t].YesText:n=="No"?this.VPId[t].NoText:n=="Partial"?this.VPId[t].PartialText:""},setEnableDisableStateForProfile:function(){for(var t,n=1;n<this.VPId.length;n++)$("#"+this.VPId[n].id+"VPId").addClass("disableProfileLinks");for(n=0;n<this.VPId.length;n++)if(this.VPId[n].isFilled&&this.VPId[n].isVisible){for(t=n+1;t<this.VPId.length&&!this.VPId[t].isVisible;)t++;$("#"+this.VPId[t].id+"VPId").removeClass("disableProfileLinks")}else if(this.VPId[n].isVisible)break},stopProfileScroller:function(){$(".profilePanel").nanoScroller({stop:!0})},resetProfileScroller:function(){$(".profilePanel").nanoScroller({iOSNativeScrolling:!0,sliderClass:"scrollNanoSlider"})},stickyFooter:function(){var n,t;isProfileReachedWindowHeight||($(".profilePanelHeadingContainer").addClass("profileStickyFooter"),$("body").addClass("profileFixedBottom"),$("html, body").animate({scrollTop:0},"slow"),isProfileReachedWindowHeight=!0);n=$(window).height()-$(".profilePanelHeadingContainer").height()-$("header").outerHeight();$("#vehicleProfilePanel").css("height",n+$(".profilePanelHeadingContainer    ").height());t=$(window).height()-$(".progressBarContainer").height();$(".profilePanelHeadingContainer").css("top",t);$(".bodyContainer").removeClass("wrapperScroll");this.isColumnized?this.isReColumnized&&($(".vehicleProfileListGroup .column > *").unwrap(),$(".vehicleProfileListGroup div > a").unwrap(),$(".vehicleProfileListGroup br").remove(),$(".vehicleProfileListGroup").columnize({width:340,lastNeverTallest:!0}),this.isReColumnized=!1):($(".vehicleProfileListGroup").find("table, thead, tbody, tfoot, colgroup, caption, label, legend, script, style, textarea, button, object, embed, tr, th, td, li, h1, h2, h3, h4, h5, h6, form").addClass("dontsplit"),$(".vehicleProfileListGroup").columnize({width:340,lastNeverTallest:!0}),this.isColumnized=!0)},AttachVehicleProfileEvent:function(){var n=this,t=!1;$("#collapseOne").on("show.bs.collapse hide.bs.collapse",function(){collapseInterval=setInterval(function(){n.stickyFooter()},10)});$("#collapseOne").on("shown.bs.collapse",function(){clearInterval(collapseInterval);n.stickyFooter();isProfileReachedWindowHeight=!1;isProfileShownCompletely=!1;$(window).height()<=$("#collapseOne").height()+$("header").outerHeight()+$(".profilePanelHeadingContainer").height()&&($("#vehicleProfilePanel").removeClass("profilePanelNano"),$("#vehicleProfilePanelContent").css("margin-bottom",$(".profilePanelHeadingContainer").height()),$(".vehicleProfileListGroup").css("margin-bottom","40px"));$("#vehicleProfilePanel").addClass("openProfilePanel");n.resetProfileScroller();$(".profilePanelHeadingLink").addClass("openProfilePanelHeadingLink");$(".profilePanelHeadingLink").show()});$("#collapseOne").on("show.bs.collapse",function(){$(".openCloseProfileIcon span").removeClass("icon-down-open displayInlineBlock").addClass("icon-up-open");$(".openCloseProfileIcon").removeClass("displayInlineBlock");$(".smallCarIcon").addClass("displayNone");$(".profilePanelHeadingContainer a").addClass("closeMiniTabBack");$(".profilePanelHeadingContainer a").removeClass("miniTabWithOfferIdBack");$(".vehicleProfileMiniTabText").html("Close");$(".profilePanelHeadingLink").hide();$("#vehicleProfilePanelContent").css("height","100%")});$("#collapseOne").on("hide.bs.collapse",function(){$("#vehicleProfilePanel").addClass("profilePanelNano");$("#vehicleProfilePanel").removeClass("openProfilePanel");$(".smallCarIcon").removeClass("displayNone");$(".profilePanelHeadingContainer a").removeClass("closeMiniTabBack");$(".openCloseProfileIcon span").removeClass("icon-up-open").addClass("icon-down-open displayInlineBlock");$(".openCloseProfileIcon").addClass("displayInlineBlock");$(".vehicleProfileMiniTabText").html("My car");!n.getOfferId()||($(".vehicleProfileMiniTabText").html("My car ID "+n.getOfferId()),$(".profilePanelHeadingContainer a").addClass("miniTabWithOfferIdBack"));$("#vehicleProfilePanelContent").css("margin-bottom","0px");$(".profilePanelHeadingLink").hide();$(".profilePanelHeadingLink").removeClass("openProfilePanelHeadingLink");$(".profilePanelHeadingContainer").append($(".profilePanelHeadingLink"))});$("#collapseOne").on("hidden.bs.collapse",function(){n.stopProfileScroller();clearInterval(collapseInterval);$("#collapseOne").css("height","0");n.stickyFooter();isProfileShownCompletely||($(".profilePanelHeadingContainer").removeClass("profileStickyFooter"),$("body").removeClass("profileFixedBottom"),isProfileShownCompletely=!0);$("#vehicleProfilePanel").css("height","auto");isProfileReachedWindowHeight=!1;isProfileShownCompletely=!1;$(".bodyContainer").addClass("wrapperScroll");$(".profilePanelHeadingLink").show();n.isReColumnized=!0});$(".vehicleProfileListGroup a").bind("touchstart touchend",function(){if($(this).hasClass("disableProfileLinks"))return!0;$(this).toggleClass("listHover")});$(".vehicleProfileListGroup a").on("click tap",function(){if(!t){t=!0;setTimeout(function(){t=!1},100);var i="";return i=this.id.replace("VPId",""),n.postClickLink(i),!1}});$("#collapseOne").collapse({toggle:!1})}},com){if(typeof com!="object")throw new Error("com already exists and is not an object");}else com={};if(com.site){if(typeof com.site!="object")throw new Error("com.site already exists and is not an object");}else com.site={};if(com.site.MoreInfo){if(typeof com.site.MoreInfo!="object")throw new Error("com.site.MoreInfo already exists and is not an object");}else com.site.MoreInfo={};if(globalCurrentInfoSlide=0,com.site.MoreInfo.initMoreInfoCycle=function(){$("#myCarousel").cycle({startingSlide:globalCurrentInfoSlide});$("#moreInfoBodyContainer").css("paddingTop","0px");$("#myCarousel").on("cycle-update-view",function(n,t){globalCurrentInfoSlide=t.currSlide;var r=t.currSlide,i=t.slideCount,u=r+1+" of "+i;$(".paginationCurrent").text(u);i>1?($(".moreInfoPaginationContainer").show(),$("#sidebar .nano").css("height","399px")):($(".moreInfoPaginationContainer").hide(),$("#sidebar .nano").css("height","463px"))})},com.site.MoreInfo.MoreInfoQuestionsProperty=[{name:"year",slideInfo:[{description:"Not sure what year your car is? Share your VIN with us and we'll determine the year. Take a look at your vehicle, your title, or proof of insurance to locate your VIN.",imagePath:"/images/MoreInfo/01_year.png",titleText:"Year"}]},{name:"make",slideInfo:[{description:"The make of your car refers to the brand name, such as Honda, Ford, Mercedes, etc. If you're unsure what make your car is, grab your VIN and we'll help you out.",imagePath:"/images/MoreInfo/02_make.png",titleText:"Make"}]},{name:"model",slideInfo:[{description:"The model lets us know what type of car you have, for example: Fit, Sentra, Focus, etc. Still not quite sure what model you car is? Look up your VIN and we'll figure it out.",imagePath:"/images/MoreInfo/03_model.png",titleText:"Model"}]},{name:"trim",slideInfo:[{description:"Trim is a fancy name for the style/sub-model of your car; for instance, Honda Fits come in a Base model or Sports style. Depending on the make of your car, it may be a series of letters, such as LX. Still unsure? Give us your VIN, we'll sort it out.",imagePath:"/images/MoreInfo/04_trim.png",titleText:"Trim"}]},{name:"vin",slideInfo:[{description:"Enter your vehicle identification number to quickly decode your vehicle's exact year, make, model, and trim. You can find your VIN in places such as on the windshield and door-jamb, the title, or your insurance card. There are never any letter I's, O's, or Q's.",imagePath:"/images/MoreInfo/21_VIN.png",titleText:"VIN"}]},{name:"titleType",slideInfo:[{description:"Tell us about your title. A clean title means your car has never been wrecked or rebuilt. A salvage title means your car has been declared a \"total loss\" by the insurance guys. Rebuilt means the car was salvage but later repaired. Or if you don't have a title, let us know and we'll help you out.",imagePath:"/images/MoreInfo/22_title.png",titleText:"Title"}]},{name:"conditionType",slideInfo:[{description:"What is the overall condition of the vehicle? Good condition vehicles start and drive and have little to no damage. Rough condition would include vehicles that do not start or have damage larger than the size of a baseball.",imagePath:"/images/MoreInfo/06_startsdrives.png",titleText:"Condition"}]},{name:"location",slideInfo:[{description:"Where are we picking up your vehicle? The ZIP code will help us determine your offer based on the buyers in the area.",imagePath:"/images/MoreInfo/05_zipcode.png",titleText:"ZIP Code"}]},{name:"keyAndBattery",slideInfo:[{description:"Ensure you have the key or fob needed to start the car. Your car's battery should also be properly installed in the engine compartment and work normally without needing to be jumped. Indicate if you're missing the key or have a missing or dead battery.",imagePath:"/images/MoreInfo/28_batterykey.png",titleText:"Key &amp; Battery"}]},{name:"drivable",slideInfo:[{description:'The vehicle "starts" if upon turning the ignition, it starts normally and idles. It is considered "drivable" if it moves under its own power when placed into gear; it\'s safe to drive, and free of major mechanical issues. The car must start and drive in its current condition. We require that you have the keys in your possession, and that a functioning battery is installed.',imagePath:"/images/MoreInfo/06_startsdrives.png",titleText:"Starts &amp; Drives"}]},{name:"underTheHood",slideInfo:[{description:"Are all parts of the engine and transmission intact and in position to properly operate the vehicle? Let us know if your engine and transmission have any missing or removed parts.",imagePath:"/images/MoreInfo/07_underhood.png",titleText:"Under the Hood"}]},{name:"taxiUsage",slideInfo:[{description:"Let us know if your car was ever used as a taxi service vehicle.",imagePath:"/images/MoreInfo/taxi_q.png",titleText:"Taxi"}]},{name:"mileage",slideInfo:[{description:"What's the mileage (in thousands) shown on the odometer? We'll confirm it upon inspection at the time of pick-up. If you can't see the mileage displayed on the odometer, select \"Unable to verify\" to move forward.",imagePath:"/images/MoreInfo/15_mileage.png",titleText:"Mileage"}]},{name:"bodyPanel",slideInfo:[{description:"The exterior, including doors, bumpers, hood, etc., has the same parts and are properly attached, as when it was assembled in the factory or has aftermarket replacements. Indicate if your vehicle has any removed or loose exterior panels.",imagePath:"/images/MoreInfo/09_panels.png",titleText:"Body Panels"}]},{name:"interiorItems",slideInfo:[{description:"The interior, including the seats, airbags, radio, etc., has the same parts and are properly attached as when it was assembled in the factory or has aftermarket replacements. Indicate if your vehicle has any damaged or removed interior parts.",imagePath:"/images/MoreInfo/10_interior.png",titleText:"Interior Parts"}]},{name:"tires",slideInfo:[{description:"Are all wheels mounted with tires in good condition? Indicate if your car has a flat, or is missing wheels or tires.",imagePath:"/images/MoreInfo/11_tires.png",titleText:"Wheels &amp; Tires"}]},{name:"bodyDamage",slideInfo:[{description:"Check your car for any damage the size of a baseball or larger. Damage may include dents, rust, scrapes, or anything resulting from an accident.",imagePath:"/images/MoreInfo/12_bodydamage.png",titleText:"Body Damage"}]},{name:"glassAndLight",slideInfo:[{description:"Inspect your mirrors, glass, and lights, etc. to make sure they're bolted to the vehicle and intact. If you find any cracked or missing mirrors, glass, or lights, point it out.",imagePath:"/images/MoreInfo/13_glass.png",titleText:"Mirrors, Glass, &amp; Lights"}]},{name:"floodAndFire",slideInfo:[{description:"Specify if your car has been involved in an incident resulting in fire or water damage, this includes damage to the interior, exterior, under the hood, electronics, etc.",imagePath:"/images/MoreInfo/14_floodfire.png",titleText:"Flood &amp; Fire Damage"}]},{name:"preInstantOffer",slideInfo:[{description:"If you like what you see, then click the button to get started with our offer acceptance process. You'll give us a few more details about your vehicle, contact information, and the vehicle's title, so you might want to go grab that now!",imagePath:"/images/MoreInfo/16_instantoffer.png",titleText:"Instant Offer"}]},{name:"instantOffer",slideInfo:[{description:"If you like what you see, then click the button to get started with our offer acceptance process. You'll give us a few more details about your vehicle, contact information, and the vehicle's title, so you might want to go grab that now!",imagePath:"/images/MoreInfo/16_instantoffer.png",titleText:"Instant Offer"}]},{name:"charityReference",slideInfo:[{description:"Provide us with the Reference ID that you use to identify this offer internally.",imagePath:"/images/MoreInfo/30_reference.png",titleText:"Reference ID"}]},{name:"carLocation",slideInfo:[{description:"Give us the exact address where the vehicle is currently located and let us know if it's a business or residence.",imagePath:"/images/MoreInfo/17_location.png",titleText:"Vehicle Location"}]},{name:"color",slideInfo:[{description:"Tell us the color of your car so we can easily spot it for pickup.",imagePath:"/images/MoreInfo/18_color.png",titleText:"Exterior Color"}]},{name:"payment",slideInfo:[{description:"Time for the good stuff! Who's receiving the payment? You will be issued a company check so be sure to triple check the person or company's information for accuracy!",imagePath:"/images/MoreInfo/19_whotopay.png",titleText:"Payment"}]},{name:"mailing",slideInfo:[{description:"Time for the good stuff! Who's receiving the payment? You will be issued a company check so be sure to triple check the person or company's information for accuracy!",imagePath:"/images/MoreInfo/19_whotopay.png",titleText:"Mailing"}]},{name:"payWho",slideInfo:[{description:"Time for the good stuff! Who's receiving the payment? You will be issued a company check so be sure to triple check the person or company's information for accuracy!",imagePath:"/images/MoreInfo/19_whotopay.png",titleText:"Payee"}]},{name:"contact",slideInfo:[{description:"Let's set the date! Give us the name and contact information of the person we'll be working with to square away the sale arrangements. We'll also refer to this contact should there be any issues with your car.",imagePath:"/images/MoreInfo/20_whotocontact.png",titleText:"Contact"}]},{name:"whatIsVin",slideInfo:[{description:"Enter your vehicle identification number to quickly decode your vehicle's exact year, make, model, and trim. You can find your VIN in places such as on the windshield and door-jamb, the title, or your insurance card. There are never any letter I's, O's, or Q's.",imagePath:"/images/MoreInfo/21_VIN.png",titleText:"VIN"}]},{name:"titleIssued",slideInfo:[{description:"Tell us in which state your car is titled. You can find this information on the top of your title document. It's totally okay for it to be a different state from the car's current location.",imagePath:"/images/MoreInfo/23_titlestate.png",titleText:"Titled State"}]},{name:"owner",slideInfo:[{description:"To accurately transfer ownership of the title, we need to know the name of the owner(s) exactly as it appears on the document. If the vehicle is owned by a business, enter the business name as printed on the title.",imagePath:"/images/MoreInfo/24_owner.png",titleText:"Owner(s)"}]},{name:"canSign",slideInfo:[{description:"To close the deal, we'll need the owner(s) listed on the title to sign and maybe notarize the car title, as required by the titled state.",imagePath:"/images/MoreInfo/25_availabletosign.png",titleText:"Signature"}]},{name:"liens",slideInfo:[{description:"A lien is placed on a vehicle until the car loan or financing is paid off in full and a new title or lien release is issued. Let us know if you have any outstanding liens ( you'll need to make a pit stop at the DMV) or if you have a lien listed but have the documentation required by your state to release it.",imagePath:"/images/MoreInfo/26_liens.png",titleText:"Liens"}]},{name:"acceptOffer",slideInfo:[{description:"All that's left is to accept your offer! Everything you need to know regarding what comes next is listed on this page, but if you should need help with anything or have additional questions, feel free to contact us.",imagePath:"/images/MoreInfo/27_offeracceptance.png",titleText:"Accept Offer"}]},{name:"addPhotos",slideInfo:[{description:"To speed up the inspection and sale of your car, we need to verify its condition and documentation. By getting a few photos from you, we'll be able to complete this process a lot faster, getting you paid sooner! Be sure to send your photos within <strong>7 days<\/strong> of accepting your offer to ensure it does not change.",imagePath:"/images/MoreInfo/camera-more-info.png",titleText:"Inspection Photos"}]},{name:"contactInfo",slideInfo:[{description:"Let's set the date! Give us the name and contact information of the person we'll be working with to square away the sale arrangements. We'll also refer to this contact should there be any issues with your car.",imagePath:"/images/MoreInfo/20_whotocontact.png",titleText:"Contact"}]},{name:"nameInfo",slideInfo:[{description:"Let us know the name of the person who is creating this account. The account name does not need to match the name of the vehicle owner or the person we'll need to contact to make sale arrangements.",imagePath:"/images/MoreInfo/29_name.png",titleText:"Name"}]}],com.site.MoreInfo.MoreInfoPageControl=function(){this.MIId=com.site.MoreInfo.MoreInfoQuestionsProperty;this.currentOpenSlideId="";this.AttachMoreInfoEvents()},com.site.MoreInfo.MoreInfoPageControl.prototype={setCurrentOpenSlide:function(n){this.currentOpenSlideId=n},getCurrentOpenSlide:function(){return this.currentOpenSlideId},getSlideIndexFromName:function(n){for(var t=0;t<this.MIId.length;t++)if(this.MIId[t].name==n)return t;return null},setMoreInfoSlideData:function(n){var i,t;for(this.setCurrentOpenSlide(n),i="",t=0;t<this.MIId[n].slideInfo.length;t++)i+='<div class="item"><div class="carouselImageContainer"><img src='+this.MIId[n].slideInfo[t].imagePath+' class="img-responsive center-block" /><\/div><div class="moreInfoTitleText text-center ronniaFont">'+this.MIId[n].slideInfo[t].titleText+'<\/div><div class="moreInfoCarouselTextContainer">'+this.MIId[n].slideInfo[t].description+"<\/div><\/div>";$("#myCarousel").stop().fadeOut(300,function(){$("#myCarousel").cycle("destroy");$("#myCarousel").hide();$("#myCarousel").html(i);com.site.MoreInfo.initMoreInfoCycle(!0);setTimeout(function(){$("#myCarousel").stop().fadeIn(300,function(){$("#sidebar .nano").nanoScroller({iOSNativeScrolling:!0,sliderClass:"scrollNanoSlider",tabIndex:-1})})},0)})},setMoreInfoSlideDataByName:function(n){var t=this.getSlideIndexFromName(n);this.setMoreInfoSlideData(t)},setMoreInfoSlideDescriptionByName:function(n,t){var i=this.getSlideIndexFromName(n);!t||(this.MIId[i].slideInfo[0].description=t)},setMoreInfoSlideTitleByName:function(n,t){var i=this.getSlideIndexFromName(n);!t||(this.MIId[i].slideInfo[0].titleText=t)},AttachMoreInfoEvents:function(){$("#myCarousel").on("cycle-update-view",function(n,t){globalCurrentInfoSlide=t.currSlide;var r=t.currSlide,i=t.slideCount,u=r+1+" of "+i;$(".paginationCurrent").text(u);i>1?($(".moreInfoPaginationContainer").show(),$("#sidebar .nano").css("height","399px")):($(".moreInfoPaginationContainer").hide(),$("#sidebar .nano").css("height","463px"))});$("#sidebar .nano").nanoScroller({iOSNativeScrolling:!0,tabIndex:-1})}},$(window).resize(function(){$("#moreInfoModal").data("modal")&&$("#moreInfoModal").data("modal").isShown&&com.site.Modal.checkAndSetScrollablePopup("moreInfoModal")}),$(document).ready(function(){$("[data-toggle=offcanvas]").click(function(){$("#myCarousel").cycle("destroy");var n=$("#moreInfoBodyContainer").clone();$("#moreInfoBodyContainer").remove();n.appendTo("#moreInfoModalBody");com.site.Modal.attachAllModalsEvent("moreInfoModal");$("#moreInfoModal").modal("show");com.site.MoreInfo.initMoreInfoCycle(!1);$("#moreInfoModal").on("hidden.bs.modal",function(){$("#myCarousel").cycle("destroy");var n=$("#moreInfoBodyContainer").clone();$("#moreInfoBodyContainer").remove();n.appendTo("#moreInfoBodyId");com.site.MoreInfo.initMoreInfoCycle(!0)})});$("#footerNavButtonContainer .moreInfoMobileIcon").bind("touchstart touchend",function(){$(this).toggleClass("linkColor")})}),com){if(typeof com!="object")throw new Error("com already exists and is not an object");}else com={};if(com.site){if(typeof com.site!="object")throw new Error("com.site already exists and is not an object");}else com.site={};if(com.site.ShareLinkMenu){if(typeof com.site.ShareLinkMenu!="object")throw new Error("com.site.ShareLinkMenu already exists and is not an object");}else com.site.ShareLinkMenu={};if(com.site.ShareLinkMenu.bookMarkMe=function(n,t){document.all&&window.external?window.external.AddFavorite(n,t):navigator.userAgent.indexOf("Firefox")>0||alert("Cannot programmatically add bookmarks!\nPlease press Ctrl+D to bookmark this page.")},com.site.footerContainer){if(typeof com.site.footerContainer!="object")throw new Error("com.site.footerContainer already exists and is not an object");}else com.site.footerContainer={};if(com.site.footerContainer=function(){var n=$(".peddleFooter"),t=$("body");return{moveFooterToBottom:function(){var n=$(".peddleFooter");$(".peddleFooter").remove();n.insertAfter($("body").children().last())},init:function(){}}},com.site.footerContentObj=new com.site.footerContainer,$(function(){}),com.site.callPilotComponent){if(typeof com.site.callPilotComponent!="object")throw new Error("com.site.callPilotComponent already exists and is not an object");}else com.site.callPilotComponent={};if(com.site.callPilotComponent.CallPilotObj=function(){function u(n){var n=n||"",t=n.match(/(\d+)/gi);return t?t.join(""):""}function f(){var n="MozWebSocket"in window?"MozWebSocket":"WebSocket"in window?"WebSocket":null;return n!=null}function r(){f()&&$("#URI").length!==0&&(i=$("#URI").val()+$("#AGENT-EMAIL").val(),t=new WebSocket(i),t.onopen=function(n){e(n)},t.onclose=function(n){o(n)},t.onmessage=function(n){s(n)},t.onerror=function(n){h(n)})}function e(){}function o(){r()}function s(t){n=jQuery.parseJSON(t.data);c()&&(n.Message=jQuery.parseJSON(n.Message))}function h(){}function c(){return n.Type===4?!0:!1}var t,n={},i="",l=this;this.getCallId=function(){var t="";return!n||!n.Message||!n.Message.CallId||(t=n.Message.CallId),t};this.getCampaignNumber=function(){var t="";return!n||!n.Message||!n.Message.CampaignNumber||(t=u(n.Message.CampaignNumber)),t};this.init=function(){r()}},com.site.callPilotComponent.CallPilotManager=new com.site.callPilotComponent.CallPilotObj,com.site.callPilotComponent.getCallId=function(){return com.site.callPilotComponent.CallPilotManager.getCallId()},com.site.callPilotComponent.getCampaignNumber=function(){return com.site.callPilotComponent.CallPilotManager.getCampaignNumber()},com.site.imageUploadComponent){if(typeof com.site.imageUploadComponent!="object")throw new Error("com.site.imageUploadComponent already exists and is not an object");}else com.site.imageUploadComponent={};if(com.site.imageUploadComponent.manager=function(){function k(n,t){var i=$("<iframe />",{id:t.id,name:t.name,width:0,height:0,border:0,style:"width: 0; height: 0; border: none;display:none"}),r;t.form.parent().append(i);window.iframeId=i;r=function(){var r,i;window.iframeId.unbind("load");r={};r=window.iframeId.contents().text();i={};try{r?i=$.parseJSON(r):i.Success=!1}catch(u){i.Success=!1}n.callback.call(n.context,i);t.form.removeAttr("target");t.form.removeAttr("action");t.form.removeAttr("method");t.form.removeAttr("enctype");t.form.removeAttr("encoding");setTimeout("window.iframeId.remove()",250)};window.iframeId.bind("load",r);t.form.attr("target",t.id);t.form.attr("action",t.url);t.form.attr("method","post");t.form.attr("enctype","multipart/form-data");t.form.attr("encoding","multipart/form-data");t.form.submit()}function d(){com.site.Util.hideErrorAlert();com.site.AjaxEngine.showLoadingMask();s(n);var t={};t.id="uploadTarget";t.name="uploadTarget";t.url="/ImageUploader.ashx?_q="+(new Date).getTime();t.form=$("#frmUploadImage");k({callback:g,context:this},t)}function g(t){if(t.Success)o();else if(t.Success==!1&&t.SessionExpired!=undefined&&t.SessionExpired==!0)com.site.AjaxEngine.sessionTimeoutPopupOpen();else{com.site.Util.showErrorAlert("Photo upload failed. Try again.");com.site.AjaxEngine.hideLoadingMask();var i=$("[data-type="+n+"]").find(".content-offer-grid-table-img-col");$(i).unblock()}$("#fileUploadCntl").val("");com.site.AjaxEngine.hideLoadingMask()}function nt(){if(com.site.Util.hideErrorAlert(),!!t!=!1){var n={claimCode:t,claimId:f};com.site.DataService.GetVehicleImagesContainer(n,tt)}}function tt(n){n.Success&&b(n);com.site.AjaxEngine.hideLoadingMask()}function o(){if(com.site.Util.hideErrorAlert(),!!t!=!1){var n={claimCode:t,claimId:f,command:"GetVehicleImages"};com.site.DataService.GetVehicleImages(n,w)}}function w(n){n.Success&&(ct(n),setTimeout(function(){amplify.publish("GetVehicleImagesContainer.addPhotos",!0)},1e3));com.site.AjaxEngine.hideLoadingMask()}function it(){l.openModal({id:"deleteVehicleImage"})}function rt(n){var u=n.call(this),i;u.id=="deleteVehicleImage"&&(com.site.Util.hideErrorAlert(),com.site.AjaxEngine.showMask=!1,com.site.Util.showFullPageLoadingMask(),i={id:r,claimCode:t,command:"DeleteVehicleImages"},com.site.DataService.DeleteVehicleImage(i,ut))}function ut(n){n.Success&&ht(r);com.site.AjaxEngine.hideLoadingMask()}function ft(i){isRotateRequest=!0;com.site.AjaxEngine.showLoadingMask();s(n);var r={id:i,claimCode:t,RotationDegree:90,command:"RotateVehicleImages"};com.site.DataService.RotateVehicleImage(r,et)}function et(n){n.Success?o():com.site.AjaxEngine.hideLoadingMask()}function ot(){$(".delete-icon").addClass("hidden");$(".rotate-icon").addClass("hidden");$(".delete-icon").attr("data-id","");$(".rotate-icon").attr("data-id","");$(".thumnail-container").attr("src","/Images/add-icon.png");$(".thumnail-container").attr("id","");$(".thumnail-container").attr("data-isdefault","true");$(".content-offer-grid-table-link").addClass("isdefault")}function st(n){n?($("[data-type="+n+"] .delete-icon").addClass("hidden"),$("[data-type="+n+"] .rotate-icon").addClass("hidden"),$("[data-type="+n+"] .delete-icon").attr("data-id",""),$("[data-type="+n+"] .rotate-icon").attr("data-id",""),$("[data-type="+n+"] .thumnail-container").attr("src","/Images/add-icon.png"),$("[data-type="+n+"] .thumnail-container").attr("id",""),$("[data-type="+n+"] .thumnail-container").attr("data-isdefault","true"),$("[data-type="+n+"]").addClass("isdefault")):ot()}function ht(n){$("#"+n).attr("data-isdefault","true");$("#"+n).closest(".content-offer-grid-table-link").addClass("isdefault");$("#"+n).attr("src","/Images/add-icon.png");$("[data-id="+n+"]").addClass("hidden");$("#"+n).attr("id","");$("[data-id="+n+"]").attr("data-id","")}function ct(t){var i=t.VehicleImage;y=[];st(n);$.map(i,function(t){var i=t.ContainerId,u=(new Date).getTime(),r=t.ThumbImageUrl;r+=r.indexOf("?")>-1?"&ref="+u:"?ref="+u;!i||n!=""&&i!=n||($("[data-type="+i+"] .thumnail-container").attr("src",r),$("[data-type="+i+"] .thumnail-container").attr("data-isdefault","false"),$("[data-type="+i+"] .thumnail-container").attr("id",t.ImageId),$("[data-type="+i+"] .delete-icon").attr("data-id",t.ImageId),$("[data-type="+i+"] .rotate-icon").attr("data-id",t.ImageId),y.push(i))});$("#addPhotosCotainer").removeClass("hidden");s(n)}function b(n){var r=n.VehicleImageContainer,t="";$.map(r,function(n){var u=" (Optional)";n.Optional||com.site.Util.isOfferAgent()||(v.push(n.ContainerId),u="");r.sort(function(n,t){return n.Priority-t.Priority});t+='<div class="col-md-4 col-xs-6 text-center">';t+='<div id="'+n.ContainerId+'-container" data-type="'+n.ContainerId+'" data-title="'+n.ContainerDescription+'" class="content-offer-grid-table-link file-upload-link isdefault">';t+='<table class="content-offer-grid-table">';t+='<tr class="content-offer-grid-table-img-row">';t+='<td class="content-offer-grid-table-img-col" data-loading="false">';t+='<div class="content-offer-grid-table-inner-delete-img delete-icon hidden"><\/div>';t+='<div class="content-offer-grid-table-inner-rotate-img rotate-icon hidden" data-containertype="'+n.ContainerId+'"><\/div>';t+='<img class="img-responsive thumnail-container invisible" onLoad="hideImageLoading(this)"  data-isdefault="true"  src="" onerror="setDefaultImageForContent(this)" alt="...">';t+="<\/td>";t+="<\/tr>";t+='<tr class="content-offer-grid-table-lable-row"><td class="imageTypeText">';t+='<table class="image-label-table">';t+="<tr>";t+='<td class="label-delete-icon">';t+='<span class="delete-icon_ hidden">';t+='<span class="icon-cancel-circled label-icon"><\/span>';t+="<\/span>";t+="<\/td>";t+='<td class="label-text">';t+=n.ContainerDescription+u;t+="<\/td>";t+="<\/tr>";t+="<\/table>";t+="<\/td>";t+="<\/tr>";t+="<\/table>";t+="<\/div>";t+="<\/div>";i.push(n.ContainerId)});a=i.length;$("#addPhotosCotainer").html(t);at();p.checkOnContainerLoad()}function lt(){$("#fileUploadCntl").fileValidator({onValidation:function(){e=!1;com.site.Util.hideErrorAlert()},onInvalid:function(n){n==="maxSize"&&(e=!0,com.site.Util.showErrorAlert("Photo cannot be larger than 10 MB."))},maxSize:"10m",type:"image",extension:"jpg,bmp,png,tif,gif,jpeg"});$("#fileUploadCntl").on({change:function(){e||!$("#fileUploadCntl").val()||d()}})}function at(){$(".file-upload-link").on({click:function(){var t=$(this).attr("data-type"),n=com.site.Util.returnAddPhotosModalData(t);u.openModal({id:"addPhotosModal",title:n.title,text:n.text,img:n.img,type:t});$("#infoPopUp .custom-modal-body-text").addClass("no-padding");$(".add-photos-modal-container .img-col").addClass("no-padding")}});$(".delete-icon").on({click:function(n){n.stopPropagation();r=$(this).attr("data-id");it()}});$(".rotate-icon").on({click:function(t){var i=$(this).attr("data-id");n=$(this).attr("data-containertype");$("[data-type="+n+"]").addClass("isdefault");ft(i);t.stopPropagation()}});$("#addPhotosCotainer").on("touchstart touchend",".rotate-icon",function(){$(this).toggleClass("rotateTapClass")});$("#addPhotosCotainer").on("touchstart touchend",".delete-icon",function(){$(this).toggleClass("rotateTapClass")})}function vt(){$(".content-offer-grid-table-img-col").attr("data-loading",!0);$(".content-offer-grid-table-img-col").block({message:'<div style="padding:0px; margin: auto;"><i class="icon-spin5 spinner animate-spin" style="font-size:31px;"><\/i><\/div>',overlayCSS:{opacity:"1",backgroundColor:"#fff",cursor:"default"},fadeIn:0,fadeOut:0,css:{border:"none",backgroundColor:"transparent",cursor:"default"}});$("[data-isdefault=true]").parent().attr("data-loading",!1);$("[data-isdefault=true]").parent().unblock()}function yt(t){var i=t.call(this);i.id=="addPhotosModal"&&($("#VehicleImageType").val($(".add-photos-modal-container").attr("data-type")),$("#ImageId").val($(".add-photos-modal-container").attr("data-type")),n=$("#VehicleImageType").val(),$("#fileUploadCntl").click())}function pt(n){var t=n.call(this);u.setCurrentOpenModel("");t.id=="addPhotosModal"&&($("#infoPopUp .custom-modal-body-text").removeClass("no-padding"),$(".add-photos-modal-container .img-col").removeClass("no-padding"))}function s(n){n?($("[data-isdefault=true]").parent().unblock(),$("[data-type="+n+"] .content-offer-grid-table-img-col").block({message:'<div style="padding:0px; margin: auto;"><i class="icon-spin5 spinner animate-spin" style="font-size:31px;"><\/i><\/div>',overlayCSS:{opacity:"1",backgroundColor:"#fff",cursor:"default"},fadeIn:0,fadeOut:0,css:{border:"none",backgroundColor:"transparent",cursor:"default"}})):vt()}var r="",h={},u={},c={},l={},t="",f="",n="",a=0,e=!1,i=[],v=[],y=[],p;this.GetVehicleImagesContainerCallbackAddition="";p=this;h={setSuccessButtonAction:yt,setCancelButtonAction:pt};c={setSuccessButtonAction:rt,setCancelButtonAction:function(){}};u=new com.site.Modal.InfoPopUpModalControl(h);l=new com.site.Modal.InfoPopUpModalControl(c);this.requiredImageContainerList=v;this.imageContainerList=i;this.isContainerBlank=function(){return a==0?!0:!1};this.isAllImagesFilled=function(){var n=!0;return $.map(i,function(t){$("#"+t+"-container [data-isdefault]").attr("data-isdefault")!="false"&&(n=!1)}),n};this.checkOnContainerLoad=function(){};this.containerLoadCallbackPublic=function(n){n.Success&&b(n)};this.getVehicleImagesCallbackPublic=function(n){w(n)};this.getVehicleImages=function(){o()};this.init=function(n,i){t=n;f=i;lt()};this.GetVehicleImagesContainer=function(){nt()};this.resetLoadingImgMask=function(){$(".content-offer-grid-table-img-col[data-loading='true']").block({message:'<div style="padding:0px; margin: auto;"><i class="icon-spin5 spinner animate-spin" style="font-size:31px;"><\/i><\/div>',overlayCSS:{opacity:"1",backgroundColor:"#fff",cursor:"default"},fadeIn:0,fadeOut:0,css:{border:"none",backgroundColor:"transparent",cursor:"default"}})};this.hideImageLoading=function(n){$(n).parent().unblock();var t=$(n).closest(".file-upload-link");$(n).attr("data-isdefault")=="false"&&($(t).find(".delete-icon").removeClass("hidden"),$(t).find(".rotate-icon").removeClass("hidden"),$(n).closest(".content-offer-grid-table-link").removeClass("isdefault"),$(n).parent().attr("data-loading",!1));setTimeout(function(){$(n).removeClass("invisible")},500)}},com){if(typeof com!="object")throw new Error("com already exists and is not an object");}else com={};if(com.site){if(typeof com.site!="object")throw new Error("com.site already exists and is not an object");}else com.site={};if(com.site.VehicleInfo){if(typeof com.site.VehicleInfo!="object")throw new Error("com.site.VehicleInfo already exists and is not an object");}else com.site.VehicleInfo={};var allSlides=["year","make","model","trim","vin","titleType","conditionType","location","tires","keyAndBattery","drivable","underTheHood","taxiUsage","mileage","bodyPanel","bodyDamage","glassAndLight","interiorItems","floodAndFire","preInstantOffer","instantOffer"],allSlidesOfAcceptOffer=["charityReference","carLocation","color","nameInfo","payment","mailing","payWho","contact","whatIsVin","titleIssued","owner","canSign","liens","addPhotos","acceptOffer"],current_pane=0,current_paneId="",isFromVIN=!1,vehicleInfoFlag=!1,flag=!1,IsZIPLoadedFromParamGBL=!1,conditionQuestionFirstSlideName="tires",conditionQuestionLastSlideName="floodAndFire",vehicleQuestionLastSlideName="trim",vehicleTitleSlideName="titleType",differentSellerAccount=!1,AccountIdGBL="",OfferIdGBL="",instantOfferSlideVisibility=!1,ieAnimate="",firstTimePageLoad=!0,ZIPCodeTimeZoneGBL="",slideToMoveGBL="",LogOutAgentAsSeller=!1,previousSelectedVehicleObj={},showListingIfEnabledFromExperiment=!0,ProfileNavigationalSlideGBL="",InitialOfferEmailGBL="",InitialOfferPhoneGBL="",InitialOfferFirstNameGBL="",InitialOfferLastNameGBL="",InitialOfferPublisherIdGBL="",CityNameGBL="",YearIdGBL="",MakeIdGBL="",ModelIdGBL="",PartialLeadIdGBL="",PartialModelObj={Id:"",Name:"",BodyTypeId:"",BodyType:"",CabTypeId:"",CabType:"",Doors:"",DisplayName:"",ThumbnailImagePath:"",BodyStyleId:"",BodyStyle:""},PartialTrimObj={Id:"",Name:"",FuelTypeId:"",FuelType:"",DisplayName:"",BodyStyleId:""},earlyOfferInfoGBL={yearId:"",makeId:"",modelId:"",bodyTypeId:"",cabTypeId:"",doors:"",trimId:"",fuelTypeId:"",titleType:"",zipcode:"",tires:"",drivable:"",underTheHood:"",taxiUsage:"",mileage:""},eligibleAdvanceQuestionsInfoGBL={yearId:"",makeId:"",modelId:""},acceptOfferInfoGBL={};com.site.VehicleInfo.isAjaxRequestLoading=!1;com.site.VehicleInfo.ClaimCode="";com.site.VehicleInfo.ClaimId="";com.site.VehicleInfo.updateExistingInstantOffer=!1;com.site.VehicleInfo.isInstantOfferGenerated=!1;com.site.VehicleInfo.agentClickedInConfirmationModal=!1;com.site.VehicleInfo.isAgentInitialOfferAvailable=!1;com.site.VehicleInfo.agentInitialOffer=0;com.site.VehicleInfo.IsAcceptOfferButtonClicked=!1;com.site.VehicleInfo.IsDeclineButtonClicked=!1;com.site.VehicleInfo.IsChangedAddressManually=!1;com.site.VehicleInfo.disableAddressChange=!1;com.site.VehicleInfo.vehicleDetail="";hideImageLoading=function(){};com.site.VehicleInfo.autoLoadedParameter={publisherId:"",campaignNumber:"",callId:""};com.site.VehicleInfo.preInstantOfferManager=function(){var n=this,i=!1,l=!1;this.currentOfferPageUrl="/listing";var t=function(n){var t=0;return!n||(t="$"+com.site.Util.add_commas(n)),t},u=function(n){return n==0?"addClass":"removeClass"},f=function(){var n=s(),t=!!n.actualOffer==!0;return t?!1:!0},s=function(){return{actualOffer:instantOfferPageObj.getActualOfferAmount(),offer:instantOfferPageObj.getPickUpOfferAmount(),listing:instantOfferPageObj.getMaximumListingPrice(),dropoff:instantOfferPageObj.getDropOffOfferAmount(),dropoffDistance:Math.round(instantOfferPageObj.getDropOffDistance())}},h=function(){var n=s(),c=t(n.offer),l=t(n.dropoff),r=n.offer,f=n.dropoff,e=n.dropoffDistance,a=n.dropoffDistance>1?" miles":" mile",v=com.site.Util.add_commas(e)+a,i=t(n.listing),o,h;$("#preInstantOfferAmt").html(t(r));$("#preInstantPickOffer").html(t(r));$("#preInstantOfferDropoff").html(t(f));$("#preInstantDropOffer").html(t(f));$(".preInstantOfferDistance").html(!!e==!1?"":"("+v+")");$("#preInstantOfferListing").html(i);$("#preInstantListingOffer").html(i);$("#preInstantOfferContainer")[u(c)]("hidden");$("#preInstantOfferDropOffContainer")[u(l)]("hidden");$("#preInstantOfferListingContainer")[u(i)]("hidden");$(".preMainContainer").removeClass("col-md-offset-2 col-sm-offset-2");o=$(".preMainContainer").not(".hidden");o.length<3&&(h=$(".preMainContainer").not(".hidden")[0],$(h).addClass("col-md-offset-2 col-sm-offset-2"))},a=function(){instantOfferPageObj.getPickUpActualOfferAmount()==0&&instantOfferPageObj.getDropOffActualOfferAmount()==0&&i==!0&&(infoPopUpModalObj.openModal({id:"offerChanged",offer:instantOfferPageObj.getActualOfferAmount()}),i=!1)},e=function(t){v();var i=!!t||t==0?t:700;$("#preInstantOffer").fadeOut(i,function(){a();$("#instantOffer").fadeIn(i,function(){})});n.manageMobLinksVisibility(!0)},v=function(){if(instantOfferPageObj.getMinimumListingPrice()>=0&&instantOfferPageObj.getMaximumListingPrice()>=0){var n=(instantOfferPageObj.getMinimumListingPrice()+instantOfferPageObj.getMaximumListingPrice())/2,t=instantOfferPageObj.getListingOfferPrice()>0?instantOfferPageObj.getListingOfferPrice():instantOfferPageObj.getMinimumListingPrice();instantOfferPageObj.getAskingPriceStatusOnLoad()?$(".listingSlider").val(t):$(".listingSlider").val(n)}},c=function(t){var i=!!t||t==0?t:700;$("#instantOffer").fadeOut(i,function(){var n=instantOfferPageObj.getMinimumListingPrice();instantOfferPageObj.showInstantOfferAmount(n);instantOfferPageObj.getAskingPriceStatusOnLoad()||$(".listingSlider").val(n);instantOfferPageObj.postOfferLoad();instantOfferPageObj.getAskingPriceStatusOnLoad()&&com.site.VehicleInfo.setDataInProfile();$("#preInstantOffer").fadeIn(i,function(){})});n.manageMobLinksVisibility(!1)},r=function(t){switch(t){case"listing":if(EventTracking("Instant Offer","Click","Instant Listing"),o(t),com.site.Util.supports_html5_storage()&&localStorage["site.goToListing"]=="true"?(e(1),localStorage.removeItem("site.goToListing")):e(),!com.site.VehicleInfo.ClaimCode)com.site.VehicleInfo.setOfferIdInUrlParameter(n.currentOfferPageUrl);else{var i=window.location.hash.replace("#",""),r=i+n.currentOfferPageUrl;com.site.VehicleInfo.setBrowserHashValue(r)}break;case"dropoff":EventTracking("Instant Offer","Click","Instant Dropoff");o(t);setTimeout(function(){$(".updateDropOffOffer").trigger("click");$("#navNextButtonId").trigger("click")},10);break;case"offer":EventTracking("Instant Offer","Click","Instant Offer");o(t);setTimeout(function(){$("#navNextButtonId").trigger("click")},10)}},y=function(n){var t="";switch(n){case"listing":t="preInstantListing";break;case"dropoff":t="preInstantDrop";break;case"offer":t="preInstantPick"}com.site.Modal.attachAllModalsEvent(t);$("#"+t).modal("show")},o=function(n){instantOfferPageObj.showAskingPriceLink();n!="listing"&&instantOfferPageObj.showAdjustOfferLink();instantOfferPageObj.setOfferRelatedText();instantOfferSlideVisibility=!0;var t=instantOfferPageObj.getMinimumListingPrice();instantOfferPageObj.showInstantOfferAmount(t);instantOfferPageObj.getAskingPriceStatusOnLoad()||$(".listingSlider").val(t);instantOfferPageObj.postOfferLoad();setTimeout(function(){instantOfferPageObj.getAskingPriceStatusOnLoad()&&com.site.VehicleInfo.setDataInProfile()},700);com.site.VehicleInfo.changeSlideToInstantOffer()};this.setShowNoOfferModal=function(n){i=n};this.getIsShowNoOfferModal=function(){return i};this.manageMobLinksVisibility=function(n){n?($(".moreInfoMobileIcon").removeClass("hidden").addClass("visible-xs"),$("#navNextButtonId").removeClass("hidden")):($(".moreInfoMobileIcon").removeClass("visible-xs").addClass("hidden"),$("#navNextButtonId").addClass("hidden"))};this.moveToPreInstantOfferFromInstantOfferProcess=function(t){if($("#SMSOfferIDLinkId").hide(),instantOfferPageObj.changeToOffer(),instantOfferPageObj.getPickUpActualOfferAmount()>0&&instantOfferPageObj.getTransportType().toLowerCase()=="seller"&&$(".updatePickupOffer").trigger("click"),$("#collapseOne").collapse("hide"),$("#navNextButtonId").removeClass("btn-success"),com.site.VehicleInfo.setForwardNavigationButtonText(),instantOfferSlideVisibility){if(!!t&&t!="listing"){var i=instantOfferPageObj.getMinimumListingPrice();instantOfferPageObj.showInstantOfferAmount(i);$(".listingSlider").val(i)}setTimeout(function(){instantOfferPageObj.resetAskingPriceStatus();com.site.VehicleInfo.setDataInProfile()},400)}instantOfferSlideVisibility=!1;instantOfferPageObj.setInstantOfferLoadStatus(!1);t=="listing"&&n.manageMobLinksVisibility(!1);h()};this.moveToPreInstantOfferFromInstantOffer=function(t){$("#collapseOne").collapse("hide");n.moveToPreInstantOfferFromInstantOfferProcess(t)};this.moveToVehicleInfoFromPreInstantOffer=function(){$("#navNextButtonId, .moreInfoMobileIcon").removeClass("invisible");$("#navNextButtonId, .navNextLinkClass").removeAttr("disabled");current_pane=com.site.VehicleInfo.getSlideNoFromName(conditionQuestionLastSlideName);$("#collapseOne").collapse("hide");$("#navNextButtonId").removeClass("btn-success");com.site.VehicleInfo.setForwardNavigationButtonText();var n=com.site.VehicleInfo.getSlideNoFromName(conditionQuestionLastSlideName);com.site.VehicleInfo.setBrowserHashValue(n);moreInfoObj.setMoreInfoSlideDataByName(conditionQuestionLastSlideName);setProgressBar((n+1)*2.5);com.site.VehicleInfo.trackPage(n);instantOfferPageObj.setInstantOfferLoadStatus(!1);this.manageMobLinksVisibility(!0)};this.showInstantOfferSlide=function(n){var t="#instantOfferContainer";f()?e(0):this.isListingOfferPageVisible()||c(0);$("#slides").css("display")!="none"&&$("#slides").fadeOut(n,function(){$(t).fadeIn(n,function(){$("#slides").hide();$(t).show()})})};this.manageOffer=function(){l=f()==!0?!0:!1;h()};this.skipRequired=function(){return f()};this.showOfferCardPage=function(n){c(n)};this.isListingOfferPageVisible=function(){return $("#instantOffer").is(":visible")};this.isOfferCardPageVisible=function(){return $("#preInstantOffer").is(":visible")};this.bindEvent=function(){$(".preInstantContainer").bind("touchstart touchend",function(n){$(n.target).hasClass("preInstantInfo")||$(this).toggleClass("preInstantContainerTouch")});$(".preInstantInfo").bind("touchstart touchend",function(){$(this).toggleClass("preInstantInfoTouch")});$(".preinstantModalBtn").bind("touchstart touchend",function(){$(this).toggleClass("modal-button-hover")});$(".preInstantContainer").on("click tap",function(){var t=$(this);n.moveToPreInstantOfferFromInstantOffer($(t).attr("data-type"));setTimeout(function(){r($(t).attr("data-type"))},400)});$(".preInstantInfo").on("click tap",function(n){var i=this,t;n.preventDefault();n.stopPropagation();t=$(i).parents(".preInstantContainer").data("type");y(t)});$("#preInstantPickModalButton").on("click tap",function(){$("#preInstantPick").modal("hide");r("offer")});$("#preInstantDropModalButton").on("click tap",function(){$("#preInstantDrop").modal("hide");r("dropoff")});$("#preInstantListingModalButton").on("click tap",function(){$("#preInstantListing").modal("hide");r("listing")})};this.init=function(){this.bindEvent()}};com.site.VehicleInfo.instantOfferTracking=function(){dataLayer.push({event:"InstantOfferGenerated"})};com.site.VehicleInfo.checkCookie=function(){var n=com.site.Util.getCookie("_offerAgentInstantOfferId");return n!=""?(document.cookie="_offerAgentInstantOfferId=; expires=Thu, 01 Jan 1970 00:00:00 GMT",n):""};com.site.VehicleInfo.isInitialOfferPage=function(){return $("#IsInitialOfferPage").val().toLowerCase()=="true"?!0:!1};com.site.VehicleInfo.initOuiBounceModal=function(){acc_user_id==""&&instantOfferSlideVisibility&&!com.site.Util.isOfferAgent()&&setTimeout(function(){com.site.Util.getCookie("viewedExitIntentModal")==""&&instantOfferSlideVisibility&&(com.site.Util.setCookie("viewedOuibounceModal",null,-1),com.site.VehicleInfo.setOuiBounceModal())},com.site.Config.ExitIntentModalDelay)};com.site.VehicleInfo.setOuiBounceModal=function(){var n=ouibounce(document.getElementById("ouiBounceModal"),{timer:0,cookieName:"viewedExitIntentModal",callback:function(){$("#ouiBounceModal").css("display","none");instantOfferSlideVisibility&&$(".blockUI.blockOverlay").length==0?(instantOfferPageObj.openOuiBounceModalPopup(),com.site.Util.setCookie("viewedExitIntentModal",!0,1)):$("#ouiBounceModal").css("display","none")}})};com.site.VehicleInfo.setVehicleDetail=function(n){com.site.VehicleInfo.vehicleDetail=n};com.site.VehicleInfo.getVehicleDetail=function(){return com.site.VehicleInfo.vehicleDetail};com.site.VehicleInfo.getTimeZone=function(){var n=com.site.Util.getBrowserTimeZone();return com.site.Util.isBrowserTimeZoneInsideUSA(n)?n:ZIPCodeTimeZoneGBL!=""?ZIPCodeTimeZoneGBL:com.site.Config.DefaultSellerTimeZone};$.address.change(function(n){var r,t,u,i;if(!firstTimePageLoad&&!com.site.VehicleInfo.disableAddressChange&&(n.value!="/"&&n.value!="0"&&$.address.history(!0),r=n.value.replace(/\//,"")||"0",t=+r,com.site.Util.resetAgentSessionTimer(),!com.site.VehicleInfo.IsChangedAddressManually)){if(!isNaN(parseInt(r))&&t>=0&&t<=com.site.VehicleInfo.getSlideNoFromName(conditionQuestionLastSlideName)){if(current_pane==com.site.VehicleInfo.getSlideNoFromName("preInstantOffer")?com.site.VehicleInfo.preInstantOfferManagerObj.moveToVehicleInfoFromPreInstantOffer():com.site.VehicleInfo.moveToVehicleInfo(),u=com.site.VehicleInfo.getSlideNameFromNumber(t),carInfoPageObj.IsAllAnsweredSet()===!0&&t>=com.site.VehicleInfo.getSlideNoFromName(conditionQuestionFirstSlideName)&&t<=allSlides.length-1)current_pane>com.site.VehicleInfo.getSlideNoFromName("mileage")&&com.site.VehicleInfo.checkToCreateEarlyRequest(),i=conditionSlides.IsAnswerTillCurrentSlideSet(u),i===!0?(com.site.VehicleInfo.showSlideNumber(t),com.site.VehicleInfo.setBrowserHashValue(t)):(com.site.VehicleInfo.showSlideNumber(i+com.site.VehicleInfo.getSlideNoFromName(conditionQuestionFirstSlideName)),com.site.VehicleInfo.setBrowserHashValue(i+com.site.VehicleInfo.getSlideNoFromName(conditionQuestionFirstSlideName)));else if(i=carInfoPageObj.IsAnswerTillCurrentSlideSet(u),i===!0)com.site.VehicleInfo.showSlideNumber(t),com.site.VehicleInfo.setBrowserHashValue(t);else{if(t==com.site.VehicleInfo.getSlideNoFromName("vin"))return;com.site.VehicleInfo.showSlideNumber(i);com.site.VehicleInfo.setBrowserHashValue(i)}return}if(r.toLowerCase().indexOf(com.site.Config.OfferIdHashName.toLowerCase())>=0&&OfferIdGBL!=""){instantOfferSlideVisibility||(com.site.VehicleInfo.showSlideNumber(current_pane),com.site.VehicleInfo.setBrowserHashValue(current_pane));instantOfferSlideVisibility&&com.site.VehicleInfo.preInstantOfferManagerObj.isListingOfferPageVisible()&&!com.site.VehicleInfo.preInstantOfferManagerObj.skipRequired()&&(com.site.VehicleInfo.setOfferIdInUrlParameter(),com.site.VehicleInfo.preInstantOfferManagerObj.showOfferCardPage(700));return}}});com.site.VehicleInfo.changeBrowserHistoryManually=function(n){com.site.VehicleInfo.IsChangedAddressManually=!0;!!n==!1&&(n=com.site.VehicleInfo.getSlideNoFromName("instantOffer"));for(var t=0;t<n;t++)t!=com.site.VehicleInfo.getSlideNoFromName("vin")&&t!=com.site.VehicleInfo.getSlideNoFromName("conditionType")&&(t==com.site.VehicleInfo.getSlideNoFromName("trim")&&!carInfoPageObj.getSlideVisibility("trim")||t==com.site.VehicleInfo.getSlideNoFromName("underTheHood")&&!conditionSlides.IsSlideVisible("underTheHood")||t==com.site.VehicleInfo.getSlideNoFromName("taxiUsage")&&!conditionSlides.IsSlideVisible("taxiUsage")||t==com.site.VehicleInfo.getSlideNoFromName("keyAndBattery")&&!conditionSlides.IsSlideVisible("keyAndBattery")||t==com.site.VehicleInfo.getSlideNoFromName("preInstantOffer")||com.site.VehicleInfo.setBrowserHashValue(t));com.site.VehicleInfo.IsChangedAddressManually=!1};com.site.VehicleInfo.setBrowserHashValue=function(n){$.address.strict(!1);$.address.value(n)};com.site.VehicleInfo.setOfferIdInUrlParameter=function(n){var t=!n?"":n;com.site.VehicleInfo.setBrowserHashValue(com.site.Config.OfferIdHashName+"/P"+OfferIdGBL+t);com.site.VehicleInfo.showInstantOfferSMSLink()};com.site.VehicleInfo.getShareOfferUrl=function(){return window.location.protocol+"//"+com.site.Config.PeddleDomainUrl+com.site.Config.VehicleInfoLink+"#"+com.site.Config.OfferIdHashName+"/P"+OfferIdGBL};com.site.VehicleInfo.goToPreviousSlide=function(){if(com.site.Util.resetAgentSessionTimer(),current_pane==com.site.VehicleInfo.getSlideNoFromName("year")){window.open(com.site.Config.HomeLink,"_self",!1);return}if(current_pane>com.site.VehicleInfo.getSlideNoFromName("year")&&current_pane<=com.site.VehicleInfo.getSlideNoFromName("location")){carInfoPageObj.moveToPreviousSlide();return}if(current_pane>com.site.VehicleInfo.getSlideNoFromName(conditionQuestionFirstSlideName)&&current_pane<com.site.VehicleInfo.getSlideNoFromName(conditionQuestionLastSlideName)){conditionSlides.moveToPreviousSlide();return}if(current_pane==com.site.VehicleInfo.getSlideNoFromName("preInstantOffer")&&instantOfferSlideVisibility){com.site.VehicleInfo.preInstantOfferManagerObj.moveToPreInstantOfferFromInstantOffer();return}if(current_pane==com.site.VehicleInfo.getSlideNoFromName("preInstantOffer")){com.site.VehicleInfo.preInstantOfferManagerObj.moveToVehicleInfoFromPreInstantOffer();return}if(current_pane==com.site.VehicleInfo.getSlideNoFromName(conditionQuestionLastSlideName)&&instantOfferSlideVisibility){if(com.site.VehicleInfo.preInstantOfferManagerObj.skipRequired()||com.site.VehicleInfo.preInstantOfferManagerObj.isOfferCardPageVisible())com.site.VehicleInfo.moveToVehicleInfo();else{if(!com.site.VehicleInfo.ClaimCode)com.site.VehicleInfo.setOfferIdInUrlParameter();else{var n=window.location.hash.replace("#","");n=n.replace(com.site.VehicleInfo.preInstantOfferManagerObj.currentOfferPageUrl,"");com.site.VehicleInfo.setBrowserHashValue(n)}com.site.VehicleInfo.preInstantOfferManagerObj.showOfferCardPage(700)}return}com.site.Util.isOfferAgent()&&com.site.VehicleInfo.isInitialOfferPage()&&com.site.VehicleInfo.isAgentInitialOfferAvailable&&com.site.VehicleInfo.agentInitialOffer>0&&current_pane==com.site.VehicleInfo.getSlideNoFromName(conditionQuestionFirstSlideName)&&$("#SMSInitialOfferIDLinkId").show();com.site.VehicleInfo.showPreviousSlide()};com.site.VehicleInfo.goToNextSlide=function(){if(com.site.Util.resetAgentSessionTimer(),conditionSlides.setYearTextFromCarInfo(carInfoPageObj.getInputTextValue("year")),instantOfferPageObj.setYearTextFromCarInfo(carInfoPageObj.getInputTextValue("year")),current_pane>=com.site.VehicleInfo.getSlideNoFromName("year")&&current_pane<=com.site.VehicleInfo.getSlideNoFromName("location")){if(current_pane==com.site.VehicleInfo.getSlideNoFromName("vin")&&!carInfoPageObj.IsVinValidated){carInfoPageObj.moveToNextFromVINClicked=!0;carInfoPageObj.validateCarVIN(!0);return}carInfoPageObj.moveToNextSlide();return}if($("#SMSInitialOfferIDLinkId").hide(),current_pane>=com.site.VehicleInfo.getSlideNoFromName(conditionQuestionFirstSlideName)&&current_pane<=com.site.VehicleInfo.getSlideNoFromName(conditionQuestionLastSlideName)&&!instantOfferSlideVisibility){conditionSlides.moveToNextSlide();return}if(instantOfferSlideVisibility){if(instantOfferPageObj.checkForAskingPriceUpdateOrSet()&&(!instantOfferPageObj.checkForTransportTypeUpdateOrSet()||instantOfferPageObj.checkForTransportTypeUpdateOrSet()&&instantOfferPageObj.getTransportType()=="")){com.site.VehicleInfo.IsAcceptOfferButtonClicked=!0;instantOfferPageObj.updateOfferAskingPrice();return}if(instantOfferPageObj.checkForTransportTypeUpdateOrSet()){com.site.VehicleInfo.IsAcceptOfferButtonClicked=!0;instantOfferPageObj.sendDataForTransportType();return}if(agentLoginSellerName!=null&&agentLoginSellerName!=""&&com.site.VehicleInfo.ClaimCode==""&&!com.site.VehicleInfo.agentClickedInConfirmationModal){com.site.Util.setCookie("_offerAgentInstantOfferId",OfferIdGBL,1);com.site.VehicleInfo.showAlreadyLoginAgentAsSellerPopUp(agentLoginSellerName);com.site.VehicleInfo.agentClickedInConfirmationModal=!0;return}if(com.site.VehicleInfo.agentClickedInConfirmationModal=!1,!!instantOfferPageObj.getNoTitleRequirementText()&&!carInfoPageObj.getNoTitleRequirement()&&carInfoPageObj.getAllCarInfo().titleType==3&&!instantOfferPageObj.getAskingPriceStatus()){com.site.VehicleInfo.noTitleRequirementPopupOpen(instantOfferPageObj.getNoTitleRequirementText());return}com.site.Util.trackPage("acceptInstantOffer");com.site.VehicleInfo.ClaimCode==""&&acc_user_id==""?(com.site.CreateAccountAndLogin.openCreateAccountPopupModal(),com.site.Util.trackPage("createaccount")):com.site.VehicleInfo.ClaimCode==""&&acc_user_id!=""&&OfferIdGBL!=""?(AccountIdGBL=acc_user_id,com.site.VehicleInfo.checkForDuplicateVehicle(AccountIdGBL,OfferIdGBL)):instantOfferPageObj.getCurrentOffer()>0&&setTimeout(function(){com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();window.open(com.site.Config.AcceptOfferLink+"?OfferID="+com.site.VehicleInfo.ClaimCode+ProfileNavigationalSlideGBL,"_self",!1)},20);return}com.site.Util.hideErrorAlert();com.site.VehicleInfo.showNextSlide()};com.site.VehicleInfo.showSlideNumber=function(n){$("#page").cycle(n)};com.site.VehicleInfo.showPreviousSlide=function(){$("#page").cycle("prev")};com.site.VehicleInfo.showNextSlide=function(){$("#page").cycle("next")};com.site.VehicleInfo.resetScroller=function(){$(".pageSliderPanel .nano").nanoScroller({iOSNativeScrolling:!0,sliderClass:"scrollNanoSlider",tabIndex:-1});$(".pageSliderPanel .nano").bind("scrollend",function(){$("#footerShadowHr").hide("medium");$(this).parent().find(".shadowHr").hide("medium")});$(".pageSliderPanel .nano").bind("scrolling",function(n,t){var i=Math.abs(t.scroll-t.prevScroll);t.scroll<t.prevScroll&&i>5&&($("#footerShadowHr").show("medium"),$(this).parent().find(".shadowHr").show("medium"))})};com.site.VehicleInfo.changeSlideToInstantOffer=function(){com.site.VehicleInfo.preInstantOfferManagerObj.showInstantOfferSlide(900);com.site.VehicleInfo.postMoveToInstantOffer(com.site.VehicleInfo.ClaimCode)};com.site.VehicleInfo.moveToInstantOffer=function(n){var t,i;instantOfferPageObj.changeToOffer();instantOfferPageObj.preOfferLoad();com.site.VehicleInfo.ClaimCode==""?(t={Success:!0},n.Offer==null&&(n.Offer={},i=com.site.VehicleInfo.noOfferObject(),$.extend(n.Offer,i)),com.site.VehicleInfo.getInstantOfferCallback($.extend(n.Offer,t)),!!n.Offer&&n.Offer.AutoSelectListing&&$('.preInstantContainer[data-type="listing"]').click()):(showListingIfEnabledFromExperiment=!0,com.site.VehicleInfo.getOfferAmount())};com.site.VehicleInfo.postMoveToInstantOffer=function(n){if(com.site.VehicleInfo.isAjaxRequestLoading=!1,$("#instantOfferVPId").removeClass("disableProfileLinks"),instantOfferSlideVisibility=!0,$("#SMSInitialOfferIDLinkId").hide(),com.site.VehicleInfo.setDataInProfile(),n==""){var t="";com.site.VehicleInfo.preInstantOfferManagerObj.isListingOfferPageVisible()&&(t=com.site.VehicleInfo.preInstantOfferManagerObj.currentOfferPageUrl);com.site.VehicleInfo.setOfferIdInUrlParameter(t);current_pane=com.site.VehicleInfo.getSlideNoFromName(conditionQuestionLastSlideName);instantOfferPageObj.getCurrentOffer()>0&&$(".shareLinkPopover").removeClass("invisible");$("#declineOfferTextLinkId").addClass("hidden");$("#declinePreOfferTextLinkId").addClass("hidden");com.site.VehicleInfo.initOuiBounceModal()}else $("#declineOfferTextLinkId").removeClass("hidden"),$("#declinePreOfferTextLinkId").removeClass("hidden"),com.site.VehicleInfo.setBrowserHashValue(com.site.VehicleInfo.getSlideNoFromName("instantOffer")),current_pane=com.site.VehicleInfo.getSlideNoFromName(conditionQuestionLastSlideName),$(".shareLinkPopover").addClass("invisible");moreInfoObj.setMoreInfoSlideDataByName("instantOffer");setProgressBar((com.site.VehicleInfo.getSlideNoFromName("instantOffer")+1)*2.5)};com.site.VehicleInfo.moveToVehicleInfoProcess=function(n){if($("#navNextButtonId, .moreInfoMobileIcon").removeClass("invisible"),$(".navNextLinkClass").removeClass("hidden"),$("#navNextButtonId, .navNextLinkClass").removeAttr("disabled"),$("#SMSOfferIDLinkId").hide(),instantOfferPageObj.hideAdjustOfferLink(),$("#collapseOne").collapse("hide"),$("#navNextButtonId").removeClass("btn-success"),instantOfferSlideVisibility||n){var t=instantOfferPageObj.getMinimumListingPrice();instantOfferPageObj.showInstantOfferAmount(t);$(".listingSlider").val(t);setTimeout(function(){instantOfferPageObj.hideAdjustOfferLink()},5);setTimeout(function(){instantOfferPageObj.hideAdjustOfferLink();instantOfferPageObj.resetAskingPriceStatus();com.site.VehicleInfo.setDataInProfile()},400)}com.site.VehicleInfo.setForwardNavigationButtonText();instantOfferSlideVisibility=!1;instantOfferPageObj.setInstantOfferLoadStatus(!1);com.site.VehicleInfo.preInstantOfferManagerObj.manageMobLinksVisibility(!0)};com.site.VehicleInfo.moveToVehicleInfo=function(){var t=instantOfferSlideVisibility,n;instantOfferSlideVisibility&&(n=com.site.VehicleInfo.getSlideNoFromName(conditionQuestionLastSlideName),com.site.VehicleInfo.setBrowserHashValue(n),moreInfoObj.setMoreInfoSlideDataByName(conditionQuestionLastSlideName),setProgressBar((n+1)*2.5),com.site.VehicleInfo.trackPage(n));$("#collapseOne").collapse("hide");$("#instantOfferContainer").css("display")!="none"?$("#instantOfferContainer").fadeOut(700,function(){com.site.VehicleInfo.moveToVehicleInfoProcess(t);$("#slides").fadeIn(700,function(){instantOfferPageObj.changeToOffer();$("#instantOfferContainer").hide();$("#slides").show()})}):com.site.VehicleInfo.moveToVehicleInfoProcess()};com.site.VehicleInfo.moveToInstantOfferFromAnyVehicleInfo=function(){$("#collapseOne").collapse("hide");instantOfferSlideVisibility||com.site.VehicleInfo.instantOfferButtonClickAction()};com.site.VehicleInfo.setForwardNavigationButtonText=function(){$(".navNextButtonTextId").html("Next");com.site.VehicleInfo.getSlideNameFromNumber(current_pane)==conditionQuestionLastSlideName&&$(".navNextButtonTextId").html("Get offer");com.site.VehicleInfo.isInitialOfferPage()&&com.site.VehicleInfo.getSlideNameFromNumber(current_pane)=="location"&&$(".navNextButtonTextId").html("Get offer")};com.site.VehicleInfo.instantOfferButtonClickAction=function(){com.site.VehicleInfo.isAjaxRequestLoading||com.site.VehicleInfo.ClaimCode!=""||(agentLoginSellerName!=null&&agentLoginSellerName!=""?com.site.VehicleInfo.showAlreadyLoginAgentAsSellerPopUp(agentLoginSellerName):com.site.VehicleInfo.checkToCreateOrUpdateOffer());com.site.VehicleInfo.ClaimCode!=""&&com.site.VehicleInfo.requestForUpdateVehicle()};com.site.VehicleInfo.getSlideNoFromName=function(n){for(var t=0;t<allSlides.length;t++)if(allSlides[t]==n)return t;return""};com.site.VehicleInfo.getSlideNameFromNumber=function(n){return allSlides[n]};com.site.VehicleInfo.getSlideNoFromNameForAcceptOffer=function(n){for(var t=0;t<allSlidesOfAcceptOffer.length;t++)if(allSlidesOfAcceptOffer[t]==n)return t;return""};postGeoLocationDecode=function(n,t,i){com.site.Util.resetAgentSessionTimer();fromGeoLocationZip=!0;$("#zipInput").val(n);$("#zipState").html(t);$("#zipStateCode").html(i);$("#zipStateContainer").show();carInfoPageObj.validateCarZipCode(!1);carInfoPageObj.checkCurrentCarInfoSet("location")};com.site.VehicleInfo.checkToCreateOrUpdateOffer=function(){var n=carInfoPageObj.getAllCarInfo(),t=carInfoPageObj.getLocationDetail();if((YearIdGBL!=n.yearId||MakeIdGBL!=n.makeId||ModelIdGBL!=n.modelId||t.city!=CityNameGBL)&&(com.site.VehicleInfo.updateExistingInstantOffer=!1,YearIdGBL=n.yearId,MakeIdGBL=n.makeId,ModelIdGBL=n.modelId,CityNameGBL=t.city),com.site.VehicleInfo.updateExistingInstantOffer){com.site.VehicleInfo.requestForUpdateOffer();return}com.site.VehicleInfo.requestForCreateOffer()};com.site.VehicleInfo.checkToCreateOrUpdateInitialOffer=function(){var n=carInfoPageObj.getAllCarInfo(),t=carInfoPageObj.getLocationDetail();if((YearIdGBL!=n.yearId||MakeIdGBL!=n.makeId||ModelIdGBL!=n.modelId||t.city!=CityNameGBL)&&(com.site.VehicleInfo.updateExistingInstantOffer=!1,YearIdGBL=n.yearId,MakeIdGBL=n.makeId,ModelIdGBL=n.modelId,CityNameGBL=t.city),com.site.VehicleInfo.updateExistingInstantOffer&&!com.site.VehicleInfo.isInstantOfferGenerated){com.site.VehicleInfo.requestForUpdateAgentInitialOffer();return}com.site.VehicleInfo.requestForAgentInitialOffer()};com.site.VehicleInfo.checkToCreateEarlyRequest=function(){var n=carInfoPageObj.getAllCarInfo(),i=carInfoPageObj.getLocationDetail(),t=conditionSlides.getAllConditionAnswer();com.site.VehicleInfo.ClaimCode==""&&(earlyOfferInfoGBL.yearId==n.yearId&&earlyOfferInfoGBL.makeId==n.makeId&&earlyOfferInfoGBL.modelId==n.modelId&&earlyOfferInfoGBL.bodyTypeId==n.bodyTypeId&&earlyOfferInfoGBL.cabTypeId==n.cabTypeId&&earlyOfferInfoGBL.doors==n.doors&&earlyOfferInfoGBL.trimId==n.trimId&&earlyOfferInfoGBL.fuelTypeId==n.fuelTypeId&&earlyOfferInfoGBL.titleType==n.titleType&&earlyOfferInfoGBL.zipcode==i.zipcode&&earlyOfferInfoGBL.tires==t.tires&&earlyOfferInfoGBL.drivable==t.drivable&&earlyOfferInfoGBL.underTheHood==t.underTheHood&&earlyOfferInfoGBL.taxiUsage==t.taxiUsage&&(earlyOfferInfoGBL.mileage==t.mileage||!t.mileage)||(com.site.VehicleInfo.requestForEarlyOffer(),earlyOfferInfoGBL.yearId=n.yearId,earlyOfferInfoGBL.makeId=n.makeId,earlyOfferInfoGBL.modelId=n.modelId,earlyOfferInfoGBL.bodyTypeId=n.bodyTypeId,earlyOfferInfoGBL.cabTypeId=n.cabTypeId,earlyOfferInfoGBL.doors=n.doors,earlyOfferInfoGBL.trimId=n.trimId,earlyOfferInfoGBL.fuelTypeId=n.fuelTypeId,earlyOfferInfoGBL.titleType=n.titleType,earlyOfferInfoGBL.zipcode=i.zipcode,earlyOfferInfoGBL.tires=t.tires,earlyOfferInfoGBL.drivable=t.drivable,earlyOfferInfoGBL.underTheHood=t.underTheHood,earlyOfferInfoGBL.taxiUsage=t.taxiUsage,earlyOfferInfoGBL.mileage=t.mileage))};com.site.VehicleInfo.checkToGetEligibleAdvanceQuestions=function(){var n=carInfoPageObj.getAllCarInfo();(eligibleAdvanceQuestionsInfoGBL.yearId!=n.yearId||eligibleAdvanceQuestionsInfoGBL.makeId!=n.makeId||eligibleAdvanceQuestionsInfoGBL.modelId!=n.modelId)&&(com.site.VehicleInfo.getEligibleAdvanceQuestions(),eligibleAdvanceQuestionsInfoGBL.yearId=n.yearId,eligibleAdvanceQuestionsInfoGBL.makeId=n.makeId,eligibleAdvanceQuestionsInfoGBL.modelId=n.modelId)};com.site.VehicleInfo.isHashValueInRangeOfVehicleInfoSlide=function(){var n=!1,t=parseInt(slideToMoveGBL.replace(/\D/g,""));return slideToMoveGBL!=""&&t<=com.site.VehicleInfo.getSlideNoFromName(conditionQuestionLastSlideName)&&t>=com.site.VehicleInfo.getSlideNoFromName("year")&&(n=!0),n};com.site.VehicleInfo.postEnableNextButton=function(){com.site.VehicleInfo.setDataInProfile();com.site.Util.hideErrorAlert();$("#navNextButtonId").addClass("btn-primary");com.site.Util.resetAgentSessionTimer()};com.site.VehicleInfo.postDisableNextButton=function(){com.site.VehicleInfo.setDataInProfile();$("#navNextButtonId").removeClass("btn-primary");com.site.Util.resetAgentSessionTimer()};com.site.VehicleInfo.postMoveToPreviousSlide=function(){com.site.Util.isOfferAgent()&&com.site.VehicleInfo.isInitialOfferPage()&&com.site.VehicleInfo.isAgentInitialOfferAvailable&&com.site.VehicleInfo.agentInitialOffer>0&&current_pane==com.site.VehicleInfo.getSlideNoFromName(conditionQuestionFirstSlideName)&&$("#SMSInitialOfferIDLinkId").show();com.site.VehicleInfo.setDataInProfile();com.site.VehicleInfo.showPreviousSlide()};com.site.VehicleInfo.postMoveToNextSlide=function(){if(com.site.Util.hideErrorAlert(),com.site.VehicleInfo.setDataInProfile(),conditionSlides.getCurrentOpenSlide()==conditionQuestionLastSlideName){com.site.VehicleInfo.instantOfferButtonClickAction();return}com.site.VehicleInfo.showNextSlide()};com.site.VehicleInfo.setDataInProfile=function(){var r,ot;com.site.Util.resetAgentSessionTimer();var t=conditionSlides.getAllConditionAnswer(),n=carInfoPageObj.getAllCarInfo(),i=carInfoPageObj.getLocationDetail(),ct={Name:n.onlyModelText||n.model,BodyType:n.bodyType,CabType:n.cabType,Doors:n.doors},u=n.year,e=!1;!n.make||(u+=" "+n.make,!n.model||(u+=" "+n.model,n.trim?(n.trim!="Not sure"&&(u+=" "+n.trim),e=!0):!!carInfoPageObj.getAllCarInfo().year&&parseInt(carInfoPageObj.getAllCarInfo().year)<com.site.Config.OptionalTrimAndVINForPreYear&&(e=!0)));r="";!n.titleType||!u||(n.titleType==1&&(r="Yes"),n.titleType==2&&(r="Partial"),n.titleType==3&&(r="No"));var st=conditionSlides.getSlideVisibility("taxiUsage")?"true":"false",ht=conditionSlides.getSlideVisibility("keyAndBattery")?"true":"false",o="",h="",c="",f="",l="",a="",v="",y="",p="",w="",b="",k="",d="",s="",g="",nt="",tt="",it="",rt="",ut="",ft="",et="false";!com.site.VehicleInfo.ClaimCode||(acceptOfferInfoGBL.carLocationType!="Residence"||!acceptOfferInfoGBL.carLocationStreet||!i.zipcode?acceptOfferInfoGBL.carLocationType!="Business"||!acceptOfferInfoGBL.carLocationStreet||!acceptOfferInfoGBL.businessCompanyName||!acceptOfferInfoGBL.businessCompanyPhoneNumber||!i.zipcode||(o="Business, "+acceptOfferInfoGBL.carLocationStreet+", "+i.stateCode+", "+i.zipcode):o="Residence, "+acceptOfferInfoGBL.carLocationStreet+", "+i.stateCode+", "+i.zipcode,h=acceptOfferInfoGBL.carColor||"",c=acceptOfferInfoGBL.payeeName||"",!acceptOfferInfoGBL.contactFirstName||!acceptOfferInfoGBL.contactLastName||(f=acceptOfferInfoGBL.contactFirstName+" "+acceptOfferInfoGBL.contactLastName,!acceptOfferInfoGBL.contactPhone||(f+=" at "+com.site.Util.reformatPhoneNumberText(acceptOfferInfoGBL.contactPhone),!acceptOfferInfoGBL.contactAlternatePhone||(f+=" and "+com.site.Util.reformatPhoneNumberText(acceptOfferInfoGBL.contactAlternatePhone)))),l=acceptOfferInfoGBL.carVin||"",a=acceptOfferInfoGBL.vinOptional,v=acceptOfferInfoGBL.vinVisibility?"Yes":"No",d=r,s=r=="No"?"No":"Yes",y=acceptOfferInfoGBL.titledInState||"",p=acceptOfferInfoGBL.ownerName||"",w=acceptOfferInfoGBL.ownerSignAsRequired||"",b=acceptOfferInfoGBL.liens||"",k=acceptOfferInfoGBL.addPhotos||"",com.site.Util.isAdminAgent()&&(g=acceptOfferInfoGBL.payment=="Yes"?"onspot":acceptOfferInfoGBL.payment=="No"?"checkbymail":"",!acceptOfferInfoGBL.mailingStreetAddress||(nt=acceptOfferInfoGBL.mailingLocationTypeAnswer+", "+acceptOfferInfoGBL.mailingStreetAddress+", "+acceptOfferInfoGBL.mailingStreetStateCode+" "+acceptOfferInfoGBL.mailingStreetZipCode),tt="true",it="true"),com.site.VehicleInfo.isCharityReferenceEnabled()&&(ft="true",ut="true",rt=acceptOfferInfoGBL.charityReference),et=$("#CharityId").val()!=null&&$("#CharityId").val()>0?"true":"false");ot={vehicleInfo:u,titleInstantOffer:r,isVehicleInfoFilled:e,vehicleLocation:i.city!==""?i.city+", "+i.stateCode:"",keyAndBatteryVisible:ht,keyAndBattery:t.keyAndBattery,drivable:t.drivable,underTheHood:t.underTheHood,taxiUsage:t.taxiUsage,taxiUsageVisible:st,mileageText:t.mileageText,bodyPanel:t.bodyPanel,interiorItems:t.interiorItems,tires:t.tires,bodyDamage:t.bodyDamage,glassAndLight:t.glassAndLight,floodAndFire:t.floodAndFire,missingPanelModal:t.missingPanelModal,bodyDamageModal:t.bodyDamageModal,flatTireModal:t.flatTireModal,missingTireModal:t.missingTireModal,glassDamageModal:t.glassDamageModal,charityReference:rt,charityReferenceVisible:ut,charityReferenceOptional:ft,charityId:et,carLocation:o,color:h,payWho:c,payment:g,mailing:nt,mailingVisible:tt,mailingOptional:it,contact:f,isContactPhone:!acceptOfferInfoGBL.contactPhone?"false":"true",whatIsVin:l,vinOptionalStatus:a,vinVisible:v,title:d,titleIssuedVisible:s,titleIssued:y,owner:p,canSignVisible:s,canSign:w,liens:b,isListed:instantOfferPageObj.getAskingPriceStatus()&&!com.site.VehicleInfo.imageUploadManagerObj.isContainerBlank()?!0:"",addPhotos:k&&com.site.VehicleInfo.imageUploadManagerObj.isAllImagesFilled(),imageContainerLength:com.site.VehicleInfo.imageUploadManagerObj.imageContainerList.length};vehicleProfileObj.setAllVehicleProfileData(ot)};com.site.VehicleInfo.postMoveToSlide=function(n){var t,i;if(com.site.Util.hideErrorAlert(),com.site.VehicleInfo.setDataInProfile(),t=conditionSlides.IsAnswerTillCurrentSlideSet(n),t===!0){i=com.site.VehicleInfo.getSlideNoFromName(n);com.site.VehicleInfo.showSlideNumber(i);return}com.site.VehicleInfo.showSlideNumber(t+com.site.VehicleInfo.getSlideNoFromName(conditionQuestionFirstSlideName))};com.site.VehicleInfo.autoForwardToNextSlide=function(){com.site.VehicleInfo.goToNextSlide()};com.site.VehicleInfo.getEstimatedMileage=function(){var t=parseInt($("#currentYearForMileageConfirmation").val()),i=parseInt($("#currentMonthForMileageConfirmation").val()),r=parseInt(carInfoPageObj.getInputTextValue("year")),n=15e3,u=conditionSlides.getAllConditionAnswer().taxiUsage;return u=="No"&&(n=35e3),parseInt((t-r)*n+n*((i-1)/12))};com.site.VehicleInfo.openMileageConfirmationPopup=function(n){var t=n;booleanPopUpModalObj.openModal({id:"mileageConfirmation",Year:carInfoPageObj.getInputTextValue("year"),AvgMileage:com.site.Util.add_commas(com.site.VehicleInfo.getEstimatedMileage()),ActualMileage:t})};com.site.VehicleInfo.openNonDrivableConfirmationPopup=function(){infoPopUpModalObj.openModal({id:"nonDrivable"})};com.site.VehicleInfo.openNonDrivableAndNonStartConfirmationPopup=function(){infoPopUpModalObj.openModal({id:"nonDrivableNonStart"})};com.site.VehicleInfo.openUnableToVerifyMileagePopup=function(){setTimeout(function(){$("#BooleanPopUp").modal("hide")},100);infoPopUpModalObj.openModal({id:"unableToVerifyMileageModal"})};com.site.VehicleInfo.postClickLink=function(n){var r,t,i,u;if(conditionSlides.setYearTextFromCarInfo(carInfoPageObj.getInputTextValue("year")),instantOfferPageObj.setYearTextFromCarInfo(carInfoPageObj.getInputTextValue("year")),$("#"+n+"VPId").hasClass("disableProfileLinks"))return!1;if(r=com.site.VehicleInfo.getSlideNoFromNameForAcceptOffer(n),r!=="")return ProfileNavigationalSlideGBL="#"+r,instantOfferSlideVisibility?com.site.VehicleInfo.goToNextSlide():com.site.VehicleInfo.checkToSaveAndMoveToInstantOffer(),!0;if(n==="instantOffer")return com.site.VehicleInfo.checkToSaveAndMoveToInstantOffer();if(current_pane==com.site.VehicleInfo.getSlideNoFromName("preInstantOffer")?com.site.VehicleInfo.preInstantOfferManagerObj.moveToVehicleInfoFromPreInstantOffer():com.site.VehicleInfo.moveToVehicleInfo(),t="",i=carInfoPageObj.IsAnswerTillCurrentSlideSet(),n==="vehicleInfo"&&(i!==!0&&i<com.site.VehicleInfo.getSlideNoFromName("titleType")?com.site.VehicleInfo.showSlideNumber(i):com.site.VehicleInfo.showSlideNumber(com.site.VehicleInfo.getSlideNoFromName("year"))),n==="vehicleLocation"&&(i===!0?(com.site.VehicleInfo.showSlideNumber(com.site.VehicleInfo.getSlideNoFromName("location")),com.site.Util.isOfferAgent()&&com.site.VehicleInfo.isInitialOfferPage()&&com.site.VehicleInfo.isAgentInitialOfferAvailable&&com.site.VehicleInfo.agentInitialOffer>0&&$("#SMSInitialOfferIDLinkId").show()):com.site.VehicleInfo.showSlideNumber(i)),n==="titleType"){com.site.VehicleInfo.showSlideNumber(com.site.VehicleInfo.getSlideNoFromName("titleType"));return}t=com.site.VehicleInfo.getSlideNoFromName(n);carInfoPageObj.IsAnswerTillCurrentSlideSet()==!0&&t>=com.site.VehicleInfo.getSlideNoFromName(conditionQuestionFirstSlideName)&&t<=com.site.VehicleInfo.getSlideNoFromName(conditionQuestionLastSlideName)?(u=conditionSlides.IsAnswerTillCurrentSlideSet(n),u===!0?com.site.VehicleInfo.showSlideNumber(t):com.site.VehicleInfo.showSlideNumber(u+com.site.VehicleInfo.getSlideNoFromName(conditionQuestionFirstSlideName))):t!==""&&com.site.VehicleInfo.showSlideNumber(carInfoPageObj.IsAnswerTillCurrentSlideSet())};com.site.VehicleInfo.checkToSaveAndMoveToInstantOffer=function(){var n=carInfoPageObj.IsAnswerTillCurrentSlideSet();if(n===!0){if(n=conditionSlides.IsAllAnsweredSet(),n===!0)return com.site.Util.hideErrorAlert(),com.site.VehicleInfo.moveToInstantOfferFromAnyVehicleInfo(),!0;com.site.VehicleInfo.showSlideNumber(n+com.site.VehicleInfo.getSlideNoFromName(conditionQuestionFirstSlideName))}else com.site.VehicleInfo.showSlideNumber(n);return com.site.VehicleInfo.moveToVehicleInfo(),ProfileNavigationalSlideGBL="",!0};com.site.VehicleInfo.postEnableCarInfoNextButton=function(){com.site.VehicleInfo.setDataInProfile();com.site.Util.hideErrorAlert();$("#navNextButtonId").addClass("btn-primary")};com.site.VehicleInfo.postDisableCarInfoNextButton=function(){com.site.VehicleInfo.setDataInProfile();$("#navNextButtonId").removeClass("btn-primary")};com.site.VehicleInfo.postMoveToCarInfoNextSlide=function(n){current_pane==com.site.VehicleInfo.getSlideNoFromName("model")&&com.site.VehicleInfo.checkToGetEligibleAdvanceQuestions();com.site.Util.hideErrorAlert();com.site.VehicleInfo.setDataInProfile();var t=com.site.VehicleInfo.getSlideNoFromName(n);if(n=="location"){if(com.site.VehicleInfo.isInitialOfferPage()&&!com.site.VehicleInfo.isAgentInitialOfferAvailable){com.site.VehicleInfo.checkToCreateOrUpdateInitialOffer();return}if(com.site.VehicleInfo.isInitialOfferPage()&&com.site.VehicleInfo.isAgentInitialOfferAvailable){com.site.VehicleInfo.initialOfferPopupOpen(com.site.VehicleInfo.agentInitialOffer);return}$("#SMSInitialOfferIDLinkId").hide();com.site.VehicleInfo.showNextSlide()}else com.site.VehicleInfo.showSlideNumber(t)};com.site.VehicleInfo.postMoveToCarInfoPreviousSlide=function(){com.site.VehicleInfo.setDataInProfile();com.site.VehicleInfo.showPreviousSlide();$("#SMSInitialOfferIDLinkId").hide()};com.site.VehicleInfo.postMoveToCarInfoSlide=function(n){com.site.Util.hideErrorAlert();com.site.VehicleInfo.setDataInProfile();var i=carInfoPageObj.IsAllAnsweredSet(),t=com.site.VehicleInfo.getSlideNoFromName(n);if($("#SMSInitialOfferIDLinkId").hide(),current_pane==com.site.VehicleInfo.getSlideNoFromName("titleType")&&com.site.VehicleInfo.checkToGetEligibleAdvanceQuestions(),n=="location"&&com.site.Util.isOfferAgent()&&com.site.VehicleInfo.isInitialOfferPage()&&com.site.VehicleInfo.isAgentInitialOfferAvailable&&com.site.VehicleInfo.agentInitialOffer>0&&$("#SMSInitialOfferIDLinkId").show(),i===!0){com.site.VehicleInfo.showSlideNumber(t);return}com.site.VehicleInfo.showSlideNumber(t)};com.site.VehicleInfo.postMoveToCarInfoVINSlide=function(){com.site.Util.hideErrorAlert();com.site.VehicleInfo.showSlideNumber(com.site.VehicleInfo.getSlideNoFromName("vin"))};com.site.VehicleInfo.postSetDataCarInfoInList=function(){com.site.Util.hideErrorAlert();com.site.VehicleInfo.setDataInProfile()};com.site.VehicleInfo.autoForwardToCarInfoNextSlide=function(){com.site.VehicleInfo.goToNextSlide()};com.site.VehicleInfo.postVINMatchCarInfoSlide=function(){com.site.VehicleInfo.saveAndContinueVinNumberWithUIUpdates()};com.site.VehicleInfo.carInfoChangedCarInfoSlide=function(){com.site.VehicleInfo.isAgentInitialOfferAvailable=!1;IsZIPLoadedFromParamGBL&&carInfoPageObj.IsAnswerTillCurrentSlideSet("location")===!0&&(IsZIPLoadedFromParamGBL=!1,carInfoPageObj.autoForwardToNextSlide())};com.site.VehicleInfo.openNotSureTrimPopup=function(){infoPopUpModalObj.openModal({id:"notSureTrimModal"})};com.site.VehicleInfo.setInfoPopUpSuccessButtonAction=function(n){var t=n.call(this);if(t.id=="sessionExperied"&&(com.site.AjaxEngine.showMask=!1,com.site.Util.showFullPageLoadingMask(),window.open(com.site.Config.LogInLink,"_self",!1)),(t.id=="vehicleAlreadyExist"||t.id=="vinAlreadyExistAsAccepted"||t.id=="vehicleAlreadyListed")&&(t.id=="vehicleAlreadyExist"&&com.site.Util.isPublisherView()&&t.modalAnswer.DuplicationResponseMessage=="DifferentPublisherSameSellerOpenVehicle"||t.modalAnswer.DuplicationResponseMessage=="DifferentPublisherSameSellerOpenVIN"?com.site.CreateAccountAndLogin.transferOwnership(AccountIdGBL,t.modalAnswer.Claim.ClaimId,OfferIdGBL):window.open(t.modalAnswer.RedirectPage+"?OfferID="+t.modalAnswer.Claim.ClaimCode+"&zipcode="+t.modalAnswer.Claim.Location.ZipCode,"_self",!1)),t.id=="vinAlreadyExistForDifferentSeller"&&(differentSellerAccount=!0,com.site.CreateAccountAndLogin.openLoginPopupModal()),(t.id=="vinAlreadyExistAsAccepted"||t.id=="publisherVinAlreadyExistAsAccepted"||t.id=="publisherVehicleAlreadyExistAsAccepted"||t.id=="vinAlreadyExistForDifferentSeller")&&com.site.Util.isPublisherView()&&(t.modalAnswer.DuplicationResponseMessage=="DifferentPublisherSameSellerAcceptedVehicle"||t.modalAnswer.DuplicationResponseMessage=="SameSellerAcceptedVehicle"||t.modalAnswer.DuplicationResponseMessage=="SameSellerAcceptedVIN"||t.modalAnswer.DuplicationResponseMessage=="SameSellerListedVehicle"||t.modalAnswer.DuplicationResponseMessage=="SameSellerListedVIN"||t.modalAnswer.DuplicationResponseMessage=="DifferentSellerOpenVIN"||t.modalAnswer.DuplicationResponseMessage=="DifferentSellerAcceptedVIN"||t.modalAnswer.DuplicationResponseMessage=="DifferentPublisherDifferentSellerOpenVIN"||t.modalAnswer.DuplicationResponseMessage=="DifferentPublisherSameSellerListedVehicle"||t.modalAnswer.DuplicationResponseMessage=="DifferentPublisherSameSellerListedVIN"||t.modalAnswer.DuplicationResponseMessage=="DifferentPublisherDifferentSellerAcceptedVIN"||t.modalAnswer.DuplicationResponseMessage=="DifferentPublisherSameSellerAcceptedVIN")&&$("#createAccountLoginModal").modal("hide"),t.id=="duplicateVIN"&&com.site.VehicleInfo.reEnterVIN(),t.id=="initialOffer"){if(com.site.VehicleInfo.isInitialOfferPage()&&!!instantOfferPageObj.getNoTitleRequirementText()&&!carInfoPageObj.getNoTitleRequirement()&&carInfoPageObj.getAllCarInfo().titleType==3){setTimeout(function(){com.site.VehicleInfo.noTitleRequirementPopupOpen(instantOfferPageObj.getNoTitleRequirementText())},200);return}$("#SMSInitialOfferIDLinkId").hide();com.site.VehicleInfo.showNextSlide()}t.id=="invalidVIN"&&(EventTracking("Instant Offer","Click","VIN Vehicle Mismatch Change"),$("#vinInput").closest(".ui-input").children(".icon-cancel-circled.ui-icon-input").hide(),$("#vinInput").closest(".ui-input").children(".icon-ok-circled.ui-icon-input").hide(),$("#vinInput").closest(".ui-input").children(".icon-spin5.ui-icon-input").show(),setTimeout(function(){com.site.VehicleInfo.saveAndContinueVinNumberWithUIUpdates()},10));t.id=="nonDrivable"&&(conditionSlides.setWheelRemovedConfirmed(!0),conditionSlides.resetConditionAnswer("drivable"),$("#drivableCheckboxYesPanelListId").addClass("disabled"),com.site.Config.IsConditionModalEnable||com.site.Config.IsConditionModalForTiresRemovedEnable?conditionSlides.setConditionAnswer("tires",com.site.Conditions.conditionAnswer[1],"missingTire",conditionSlides.getModalOptionData("missingTire","No",conditionSlides.getConditionAnswerOfSlideModal("tires","missingTire")),!0):conditionSlides.setConditionAnswer("tires",com.site.Conditions.conditionAnswer[1],"","",!1));t.id=="nonDrivableNonStart"&&(conditionSlides.setKeyAndBatteryRemovedConfirmed(!0),conditionSlides.resetConditionAnswer("drivable"),$("#drivableCheckboxYesPanelListId").addClass("disabled"),$("#drivableCheckboxPartialPanelListId").addClass("disabled"),conditionSlides.setConditionAnswer("keyAndBattery",com.site.Conditions.conditionAnswer[1],"","",!0));t.id=="systemError"&&(com.site.AjaxEngine.showMask=!1,com.site.Util.showFullPageLoadingMask(),location.reload());t.id=="unableToVerifyMileageModal";t.id=="notSureTrimModal"&&com.site.VehicleInfo.autoForwardToNextSlide()};com.site.VehicleInfo.setInfoPopUpCancelButtonAction=function(n){var t=n.call(this);t.id=="sessionExperied"&&(com.site.AjaxEngine.showMask=!1,com.site.Util.showFullPageLoadingMask(),window.open(com.site.Config.LogInLink,"_self",!1));t.id=="duplicateVIN"&&com.site.VehicleInfo.reEnterVIN();t.id=="initialOffer";t.id=="invalidVIN"&&t.postCloseActionRequired&&com.site.VehicleInfo.reEnterVIN();t.id=="nonDrivable"||t.id=="nonDrivableNonStart";t.id=="systemError"&&(com.site.AjaxEngine.showMask=!1,com.site.Util.showFullPageLoadingMask(),location.reload());t.id=="unableToVerifyMileageModal";t.id=="notSureTrimModal"};com.site.VehicleInfo.setBooleanPopupLeftButtonAction=function(n){var t=n.call(this);if(t.id=="vehicleAlreadyExistAsAccepted"&&com.site.VehicleInfo.createClaimRequest(AccountIdGBL,OfferIdGBL),t.id=="alreadyLoginAgentAsSeller"){if(com.site.VehicleInfo.agentClickedInConfirmationModal){document.cookie="_offerAgentInstantOfferId=; expires=Thu, 01 Jan 1970 00:00:00 GMT";com.site.VehicleInfo.goToNextSlide();return}com.site.VehicleInfo.checkToCreateOrUpdateOffer()}if(t.id=="mileageConfirmation"&&(EventTracking("Mileage confirmation","click","Mileage confirm yes"),conditionSlides.setMileageConfirmed(!0),conditionSlides.setMileageConfirmedYear(carInfoPageObj.getInputTextValue("year")),conditionSlides.validateMileageInput(),conditionSlides.enableNextSlideButton(),com.site.VehicleInfo.autoForwardToNextSlide()),t.id=="noTitleRequirement"){carInfoPageObj.setNoTitleRequirement(!0);EventTracking("Instant Offer","Click","No Title Requirement agree");!instantOfferSlideVisibility&&com.site.VehicleInfo.isInitialOfferPage()?($("#SMSInitialOfferIDLinkId").hide(),com.site.VehicleInfo.showNextSlide()):com.site.VehicleInfo.ClaimCode==""&&acc_user_id==""?(com.site.CreateAccountAndLogin.openCreateAccountPopupModal(),com.site.Util.trackPage("createaccount")):com.site.VehicleInfo.ClaimCode==""&&acc_user_id!=""&&OfferIdGBL!=""?(AccountIdGBL=acc_user_id,com.site.VehicleInfo.checkForDuplicateVehicle(AccountIdGBL,OfferIdGBL)):instantOfferPageObj.getCurrentOffer()>0&&setTimeout(function(){com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();window.open(com.site.Config.AcceptOfferLink+"?OfferID="+com.site.VehicleInfo.ClaimCode+ProfileNavigationalSlideGBL,"_self",!1)},20);return}t.id=="initialOffer"&&com.site.Util.isOfferAgent()&&com.site.VehicleInfo.agentInitialOffer>0&&(sendSMSObj.setSMSText("initialOffer"),sendSMSObj.getTwilioCallerNumber())};com.site.VehicleInfo.setBooleanPopupRightButtonAction=function(n){var t=n.call(this);if(t.id=="vehicleAlreadyExistAsAccepted"&&window.open(t.modalAnswer.RedirectPage+"?OfferID="+t.modalAnswer.Claim.ClaimCode+"&zipcode="+t.modalAnswer.Claim.Location.ZipCode,"_self",!1),t.id=="alreadyLoginAgentAsSeller"){if(LogOutAgentAsSeller=!0,com.site.VehicleInfo.agentClickedInConfirmationModal&&LogOutAgentAsSeller){LogOutAgentAsSeller=!1;window.open(com.site.Config.LogoutLink,"_self",!1);return}com.site.VehicleInfo.checkToCreateOrUpdateOffer()}if(t.id=="mileageConfirmation"&&(EventTracking("Mileage confirmation","click","Mileage confirm no"),conditionSlides.setMileageConfirmed(!1),conditionSlides.setMileageConfirmedYear(carInfoPageObj.getInputTextValue("year")),conditionSlides.resetMileageInput(),conditionSlides.disableNextSlideButton()),t.id=="noTitleRequirement"&&(carInfoPageObj.setNoTitleRequirement(!1),EventTracking("Instant Offer","Click","No Title Requirement Not agree")),t.id=="initialOffer"){if(com.site.VehicleInfo.isInitialOfferPage()&&!!instantOfferPageObj.getNoTitleRequirementText()&&!carInfoPageObj.getNoTitleRequirement()&&carInfoPageObj.getAllCarInfo().titleType==3){setTimeout(function(){com.site.VehicleInfo.noTitleRequirementPopupOpen(instantOfferPageObj.getNoTitleRequirementText())},200);return}$("#SMSInitialOfferIDLinkId").hide();com.site.VehicleInfo.showNextSlide()}};com.site.VehicleInfo.setBooleanPopupCancelButtonAction=function(n){var t=n.call(this);t.id=="vehicleAlreadyExistAsAccepted"&&t.postCloseActionRequired&&(com.site.VehicleInfo.enableNextButton(),instantOfferSlideVisibility&&(instantOfferPageObj.getCurrentOffer()>0?($(".navNextButtonTextId").html("Get paid"),instantOfferPageObj.getAskingPriceStatus()&&$(".navNextButtonTextId").html("Get listed")):$(".navNextButtonTextId").html("Get listed")));t.id=="alreadyLoginAgentAsSeller"&&t.postCloseActionRequired&&(com.site.VehicleInfo.agentClickedInConfirmationModal=!1);t.id=="mileageConfirmation"&&t.postCloseActionRequired&&(EventTracking("Mileage confirmation","click","Mileage confirm no"),conditionSlides.resetMileageInput(),conditionSlides.disableNextSlideButton());t.id=="noTitleRequirement"&&t.postCloseActionRequired&&carInfoPageObj.setNoTitleRequirement(!1);t.id=="initialOffer"&&t.postCloseActionRequired};com.site.VehicleInfo.askingPriceUpdatePostAction=function(n){var t,i;com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();com.site.VehicleInfo.ClaimCode==""?(t={Success:!0},n.Offer==null&&(n.Offer={},i=com.site.VehicleInfo.noOfferObject(),$.extend(n.Offer,i)),com.site.VehicleInfo.getInstantOfferCallback($.extend(n.Offer,t))):(showListingIfEnabledFromExperiment=!1,com.site.VehicleInfo.getOfferAmount())};com.site.VehicleInfo.askingPriceUpdateErrorPostAction=function(){com.site.VehicleInfo.systemErrorPopupOpen()};com.site.VehicleInfo.adjustOfferPostAction=function(n){var t,i;instantOfferPageObj.changeToOffer();com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();com.site.VehicleInfo.ClaimCode==""?(t={Success:!0},n.Offer==null&&(n.Offer={},i=com.site.VehicleInfo.noOfferObject(),$.extend(n.Offer,i)),com.site.VehicleInfo.getInstantOfferCallback($.extend(n.Offer,t))):(showListingIfEnabledFromExperiment=!1,com.site.VehicleInfo.getOfferAmount())};com.site.VehicleInfo.adjustOfferErrorPostAction=function(){com.site.VehicleInfo.systemErrorPopupOpen()};com.site.VehicleInfo.disableNextButton=function(){com.site.VehicleInfo.isAjaxRequestLoading=!0;$("#navNextButtonId, .navNextLinkClass").attr("disabled","disabled");$(".navNextButtonTextId").html("Loading...")};com.site.VehicleInfo.enableNextButton=function(){com.site.VehicleInfo.isAjaxRequestLoading=!1;$("#navNextButtonId, .navNextLinkClass").removeAttr("disabled");com.site.VehicleInfo.setForwardNavigationButtonText()};com.site.VehicleInfo.setInstantOfferObjectData=function(n){var t;instantOfferPageObj.setPickUpOfferAmount(n.PickUp.OfferAmount);instantOfferPageObj.setPickUpActualOfferAmount(n.PickUp.ActualOffer);instantOfferPageObj.setPickUpNoTitleRequirement(n.PickUp.NoTitleRequirement);instantOfferPageObj.setPickUpAllowedOfferAdjustment(n.PickUp.AllowedOfferAdjustment);instantOfferPageObj.setPickUpMinimumListingPrice(n.PickUp.MinimumListingPrice);instantOfferPageObj.setPickUpOfferAdjustedStatus(n.PickUp.IsOfferAdjusted);t=!n.PickUp.OfferType?"":n.PickUp.OfferType;instantOfferPageObj.setPickUpOfferType(t);instantOfferPageObj.setDropOffOfferAmount(n.DropOff.OfferAmount);instantOfferPageObj.setDropOffActualOfferAmount(n.DropOff.ActualOffer);instantOfferPageObj.setDropOffNoTitleRequirement(n.DropOff.NoTitleRequirement);instantOfferPageObj.setDropOffAllowedOfferAdjustment(n.DropOff.AllowedOfferAdjustment);instantOfferPageObj.setDropOffMinimumListingPrice(n.DropOff.MinimumListingPrice);instantOfferPageObj.setDropOffOfferAdjustedStatus(n.DropOff.IsOfferAdjusted);t=!n.DropOff.OfferType?"":n.DropOff.OfferType;instantOfferPageObj.setDropOffOfferType(t);instantOfferPageObj.setTransportType(n.TransportType);instantOfferPageObj.setTransportTypeOnLoad(n.TransportType);n.PickUp.ActualOffer==0&&n.DropOff.ActualOffer>0?(instantOfferPageObj.setTransportType("seller"),instantOfferPageObj.setTransportTypeOnLoad("seller")):n.DropOff.ActualOffer==0&&n.PickUp.ActualOffer>0&&instantOfferPageObj.setTransportType("carrier");instantOfferPageObj.setListingOfferPrice(n.AskingPrice);instantOfferPageObj.setAskingPriceStatus(n.IsAskingPriceSet);instantOfferPageObj.setAskingPriceStatusOnLoad(n.IsAskingPriceSet);instantOfferPageObj.setDropOffDistance(n.DropOff.DropOffDistance);instantOfferPageObj.setMaximumListingPrice(n.MaximumListingPrice);instantOfferPageObj.setIsPositiveAdjustmentAllowed(n.IsAllowedPostiveOfferAdjustment);instantOfferPageObj.setIsNegativeAdjustmentAllowed(n.IsAllowedNegativeOfferAdjustment)};com.site.VehicleInfo.getInstantOfferForSMS=function(){return instantOfferPageObj.getCurrentOffer()};com.site.VehicleInfo.getInitialOfferForSMS=function(){return com.site.VehicleInfo.agentInitialOffer};com.site.VehicleInfo.getInstantOfferLoadStatusForSMS=function(){return instantOfferPageObj.getInstantOfferLoadStatus()};com.site.VehicleInfo.getInitialOfferLoadStatusForSMS=function(){return com.site.VehicleInfo.isAgentInitialOfferAvailable};com.site.VehicleInfo.prepareDuplicateVehicleString=function(n){var t=n.Vehicle.Year.Name,i=n.Vehicle.Make.Name,r=n.Vehicle.Model.Name;return t+" "+i+" "+r};com.site.VehicleInfo.showDuplicateVehicleModal=function(n){infoPopUpModalObj.openModal({id:"vehicleAlreadyExist",vehicle:com.site.VehicleInfo.prepareDuplicateVehicleString(n.Claim),response:n})};com.site.VehicleInfo.showDuplicateVehicleModalForListing=function(n){infoPopUpModalObj.openModal({id:"vehicleAlreadyListed",vehicle:com.site.VehicleInfo.prepareDuplicateVehicleString(n.Claim),response:n})};com.site.VehicleInfo.showDuplicateAcceptedVehicleModal=function(n){booleanPopUpModalObj.openModal({id:"vehicleAlreadyExistAsAccepted",vehicle:com.site.VehicleInfo.prepareDuplicateVehicleString(n.Claim),response:n})};com.site.VehicleInfo.showDuplicateAcceptedVinModal=function(n){infoPopUpModalObj.openModal({id:"vinAlreadyExistAsAccepted",vehicle:com.site.VehicleInfo.prepareDuplicateVehicleString(n.Claim),response:n})};com.site.VehicleInfo.showDuplicateDifferentSellerVinModal=function(n){infoPopUpModalObj.openModal({id:"vinAlreadyExistForDifferentSeller",vehicle:com.site.VehicleInfo.prepareDuplicateVehicleString(n.Claim),response:n})};com.site.VehicleInfo.showPublisherDuplicateVinAcceptedModal=function(n){infoPopUpModalObj.openModal({id:"publisherVinAlreadyExistAsAccepted",vehicle:com.site.VehicleInfo.prepareDuplicateVehicleString(n.Claim),response:n})};com.site.VehicleInfo.showPublisherDuplicateAcceptedVehicleModal=function(n){infoPopUpModalObj.openModal({id:"publisherVehicleAlreadyExistAsAccepted",vehicle:com.site.VehicleInfo.prepareDuplicateVehicleString(n.Claim),response:n})};com.site.VehicleInfo.systemErrorPopupOpen=function(){infoPopUpModalObj.openModal({id:"systemError"})};com.site.AjaxEngine.sessionTimeoutPopupOpen=function(){infoPopUpModalObj.openModal({id:"sessionExperied"})};com.site.VehicleInfo.showAlreadyLoginAgentAsSellerPopUp=function(n){booleanPopUpModalObj.openModal({id:"alreadyLoginAgentAsSeller",sellerName:n})};com.site.VehicleInfo.duplicateVinPopupOpen=function(){infoPopUpModalObj.openModal({id:"duplicateVIN"})};com.site.VehicleInfo.initialOfferPopupOpen=function(n){var t="",i="",r="",u=n;instantOfferPageObj.getPickUpOfferAmount()>0&&(t+='<h4 class="ronniaFont text-center">We\'ll pick it up and pay up to:<\/h4>',t+='<div class="ronniaFont offerText text-center">$'+com.site.Util.add_commas(instantOfferPageObj.getPickUpOfferAmount())+"<\/div>");instantOfferPageObj.getDropOffOfferAmount()>0&&(i+='<h4 class="ronniaFont text-center">Drive it in and we\'ll pay up to:<\/h4>',i+='<div class="ronniaFont offerText text-center">$'+com.site.Util.add_commas(instantOfferPageObj.getDropOffOfferAmount())+"<\/div>");!isNaN(parseInt(instantOfferPageObj.getMaximumListingPrice()))&&parseInt(instantOfferPageObj.getMaximumListingPrice())>0&&(r+='<h4 class="ronniaFont text-center">List it for sale up to:<\/h4>',r+='<div class="ronniaFont offerText text-center">$'+com.site.Util.add_commas(instantOfferPageObj.getMaximumListingPrice())+"<\/div>",instantOfferPageObj.getInstantOfferAmount()==0&&(u=instantOfferPageObj.getMaximumListingPrice()));com.site.Util.isOfferAgent()&&n>0?booleanPopUpModalObj.openModal({id:"initialOffer",offer:n,offerText:t+i+r}):infoPopUpModalObj.openModal({id:"initialOffer",offer:u,offerText:t+i+r})};com.site.VehicleInfo.noTitleRequirementPopupOpen=function(n){function i(n){var t,i;return!!n==!1?"":(t='<div style="text-align:center"><div style=\'font-size:18px;margin-bottom:5px\'>You will need the following in order to accept this offer:<\/div><ol style="display:inline-block;list-style: decimal outside none;text-align:left;font-size:16px">',i=n.split("#"),$.map(i,function(n){t+="<li>"+n+"<\/li>"}),t+="<\/ol><div style='font-size:18px'>Are you able to meet these requirements?<\/div><\/div>")}var t=i(n);t!=""&&(modalTitle="Requirements without a title",modalText=t,booleanPopUpModalObj.openModal({id:"noTitleRequirement",offerText:modalText,title:modalTitle}))};com.site.VehicleInfo.requestForCreateOffer=function(){var n;if(!com.site.Util.areCookiesEnabled()){infoPopUpModalObj.openModal({id:"cookieDisable"});return}com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();com.site.VehicleInfo.disableNextButton();var i=carInfoPageObj.getAllCarInfo(),r=carInfoPageObj.getLocationDetail(),t=conditionSlides.getAllConditionAnswer(),c=i.trimId=="-1"?"":i.trimId,e="",o="",s="",h="",u="",f="",l=t.bodyPanel,a=t.bodyDamage,v=t.glassAndLight,y=t.floodAndFire,p=t.interiorItems;t.tires=="Yes"?(e="Yes",o="No"):t.tires=="No"?(e="No",o="Yes"):t.tires=="Partial"&&(e="No",o="No");t.drivable=="Yes"?(s="Yes",h="Yes",u="Yes",f="No"):t.drivable=="No"?(s="No",h="No",t.underTheHood=="Yes"?(u="Yes",f="No"):t.underTheHood=="Partial"?(u="No",f="No"):t.underTheHood=="No"&&(u="No",f="Yes")):t.drivable=="Partial"&&(s="No",h="Yes",u="Yes",f="No");var w=t.mileage,b=com.site.callPilotComponent.getCampaignNumber(),k=com.site.callPilotComponent.getCallId();instantOfferPageObj.setTitleType(i.titleType);n={};n.yearId=i.yearId;n.makeId=i.makeId;n.modelId=i.modelId;n.bodyTypeId=i.bodyTypeId;n.cabTypeId=i.cabTypeId;n.doors=i.doors;n.trimId=c;n.fuelTypeId=i.fuelTypeId;n.zipcode=r.zipcode;n.city=r.city;n.stateCode=r.stateCode;n.stateName=r.stateName;n.country=r.country;n.county=r.county;n.areAllTiresIntact=e;n.areAnyTiresRemoved=o;n.isVehicleDrives=s;n.isEngineStart=h;n.isEngineTransmissionComplete=u;n.isEngineTransmissionRemoved=f;n.areAllMajorBodyPanelsIntact=l;n.isFreeOfDents=a;n.areAllGlassAndLampsIntact=v;n.isFreeOfFloodAndFireDamage=y;n.areAllInteriorComponentsIntact=p;n.exactMileage=w;n.neverUsedAsTaxi=t.taxiUsage;n.keyAndBattery=t.keyAndBattery;n.campaignNumber=b;n.callId=k;n.vin=i.vin;n.OS=navigator.platform;n.Source="ResponsivePeddle";n.offerStatus="Instant";n.email=InitialOfferEmailGBL;n.phone=InitialOfferPhoneGBL;n.firstName=InitialOfferFirstNameGBL;n.lastName=InitialOfferLastNameGBL;n.publisherId=InitialOfferPublisherIdGBL;n.titleType=i.titleType;n.FrontLeftDamageLocationTiresRemoved=t.missingTireModal.DSFOption;n.FrontRightDamageLocationTiresRemoved=t.missingTireModal.PSFOption;n.RearRightDamageLocationTiresRemoved=t.missingTireModal.PSROption;n.RearLeftDamageLocationTiresRemoved=t.missingTireModal.DSROption;n.FrontLeftDamageLocationFlatTire=t.flatTireModal.DSFOption;n.FrontRightDamageLocationFlatTire=t.flatTireModal.PSFOption;n.RearRightDamageLocationFlatTire=t.flatTireModal.PSROption;n.RearLeftDamageLocationFlatTire=t.flatTireModal.DSROption;n.FrontLeftDamageLocationMissingPanel=t.missingPanelModal.DSFOption;n.FrontRightDamageLocationMissingPanel=t.missingPanelModal.PSFOption;n.RearRightDamageLocationMissingPanel=t.missingPanelModal.PSROption;n.RearLeftDamageLocationMissingPanel=t.missingPanelModal.DSROption;n.FrontLeftDamageLocationBodyDamage=t.bodyDamageModal.DSFOption;n.FrontRightDamageLocationBodyDamage=t.bodyDamageModal.PSFOption;n.RearRightDamageLocationBodyDamage=t.bodyDamageModal.PSROption;n.RearLeftDamageLocationBodyDamage=t.bodyDamageModal.DSROption;n.FrontLeftDamageLocationGlassDamage=t.glassDamageModal.DSFOption;n.FrontRightDamageLocationGlassDamage=t.glassDamageModal.PSFOption;n.RearRightDamageLocationGlassDamage=t.glassDamageModal.PSROption;n.RearLeftDamageLocationGlassDamage=t.glassDamageModal.DSROption;n.PartialLeadId=PartialLeadIdGBL;i.yearId!=""&&i.yearId!=0&&i.makeId!=""&&i.makeId!=0&&i.modelId!=""&&i.modelId!=0&&r.zipcode!=""&&com.site.DataService.createOffer(n,com.site.VehicleInfo.createOfferCallback)};com.site.VehicleInfo.createOfferCallback=function(n){var t=n;t.Success?(com.site.VehicleInfo.preInstantOfferManagerObj.setShowNoOfferModal(!0),com.site.VehicleInfo.updateExistingInstantOffer=!0,com.site.VehicleInfo.isInstantOfferGenerated=!0,!t.OfferId||com.site.VehicleInfo.trackAutoLoadInstantOffer("InstantOffer",t.OfferId),com.site.VehicleInfo.autoLoadedParameter={publisherId:"",campaignNumber:"",callId:""},com.site.VehicleInfo.setUpdatedAutoLoadParam(),com.site.VehicleInfo.performAction(t,"createOffer")):(com.site.VehicleInfo.systemErrorPopupOpen(),com.site.VehicleInfo.enableNextButton(),com.site.AjaxEngine.hideLoadingMask())};com.site.VehicleInfo.requestForUpdateOffer=function(){var n,l,r;if(!com.site.Util.areCookiesEnabled()){infoPopUpModalObj.openModal({id:"cookieDisable"});return}com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();com.site.VehicleInfo.disableNextButton();var i=carInfoPageObj.getAllCarInfo(),u=carInfoPageObj.getLocationDetail(),t=conditionSlides.getAllConditionAnswer(),p=i.trimId=="-1"?"":i.trimId,o="",s="",h="",c="",f="",e="",w=t.bodyPanel,b=t.bodyDamage,k=t.glassAndLight,d=t.floodAndFire,g=t.interiorItems;t.tires=="Yes"?(o="Yes",s="No"):t.tires=="No"?(o="No",s="Yes"):t.tires=="Partial"&&(o="No",s="No");t.drivable=="Yes"?(h="Yes",c="Yes",f="Yes",e="No"):t.drivable=="No"?(h="No",c="No",t.underTheHood=="Yes"?(f="Yes",e="No"):t.underTheHood=="Partial"?(f="No",e="No"):t.underTheHood=="No"&&(f="No",e="Yes")):t.drivable=="Partial"&&(h="No",c="Yes",f="Yes",e="No");var nt=t.mileage,a=com.site.VehicleInfo.autoLoadedParameter.publisherId,v="",y="";com.site.VehicleInfo.autoLoadedParameter.publisherId==""&&(a=InitialOfferPublisherIdGBL);com.site.VehicleInfo.autoLoadedParameter.campaignNumber==""&&(v=com.site.callPilotComponent.getCampaignNumber());com.site.VehicleInfo.autoLoadedParameter.callId==""&&(y=com.site.callPilotComponent.getCallId());instantOfferPageObj.setTitleType(i.titleType);n={};n.yearId=i.yearId;n.makeId=i.makeId;n.modelId=i.modelId;n.bodyTypeId=i.bodyTypeId;n.cabTypeId=i.cabTypeId;n.doors=i.doors;n.trimId=p;n.fuelTypeId=i.fuelTypeId;n.zipcode=u.zipcode;n.city=u.city;n.stateCode=u.stateCode;n.stateName=u.stateName;n.country=u.country;n.county=u.county;n.areAllTiresIntact=o;n.areAnyTiresRemoved=s;n.isVehicleDrives=h;n.isEngineStart=c;n.isEngineTransmissionComplete=f;n.isEngineTransmissionRemoved=e;n.areAllMajorBodyPanelsIntact=w;n.isFreeOfDents=b;n.areAllGlassAndLampsIntact=k;n.isFreeOfFloodAndFireDamage=d;n.areAllInteriorComponentsIntact=g;n.exactMileage=nt;n.neverUsedAsTaxi=t.taxiUsage;n.keyAndBattery=t.keyAndBattery;n.titleType=i.titleType;n.vin=i.vin;n.OS=navigator.platform;n.Source="ResponsivePeddle";n.offerStatus="Instant";n.offerId=OfferIdGBL;n.campaignNumber=v;n.callId=y;n.email=InitialOfferEmailGBL;n.phone=InitialOfferPhoneGBL;n.firstName=InitialOfferFirstNameGBL;n.lastName=InitialOfferLastNameGBL;n.publisherId=a;n.FrontLeftDamageLocationTiresRemoved=t.missingTireModal.DSFOption;n.FrontRightDamageLocationTiresRemoved=t.missingTireModal.PSFOption;n.RearRightDamageLocationTiresRemoved=t.missingTireModal.PSROption;n.RearLeftDamageLocationTiresRemoved=t.missingTireModal.DSROption;n.FrontLeftDamageLocationFlatTire=t.flatTireModal.DSFOption;n.FrontRightDamageLocationFlatTire=t.flatTireModal.PSFOption;n.RearRightDamageLocationFlatTire=t.flatTireModal.PSROption;n.RearLeftDamageLocationFlatTire=t.flatTireModal.DSROption;n.FrontLeftDamageLocationMissingPanel=t.missingPanelModal.DSFOption;n.FrontRightDamageLocationMissingPanel=t.missingPanelModal.PSFOption;n.RearRightDamageLocationMissingPanel=t.missingPanelModal.PSROption;n.RearLeftDamageLocationMissingPanel=t.missingPanelModal.DSROption;n.FrontLeftDamageLocationBodyDamage=t.bodyDamageModal.DSFOption;n.FrontRightDamageLocationBodyDamage=t.bodyDamageModal.PSFOption;n.RearRightDamageLocationBodyDamage=t.bodyDamageModal.PSROption;n.RearLeftDamageLocationBodyDamage=t.bodyDamageModal.DSROption;n.FrontLeftDamageLocationGlassDamage=t.glassDamageModal.DSFOption;n.FrontRightDamageLocationGlassDamage=t.glassDamageModal.PSFOption;n.RearRightDamageLocationGlassDamage=t.glassDamageModal.PSROption;n.RearLeftDamageLocationGlassDamage=t.glassDamageModal.DSROption;l=com.site.VehicleInfo.getVehicleDetail();com.site.Config.IsConditionModalEnable||!l||(r=l.VehicleDetail.VehicleInfo.VehicleCondition,n.FrontLeftDamageLocationFlatTire=r.DamageLocationFlatTire.FrontLeftDamageLocation,n.FrontRightDamageLocationFlatTire=r.DamageLocationFlatTire.FrontRightDamageLocation,n.RearRightDamageLocationFlatTire=r.DamageLocationFlatTire.RearRightDamageLocation,n.RearLeftDamageLocationFlatTire=r.DamageLocationFlatTire.RearLeftDamageLocation,n.FrontLeftDamageLocationMissingPanel=r.DamageLocationMissingPanel.FrontLeftDamageLocation,n.FrontRightDamageLocationMissingPanel=r.DamageLocationMissingPanel.FrontRightDamageLocation,n.RearRightDamageLocationMissingPanel=r.DamageLocationMissingPanel.RearRightDamageLocation,n.RearLeftDamageLocationMissingPanel=r.DamageLocationMissingPanel.RearLeftDamageLocation,n.FrontLeftDamageLocationBodyDamage=r.DamageLocationBodyDamage.FrontLeftDamageLocation,n.FrontRightDamageLocationBodyDamage=r.DamageLocationBodyDamage.FrontRightDamageLocation,n.RearRightDamageLocationBodyDamage=r.DamageLocationBodyDamage.RearRightDamageLocation,n.RearLeftDamageLocationBodyDamage=r.DamageLocationBodyDamage.RearLeftDamageLocation,n.FrontLeftDamageLocationGlassDamage=r.DamageLocationGlassDamage.FrontLeftDamageLocation,n.FrontRightDamageLocationGlassDamage=r.DamageLocationGlassDamage.FrontRightDamageLocation,n.RearRightDamageLocationGlassDamage=r.DamageLocationGlassDamage.RearRightDamageLocation,n.RearLeftDamageLocationGlassDamage=r.DamageLocationGlassDamage.RearLeftDamageLocation);i.yearId!=""&&i.yearId!=0&&i.makeId!=""&&i.makeId!=0&&i.modelId!=""&&i.modelId!=0&&u.zipcode!=""&&com.site.DataService.updateOffer(n,com.site.VehicleInfo.updateOfferCallback)};com.site.VehicleInfo.updateOfferCallback=function(n){var t=n,r,i;if(t.Success)com.site.VehicleInfo.updateExistingInstantOffer=!0,com.site.VehicleInfo.isInstantOfferGenerated=!0,!t.OfferId||com.site.VehicleInfo.trackAutoLoadInstantOffer("UpdateInstantOffer",t.OfferId),com.site.VehicleInfo.setUpdatedAutoLoadParam(),instantOfferPageObj.getActualOfferAmount()!=t.Offer.ActualOffer&&com.site.VehicleInfo.preInstantOfferManagerObj.setShowNoOfferModal(!0),com.site.VehicleInfo.performAction(t,"createOffer");else if(!t.Claim||!t.Claim.ClaimCode)com.site.VehicleInfo.systemErrorPopupOpen(),com.site.VehicleInfo.enableNextButton(),com.site.AjaxEngine.hideLoadingMask();else{if(com.site.AjaxEngine.showMask=!1,com.site.Util.showFullPageLoadingMask(),com.site.Util.isOfferAgent()&&$("#publisherView").length==0&&($("#Agent_AccountId").val(t.AccountId),$("#Agent_OfferID").val(t.Claim.ClaimCode),$("#Agent_Source").val("Web"),$("#Agent_cmd").val("ViewOffer"),!!t.AccountId)){$("#agentSearchInfoId").submit();return}r=com.site.Config.LogInLink;i="";i=r+"?cmd=ViewOffer&Source=ASSIGNMENT_EMAIL_TO_CUSTOMER&OfferID="+t.Claim.ClaimCode;window.open(i,"_self",!1);return}};com.site.VehicleInfo.performAction=function(n,t){if(com.site.Util.resetAgentSessionTimer(),t==""&&com.site.VehicleInfo.enableNextButton(),n.Action===5)!differentSellerAccount||!AccountIdGBL||!n.AccountId||n.AccountId==AccountIdGBL?!differentSellerAccount||!AccountIdGBL||!n.AccountId||n.AccountId!=AccountIdGBL?n.DuplicationResponseMessage=="SameSellerOpenVehicle"||n.DuplicationResponseMessage=="SameSellerOpenVIN"?com.site.VehicleInfo.showDuplicateVehicleModal(n):n.DuplicationResponseMessage=="SameSellerAcceptedVIN"?com.site.Util.isPublisherView()?com.site.VehicleInfo.showPublisherDuplicateVinAcceptedModal(n):com.site.VehicleInfo.showDuplicateAcceptedVinModal(n):n.DuplicationResponseMessage=="SameSellerListedVehicle"||n.DuplicationResponseMessage=="SameSellerListedVIN"?com.site.Util.isPublisherView()?n.DuplicationResponseMessage=="SameSellerListedVehicle"?com.site.VehicleInfo.showPublisherDuplicateAcceptedVehicleModal(n):n.DuplicationResponseMessage=="SameSellerListedVIN"&&com.site.VehicleInfo.showPublisherDuplicateVinAcceptedModal(n):com.site.VehicleInfo.showDuplicateVehicleModalForListing(n):n.DuplicationResponseMessage=="DifferentSellerOpenVIN"||n.DuplicationResponseMessage=="DifferentSellerAcceptedVIN"?com.site.Util.isPublisherView()?com.site.VehicleInfo.showPublisherDuplicateVinAcceptedModal(n):com.site.VehicleInfo.showDuplicateDifferentSellerVinModal(n):n.DuplicationResponseMessage=="SameSellerAcceptedVehicle"?com.site.Util.isPublisherView()?com.site.VehicleInfo.showPublisherDuplicateAcceptedVehicleModal(n):com.site.VehicleInfo.showDuplicateAcceptedVehicleModal(n):n.DuplicationResponseMessage=="DifferentPublisherSameSellerOpenVehicle"||n.DuplicationResponseMessage=="DifferentPublisherSameSellerOpenVIN"?com.site.VehicleInfo.showDuplicateVehicleModal(n):n.DuplicationResponseMessage=="DifferentPublisherSameSellerListedVehicle"||n.DuplicationResponseMessage=="DifferentPublisherSameSellerListedVIN"?com.site.Util.isPublisherView()?n.DuplicationResponseMessage=="DifferentPublisherSameSellerListedVehicle"?com.site.VehicleInfo.showPublisherDuplicateAcceptedVehicleModal(n):n.DuplicationResponseMessage=="DifferentPublisherSameSellerListedVIN"&&com.site.VehicleInfo.showPublisherDuplicateVinAcceptedModal(n):com.site.VehicleInfo.showDuplicateVehicleModalForListing(n):n.DuplicationResponseMessage=="DifferentPublisherDifferentSellerOpenVIN"||n.DuplicationResponseMessage=="DifferentPublisherDifferentSellerAcceptedVIN"||n.DuplicationResponseMessage=="DifferentPublisherSameSellerAcceptedVIN"?com.site.VehicleInfo.showPublisherDuplicateVinAcceptedModal(n):n.DuplicationResponseMessage=="DifferentPublisherSameSellerAcceptedVehicle"&&com.site.VehicleInfo.showPublisherDuplicateAcceptedVehicleModal(n):(window.open(com.site.Config.VehicleInfoLink+"?OfferID="+n.Claim.ClaimCode,"_self",!1),differentSellerAccount=!1):(com.site.VehicleInfo.showDuplicateDifferentSellerVinModal(n),differentSellerAccount=!1);else if(n.Action==2)window.open(n.RedirectPage,"_self",!1);else if(n.Action==8){if(LogOutAgentAsSeller){com.site.Util.setCookie("_offerAgentInstantOfferId",n.OfferId,1);LogOutAgentAsSeller=!1;window.open(com.site.Config.LogoutLink,"_self",!1);return}AccountIdGBL=n.AccountId;OfferIdGBL=n.OfferId;t=="createOffer"&&com.site.VehicleInfo.enableNextButton();com.site.VehicleInfo.checkForDuplicateVehicle(AccountIdGBL,OfferIdGBL)}else n.Action===10?com.site.VehicleInfo.createClaimRequest(AccountIdGBL,OfferIdGBL):n.Action===11?instantOfferPageObj.getCurrentOffer()==0?(com.site.Util.supports_html5_storage()&&(localStorage["site.showNoOfferModal"]=!0),window.open(com.site.Config.VehicleInfoLink+"?OfferID="+n.ClaimCode,"_self",!1)):instantOfferSlideVisibility?window.open(com.site.Config.AcceptOfferLink+"?OfferID="+n.ClaimCode,"_self",!1):window.open(com.site.Config.CustomerHandlerURL+"?OfferID="+n.ClaimCode,"_self",!1):n.Action===13?(OfferIdGBL=n.OfferId,com.site.VehicleInfo.enableNextButton(),com.site.VehicleInfo.moveToInstantOffer(n)):com.site.VehicleInfo.enableNextButton()};com.site.VehicleInfo.getInstantOffer=function(){com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();var n={};n.instantOfferId=OfferIdGBL;n.FromCookie=!1;com.site.DataService.getInstantOffer(n,com.site.VehicleInfo.getInstantOfferCallback)};com.site.VehicleInfo.getInstantOfferCallback=function(n){var t,i;com.site.AjaxEngine.hideLoadingMask();t=n;t.Success&&(com.site.VehicleInfo.instantOfferTracking(),com.site.Util.trackPage("instantOffer"),com.site.VehicleInfo.setInstantOfferObjectData(t),instantOfferPageObj.setIsDrivable(conditionSlides.getAllConditionAnswer().drivable),instantOfferPageObj.showAskingPriceLink(),instantOfferPageObj.showAdjustOfferLink(),instantOfferPageObj.setOfferRelatedText(),com.site.VehicleInfo.preInstantOfferManagerObj.manageOffer(),com.site.VehicleInfo.changeSlideToInstantOffer(),i=instantOfferPageObj.getCurrentOffer(),i>0&&!!instantOfferPageObj.getNoTitleRequirementText()&&carInfoPageObj.getAllCarInfo().titleType==3&&carInfoPageObj.setNoTitleRequirement(!1),instantOfferPageObj.showInstantOfferAmount(i),instantOfferPageObj.postOfferLoad(),com.site.VehicleInfo.setDataInProfile(),instantOfferSlideVisibility&&com.site.VehicleInfo.IsAcceptOfferButtonClicked&&(com.site.VehicleInfo.IsAcceptOfferButtonClicked=!1,com.site.VehicleInfo.goToNextSlide()));instantOfferPageObj.setInstantOfferLoadStatus(!0)};com.site.VehicleInfo.checkForDuplicateVehicle=function(n,t){com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();com.site.VehicleInfo.disableNextButton();var i={};i.AccountId=n;i.OfferId=t;com.site.DataService.checkForDuplicateVehicle(i,com.site.VehicleInfo.checkForDuplicateVehicleCallback)};com.site.VehicleInfo.checkForDuplicateVehicleCallback=function(n){var t=n;t.Success==!0?com.site.VehicleInfo.performAction(t,""):(com.site.VehicleInfo.enableNextButton(),com.site.AjaxEngine.hideLoadingMask())};com.site.VehicleInfo.transferOwnership=function(n,t,i){com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();com.site.VehicleInfo.disableNextButton();var r={};r.AccountId=n;r.OfferId=t;r.InstantOfferId=i;com.site.DataService.transferOwnership(r,com.site.VehicleInfo.transferOwnershipCallback)};com.site.VehicleInfo.transferOwnershipCallback=function(n){var t=n;t.Success==!0?window.open(t.RedirectPage+"?OfferID="+t.Claim.ClaimCode,"_self",!1):(com.site.VehicleInfo.enableNextButton(),com.site.AjaxEngine.hideLoadingMask())};com.site.VehicleInfo.createClaimRequest=function(n,t){com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();com.site.VehicleInfo.disableNextButton();var i={};i.AccountId=n;i.OfferId=t;com.site.DataService.createClaimFromOffer(i,com.site.VehicleInfo.createClaimRequestCallback)};com.site.VehicleInfo.createClaimRequestCallback=function(n){var t=n;t.Success==!0?com.site.VehicleInfo.performAction(t,""):(com.site.VehicleInfo.systemErrorPopupOpen(),com.site.VehicleInfo.enableNextButton(),com.site.AjaxEngine.hideLoadingMask())};com.site.VehicleInfo.getVehicleDetailForPartialOffer=function(n,t){com.site.Util.showFullPageLoadingMask();var i={OfferId:n,FromCookie:t};com.site.DataService.getVehicleDetailForPartialOffer(i,com.site.VehicleInfo.getVehicleDetailForPartialOfferCallback)};com.site.VehicleInfo.getVehicleDetailForPartialOfferCallback=function(n){var t,r,i;if(com.site.AjaxEngine.hideLoadingMask(),t=n,t.Success){if(PartialLeadIdGBL=t.Id,!!t.OfferId){r=com.site.Config.VehicleInfoLink+"#offer/P"+t.OfferId;window.open(r,"_self",!1);return}YearIdGBL=t.YearId;MakeIdGBL=t.MakeId;ModelIdGBL=t.ModelId;!t.Model||(PartialModelObj=t.ModelDetails);!t.Trim||(PartialTrimObj=t.TrimDetails);!t.Makes||carInfoPageObj.getMakeCallback(t);!t.Models||carInfoPageObj.getModelCallback(t);!t.Trims||carInfoPageObj.getTrimCallback(t);!t.Location||carInfoPageObj.setDataInLocation(t.Location);parseInt(t.Year)>=com.site.Config.OptionalTrimAndVINForPreYear&&carInfoPageObj.setSlideVisibility("trim",!0);!t.Email||(InitialOfferEmailGBL=t.Email);!t.FirstName||(InitialOfferFirstNameGBL=t.FirstName);!t.LastName||(InitialOfferLastNameGBL=t.LastName);!t.Phone||(InitialOfferPhoneGBL=t.Phone,sendSMSObj.setOfferPhone(t.Phone));i="";!t.Year||($("#yearInput").val(t.Year),carInfoPageObj.validateInput("yearInput",!1,!1),conditionSlides.setYearTextFromCarInfo(carInfoPageObj.getInputTextValue("year")),instantOfferPageObj.setYearTextFromCarInfo(carInfoPageObj.getInputTextValue("year")),conditionSlides.setMileageConfirmedYear(carInfoPageObj.getInputTextValue("year")),i="make",!t.Make||(i="model",!t.Model||(i=vehicleQuestionLastSlideName,!t.Trim||(i=vehicleTitleSlideName))));setTimeout(function(){com.site.VehicleInfo.showSlideNumber(com.site.VehicleInfo.getSlideNoFromName(i))},50)}com.site.VehicleInfo.showWrapper()};com.site.VehicleInfo.getVehicleDetailForInstantOffer=function(n,t){com.site.Util.showFullPageLoadingMask();var i={OfferId:n,FromCookie:t};com.site.DataService.getVehicleDetailForInstantOffer(i,com.site.VehicleInfo.getVehicleDetailForInstantOfferCallback)};com.site.VehicleInfo.getVehicleDetailForInstantOfferCallback=function(n){var t,e,r,i,u,f;if(com.site.AjaxEngine.hideLoadingMask(),t=n,t.Success){if(com.site.VehicleInfo.setVehicleDetail(t),!!t.VehicleDetail.ClaimCode){if(setTimeout(function(){com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask()},30),com.site.Util.isOfferAgent()&&$("#publisherView").length==0&&($("#Agent_AccountId").val(t.VehicleDetail.AccountId),$("#Agent_OfferID").val(t.VehicleDetail.ClaimCode),$("#Agent_Source").val("Web"),$("#Agent_cmd").val("ViewOffer"),!!t.VehicleDetail.AccountId)){$("#agentSearchInfoId").submit();com.site.VehicleInfo.showWrapper();return}e=com.site.Config.LogInLink;r="";r=e+"?cmd=ViewOffer&Source=ASSIGNMENT_EMAIL_TO_CUSTOMER&OfferID="+t.VehicleDetail.ClaimCode;window.open(r,"_self",!1);com.site.VehicleInfo.showWrapper();return}if(instantOfferPageObj.changeToOffer(),instantOfferPageObj.preOfferLoad(),com.site.VehicleInfo.showProfileTab(),t.VehicleDetail.VehicleInfo.ShouldShowTaxiSlide&&com.site.VehicleInfo.showTaxiSlide(),t.VehicleDetail.VehicleInfo.ShouldShowKeyAndBatterySlide&&t.VehicleDetail.VehicleInfo.VehicleCondition.IsKeyAndBatteryAvailable!=null&&com.site.VehicleInfo.showKeyAndBatterySlide(),carInfoPageObj.getMakeCallback(t),carInfoPageObj.getModelCallback(t),!t.Trims||carInfoPageObj.getTrimCallback(t),YearIdGBL=t.VehicleDetail.VehicleInfo.Vehicle.Year.Id,MakeIdGBL=t.VehicleDetail.VehicleInfo.Vehicle.Make.Id,ModelIdGBL=t.VehicleDetail.VehicleInfo.Vehicle.Model.Id,eligibleAdvanceQuestionsInfoGBL.yearId=t.VehicleDetail.VehicleInfo.Vehicle.Year.Id,eligibleAdvanceQuestionsInfoGBL.makeId=t.VehicleDetail.VehicleInfo.Vehicle.Make.Id,eligibleAdvanceQuestionsInfoGBL.modelId=t.VehicleDetail.VehicleInfo.Vehicle.Model.Id,CityNameGBL=t.Location.PreferredCity,com.site.VehicleInfo.updateExistingInstantOffer=!0,carInfoPageObj.setDataInCarPanels(t.VehicleDetail.VehicleInfo.Vehicle),carInfoPageObj.setDataInLocation(t.Location),carInfoPageObj.setSlideVisibility("trim",!0),!!carInfoPageObj.getAllCarInfo().year&&parseInt(carInfoPageObj.getAllCarInfo().year)<com.site.Config.OptionalTrimAndVINForPreYear?carInfoPageObj.setSlideVisibility("trim",!1):!!t.VehicleDetail.VehicleInfo.Vehicle.Trim.Id!=!1||t.VehicleDetail.IsInitialOffer||($("#trimInput").val("Not sure"),carInfoPageObj.validateInput("trimInput",!1,!1),carInfoPageObj.checkCurrentCarInfoSet("trim")),!t.VehicleDetail.PublisherId||(com.site.VehicleInfo.autoLoadedParameter.publisherId=t.VehicleDetail.PublisherId),com.site.Menu.checkForPubliserIdAvailability(t.VehicleDetail.PublisherId),!t.VehicleDetail.CampaignNumber||(com.site.VehicleInfo.autoLoadedParameter.campaignNumber=t.VehicleDetail.CampaignNumber),!t.VehicleDetail.CallId||(com.site.VehicleInfo.autoLoadedParameter.callId=t.VehicleDetail.CallId),!t.VehicleDetail.Email||(InitialOfferEmailGBL=t.VehicleDetail.Email),!t.VehicleDetail.FirstName||(InitialOfferFirstNameGBL=t.VehicleDetail.FirstName),!t.VehicleDetail.LastName||(InitialOfferLastNameGBL=t.VehicleDetail.LastName),!t.VehicleDetail.Phone||(InitialOfferPhoneGBL=t.VehicleDetail.Phone,sendSMSObj.setOfferPhone(t.VehicleDetail.Phone)),!t.VehicleDetail.PublisherId||(InitialOfferPublisherIdGBL=t.VehicleDetail.PublisherId),!t.VehicleDetail.TitleType||(carInfoPageObj.setTitleType(t.VehicleDetail.TitleType),instantOfferPageObj.setTitleType(t.VehicleDetail.TitleType)),conditionSlides.setYearTextFromCarInfo(carInfoPageObj.getInputTextValue("year")),instantOfferPageObj.setYearTextFromCarInfo(carInfoPageObj.getInputTextValue("year")),conditionSlides.setMileageConfirmedYear(carInfoPageObj.getInputTextValue("year")),t.VehicleDetail.IsInitialOffer){$("#instantOfferContainer").hide();$("#slides").show();i=!t.VehicleDetail.TitleType?vehicleTitleSlideName:conditionQuestionFirstSlideName;i=!!t.VehicleDetail.VehicleInfo.Vehicle.Trim.Id||parseInt(carInfoPageObj.getAllCarInfo().year)<com.site.Config.OptionalTrimAndVINForPreYear?i:vehicleQuestionLastSlideName;setTimeout(function(){com.site.VehicleInfo.showSlideNumber(com.site.VehicleInfo.getSlideNoFromName(i))},50);com.site.VehicleInfo.isAgentInitialOfferAvailable=!1;com.site.VehicleInfo.trackAutoLoadInstantOffer("LoadInitialOffer",OfferIdGBL);com.site.VehicleInfo.showWrapper();return}conditionSlides.setDataInConditionsQuestions(t.VehicleDetail.VehicleInfo.VehicleCondition);instantOfferSlideVisibility=!0;com.site.VehicleInfo.trackAutoLoadInstantOffer("LoadInstantOffer",OfferIdGBL);t.VehicleDetail.Offer!=""&&(com.site.VehicleInfo.setInstantOfferObjectData(t.VehicleDetail.Offer),instantOfferPageObj.setIsDrivable(conditionSlides.getAllConditionAnswer().drivable),instantOfferPageObj.setPublisherId(t.VehicleDetail.PublisherId),instantOfferPageObj.setTitleHelpLink(t.VehicleDetail.VehicleInfo.TitleHelpLink),instantOfferPageObj.setDuplicateTitleHelpLink(t.VehicleDetail.VehicleInfo.DuplicateTitleHelpLink),instantOfferPageObj.showAskingPriceLink(),instantOfferPageObj.showAdjustOfferLink(),instantOfferPageObj.setOfferRelatedText(),u=instantOfferPageObj.getCurrentOffer(),u>0&&!!instantOfferPageObj.getNoTitleRequirementText()&&carInfoPageObj.getAllCarInfo().titleType==3&&carInfoPageObj.setNoTitleRequirement(!1),instantOfferPageObj.showInstantOfferAmount(u),instantOfferPageObj.postOfferLoad(),com.site.VehicleInfo.preInstantOfferManagerObj.manageOffer(),com.site.VehicleInfo.initOuiBounceModal());com.site.VehicleInfo.preInstantOfferManagerObj.showInstantOfferSlide(0);com.site.VehicleInfo.changeBrowserHistoryManually();com.site.VehicleInfo.postMoveToInstantOffer(com.site.VehicleInfo.ClaimCode);com.site.VehicleInfo.showInstantOfferSMSLink();com.site.VehicleInfo.setDataInProfile();com.site.VehicleInfo.isInstantOfferGenerated=!0;instantOfferPageObj.setInstantOfferLoadStatus(!0);f=$.trim(unescape(com.site.Util.getURLParameter("Listing")));!f||f!="true"||com.site.Util.supports_html5_storage()&&(localStorage["site.goToListing"]=!0,$('.preInstantContainer[data-type="listing"]').click());!!t.VehicleDetail.Offer&&t.VehicleDetail.Offer.AutoSelectListing&&$('.preInstantContainer[data-type="listing"]').click()}com.site.VehicleInfo.showWrapper()};com.site.VehicleInfo.showWrapper=function(){setTimeout(function(){$("#wrap").show()},1200)};com.site.VehicleInfo.getVehicleDetailForOffer=function(){com.site.Util.showFullPageLoadingMask();var n={claimCode:com.site.VehicleInfo.ClaimCode};com.site.DataService.getVehicleDetailForOffer(n,com.site.VehicleInfo.getVehicleDetailForOfferCallback)};com.site.VehicleInfo.getVehicleDetailForOfferCallback=function(n){var t=n,l=parseInt(slideToMoveGBL.replace(/\D/g,"")),f,r,e,o,u,s,i,a,c,h;if(t.Success){if(com.site.VehicleInfo.setVehicleDetail(t),t.VehicleDetail.VehicleInfo.ShouldShowTaxiSlide&&com.site.VehicleInfo.showTaxiSlide(),t.VehicleDetail.VehicleInfo.ShouldShowKeyAndBatterySlide&&t.VehicleDetail.VehicleInfo.VehicleCondition.IsKeyAndBatteryAvailable!=null&&com.site.VehicleInfo.showKeyAndBatterySlide(),f=t.OfferDetail.PickUp.ActualOffer,r=t.OfferDetail.PickUp.IsVINRequired,instantOfferPageObj.getTransportType()=="seller"&&(f=t.OfferDetail.DropOff.ActualOffer,r=t.OfferDetail.DropOff.IsVINRequired),com.site.Util.supports_html5_storage()&&f==0&&localStorage["site.showNoOfferModal"]=="true"?(com.site.VehicleInfo.preInstantOfferManagerObj.setShowNoOfferModal(!0),localStorage.removeItem("site.showNoOfferModal")):com.site.Util.supports_html5_storage()&&(localStorage["site.newOffersAvailable"]=="true"||localStorage["site.newOffersAvailableOnAccept"]=="true")&&(infoPopUpModalObj.openModal({id:"newOffersAvailable"}),localStorage.removeItem("site.newOffersAvailable"),localStorage.removeItem("site.newOffersAvailableOnAccept")),com.site.VehicleInfo.ClaimId=t.VehicleDetail.VehicleInfo.ClaimId,e=$.trim(unescape(com.site.Util.getURLParameter("fromSMS"))),!!e&&e=="true"){com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();window.open(com.site.Config.AcceptOfferLink+"?OfferID="+com.site.VehicleInfo.ClaimCode+"&fromSMS=true","_self",!1);return}if(o=$.trim(unescape(com.site.Util.getURLParameter("toAddPhotos"))),!!o&&o=="true"&&t.OfferDetail.IsAskingPriceSet){com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();window.open(com.site.Config.AcceptOfferLink+"?OfferID="+com.site.VehicleInfo.ClaimCode+"&toAddPhotos=true","_self",!1);return}instantOfferPageObj.changeToOffer();instantOfferPageObj.preOfferLoad();com.site.Menu.checkForPubliserIdAvailability(t.VehicleDetail.VehicleInfo.PublisherId);com.site.VehicleInfo.showProfileTab();carInfoPageObj.getMakeCallback(t);carInfoPageObj.getModelCallback(t);!t.Trims||carInfoPageObj.getTrimCallback(t);com.site.VehicleInfo.setPreviousSelectedVehicleObj(t);carInfoPageObj.setDataInCarPanels(t.VehicleDetail.VehicleInfo.Vehicle);eligibleAdvanceQuestionsInfoGBL.yearId=t.VehicleDetail.VehicleInfo.Vehicle.Year.Id;eligibleAdvanceQuestionsInfoGBL.makeId=t.VehicleDetail.VehicleInfo.Vehicle.Make.Id;eligibleAdvanceQuestionsInfoGBL.modelId=t.VehicleDetail.VehicleInfo.Vehicle.Model.Id;carInfoPageObj.setSlideVisibility("trim",!0);!!carInfoPageObj.getAllCarInfo().year&&parseInt(carInfoPageObj.getAllCarInfo().year)<com.site.Config.OptionalTrimAndVINForPreYear?carInfoPageObj.setSlideVisibility("trim",!1):!!t.VehicleDetail.VehicleInfo.Vehicle.Trim.Id==!1&&($("#trimInput").val("Not sure"),carInfoPageObj.validateInput("trimInput",!1,!1),carInfoPageObj.checkCurrentCarInfoSet("trim"));!t.VehicleDetail.VehicleInfo.TitleType||(carInfoPageObj.setTitleType(t.VehicleDetail.VehicleInfo.TitleType),instantOfferPageObj.setTitleType(t.VehicleDetail.VehicleInfo.TitleType));carInfoPageObj.setDataInLocation(t.Location);conditionSlides.setDataInConditionsQuestions(t.VehicleDetail.VehicleInfo.VehicleCondition);com.site.Util.supports_html5_storage()&&localStorage["site.taxiUsageReset"]==com.site.VehicleInfo.ClaimCode&&com.site.VehicleInfo.showTaxiSlide();com.site.Util.supports_html5_storage()&&localStorage["site.keyAndBatteryUsageReset"]==com.site.VehicleInfo.ClaimCode&&com.site.VehicleInfo.showKeyAndBatterySlide();conditionSlides.setYearTextFromCarInfo(carInfoPageObj.getInputTextValue("year"));instantOfferPageObj.setYearTextFromCarInfo(carInfoPageObj.getInputTextValue("year"));conditionSlides.setMileageConfirmedYear(carInfoPageObj.getInputTextValue("year"));com.site.VehicleInfo.changeBrowserHistoryManually();com.site.VehicleInfo.postMoveToInstantOffer(com.site.VehicleInfo.ClaimCode);t.OfferDetail!=""&&(com.site.VehicleInfo.setInstantOfferObjectData(t.OfferDetail),instantOfferPageObj.setIsDrivable(conditionSlides.getAllConditionAnswer().drivable),instantOfferPageObj.setPublisherId(t.VehicleDetail.VehicleInfo.PublisherId),instantOfferPageObj.setTitleHelpLink(t.VehicleDetail.VehicleInfo.TitleHelpLink),instantOfferPageObj.setDuplicateTitleHelpLink(t.VehicleDetail.VehicleInfo.DuplicateTitleHelpLink),instantOfferPageObj.showAskingPriceLink(),instantOfferPageObj.showAdjustOfferLink(),instantOfferPageObj.setOfferRelatedText(),u=instantOfferPageObj.getCurrentOffer(),instantOfferPageObj.getAskingPriceStatus()&&!isNaN(parseInt(instantOfferPageObj.getMaximumListingPrice()))&&!!instantOfferPageObj.getListingOfferPrice()&&instantOfferPageObj.getListingOfferPrice()>instantOfferPageObj.getMaximumListingPrice()&&(u=instantOfferPageObj.getMaximumListingPrice()),u>0&&!!instantOfferPageObj.getNoTitleRequirementText()&&carInfoPageObj.getAllCarInfo().titleType==3&&carInfoPageObj.setNoTitleRequirement(!1),instantOfferPageObj.showInstantOfferAmount(u),instantOfferPageObj.postOfferLoad());com.site.VehicleInfo.setClaimSalesforceLink(t.VehicleDetail.VehicleInfo.OpportunityId);instantOfferPageObj.setInstantOfferLoadStatus(!0);com.site.VehicleInfo.isHashValueInRangeOfVehicleInfoSlide()||com.site.VehicleInfo.preInstantOfferManagerObj.showInstantOfferSlide(0);s="";com.site.callPilotComponent.getCampaignNumber()!=""&&(s="-"+com.site.callPilotComponent.getCampaignNumber());EventTracking("ClaimCode","onload",com.site.VehicleInfo.ClaimCode+s);com.site.VehicleInfo.checkToFillInstantOfferProfile();i=t.VehicleDetail.VehicleInfo;a=t.Location;acceptOfferInfoGBL.carLocationType="Residence";acceptOfferInfoGBL.carLocationStreet=i.Street;i.LocationType!=""&&i.LocationType===2&&(acceptOfferInfoGBL.carLocationType="Business",acceptOfferInfoGBL.businessCompanyName=i.BusinessName,acceptOfferInfoGBL.businessCompanyPhoneNumber=i.BusinessPhone);acceptOfferInfoGBL.carColor=i.Color;acceptOfferInfoGBL.payeeName=i.PayeeName;acceptOfferInfoGBL.contactFirstName=i.FirstName;acceptOfferInfoGBL.contactLastName=i.LastName;acceptOfferInfoGBL.contactPhone=i.Phone;acceptOfferInfoGBL.contactAlternatePhone=i.AlternatePhone;acceptOfferInfoGBL.vinVisibility=!0;c=instantOfferPageObj.getTransportType()=="seller"?t.OfferDetail.DropOff.VINExperiment:t.OfferDetail.PickUp.VINExperiment;com.site.Util.checkToFireExperiment(r,instantOfferPageObj.getOfferType(),t.VehicleDetail.VehicleInfo.Vehicle.Year.Name);com.site.VehicleInfo.setVinOptionalStatusFromOffer(r,t.VehicleDetail.VehicleInfo.Vehicle.Year.Name,c);acceptOfferInfoGBL.carVin=i.Vin;acceptOfferInfoGBL.titledInState=i.TitledInState;acceptOfferInfoGBL.ownerName=i.OwnerName;acceptOfferInfoGBL.ownerSignAsRequired=i.OwnerSignAsRequired;acceptOfferInfoGBL.liens=i.AnyOutstandingLiens=="Yes"?"No":i.AnyOutstandingLiens=="No"?"Yes":"";acceptOfferInfoGBL.payment=i.PaymentMethodType===2?"No":"Yes";acceptOfferInfoGBL.mailingStreetAddress=i.MailingStreet;acceptOfferInfoGBL.mailingLocationTypeAnswer=i.MailingLocationType===2?"Business":"Residence";!i.MailingLocation||(!i.MailingLocation.State||(acceptOfferInfoGBL.mailingStreetStateCode=i.MailingLocation.State.StateCode),acceptOfferInfoGBL.mailingStreetZipCode=i.MailingLocation.ZipCode);acceptOfferInfoGBL.charityReference=i.CharityReferenceId;com.site.VehicleInfo.imageUploadManagerObj=new com.site.imageUploadComponent.manager;instantOfferPageObj.getAskingPriceStatus()&&com.site.VehicleInfo.initializeImageContainer(t);com.site.VehicleInfo.setDataInProfile();com.site.VehicleInfo.preInstantOfferManagerObj.manageOffer()}com.site.VehicleInfo.isHashValueInRangeOfVehicleInfoSlide()&&com.site.VehicleInfo.setBrowserHashValue(l);h=$.trim(unescape(com.site.Util.getURLParameter("Listing")));!h||h!="true"||com.site.Util.supports_html5_storage()&&(localStorage["site.goToListing"]=!0,$('.preInstantContainer[data-type="listing"]').click());!!t.OfferDetail&&t.OfferDetail.AutoSelectListing&&$('.preInstantContainer[data-type="listing"]').click();setTimeout(function(){$("#wrap").show();com.site.AjaxEngine.hideLoadingMask();com.site.VehicleInfo.claimSourceAttribution()},1200)};com.site.VehicleInfo.requestForUpdateVehicle=function(){var n,c,r;com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();com.site.VehicleInfo.disableNextButton();var i=carInfoPageObj.getAllCarInfo(),a=carInfoPageObj.getLocationDetail(),t=conditionSlides.getAllConditionAnswer(),v=i.trimId=="-1"?"":i.trimId,e="",o="",s="",h="",u="",f="",y=t.bodyPanel,p=t.bodyDamage,w=t.glassAndLight,b=t.floodAndFire,k=t.interiorItems,l="Yes",d=t.mileage;t.tires=="Yes"?(e="Yes",o="No"):t.tires=="No"?(e="No",o="Yes"):t.tires=="Partial"&&(e="No",o="No");t.drivable=="Yes"?(s="Yes",h="Yes",u="Yes",f="No"):t.drivable=="No"?(s="No",h="No",t.underTheHood=="Yes"?(u="Yes",f="No"):t.underTheHood=="Partial"?(u="No",f="No"):t.underTheHood=="No"&&(u="No",f="Yes")):t.drivable=="Partial"&&(s="No",h="Yes",u="Yes",f="No");previousSelectedVehicleObj.yearId===i.yearId&&previousSelectedVehicleObj.makeId===i.makeId&&previousSelectedVehicleObj.modelId===i.modelId&&previousSelectedVehicleObj.bodyTypeId===i.bodyTypeId&&previousSelectedVehicleObj.cabTypeId===i.cabTypeId&&previousSelectedVehicleObj.doors===i.doors&&previousSelectedVehicleObj.trimId===i.trimId&&previousSelectedVehicleObj.fuelTypeId===i.fuelTypeId&&(l="No");instantOfferPageObj.setTitleType(i.titleType);n={};n.ClaimCode=com.site.VehicleInfo.ClaimCode;n.ClaimId=com.site.VehicleInfo.ClaimId;n.year=i.year;n.yearId=i.yearId;n.makeId=i.makeId;n.modelId=i.modelId;n.bodyTypeId=i.bodyTypeId;n.cabTypeId=i.cabTypeId;n.doors=i.doors;n.trimId=v;n.fuelTypeId=i.fuelTypeId;n.zipcode=a.zipcode;n.areAllTiresIntact=e;n.areAnyTiresRemoved=o;n.isVehicleDrives=s;n.isEngineStart=h;n.isEngineTransmissionComplete=u;n.isEngineTransmissionRemoved=f;n.areAllMajorBodyPanelsIntact=y;n.isFreeOfDents=p;n.areAllGlassAndLampsIntact=w;n.isFreeOfFloodAndFireDamage=b;n.areAllInteriorComponentsIntact=k;n.isVehicleChanged=l;n.exactMileage=d;n.neverUsedAsTaxi=t.taxiUsage;n.keyAndBattery=t.keyAndBattery;n.vin=i.vin;n.titleType=i.titleType;n.clearTitle=i.clearTitle;n.FrontLeftDamageLocationTiresRemoved=t.missingTireModal.DSFOption;n.FrontRightDamageLocationTiresRemoved=t.missingTireModal.PSFOption;n.RearRightDamageLocationTiresRemoved=t.missingTireModal.PSROption;n.RearLeftDamageLocationTiresRemoved=t.missingTireModal.DSROption;n.FrontLeftDamageLocationFlatTire=t.flatTireModal.DSFOption;n.FrontRightDamageLocationFlatTire=t.flatTireModal.PSFOption;n.RearRightDamageLocationFlatTire=t.flatTireModal.PSROption;n.RearLeftDamageLocationFlatTire=t.flatTireModal.DSROption;n.FrontLeftDamageLocationMissingPanel=t.missingPanelModal.DSFOption;n.FrontRightDamageLocationMissingPanel=t.missingPanelModal.PSFOption;n.RearRightDamageLocationMissingPanel=t.missingPanelModal.PSROption;n.RearLeftDamageLocationMissingPanel=t.missingPanelModal.DSROption;n.FrontLeftDamageLocationBodyDamage=t.bodyDamageModal.DSFOption;n.FrontRightDamageLocationBodyDamage=t.bodyDamageModal.PSFOption;n.RearRightDamageLocationBodyDamage=t.bodyDamageModal.PSROption;n.RearLeftDamageLocationBodyDamage=t.bodyDamageModal.DSROption;n.FrontLeftDamageLocationGlassDamage=t.glassDamageModal.DSFOption;n.FrontRightDamageLocationGlassDamage=t.glassDamageModal.PSFOption;n.RearRightDamageLocationGlassDamage=t.glassDamageModal.PSROption;n.RearLeftDamageLocationGlassDamage=t.glassDamageModal.DSROption;c=com.site.VehicleInfo.getVehicleDetail();com.site.Config.IsConditionModalEnable||!c||(r=c.VehicleDetail.VehicleInfo.VehicleCondition,n.FrontLeftDamageLocationFlatTire=r.DamageLocationFlatTire.FrontLeftDamageLocation,n.FrontRightDamageLocationFlatTire=r.DamageLocationFlatTire.FrontRightDamageLocation,n.RearRightDamageLocationFlatTire=r.DamageLocationFlatTire.RearRightDamageLocation,n.RearLeftDamageLocationFlatTire=r.DamageLocationFlatTire.RearLeftDamageLocation,n.FrontLeftDamageLocationMissingPanel=r.DamageLocationMissingPanel.FrontLeftDamageLocation,n.FrontRightDamageLocationMissingPanel=r.DamageLocationMissingPanel.FrontRightDamageLocation,n.RearRightDamageLocationMissingPanel=r.DamageLocationMissingPanel.RearRightDamageLocation,n.RearLeftDamageLocationMissingPanel=r.DamageLocationMissingPanel.RearLeftDamageLocation,n.FrontLeftDamageLocationBodyDamage=r.DamageLocationBodyDamage.FrontLeftDamageLocation,n.FrontRightDamageLocationBodyDamage=r.DamageLocationBodyDamage.FrontRightDamageLocation,n.RearRightDamageLocationBodyDamage=r.DamageLocationBodyDamage.RearRightDamageLocation,n.RearLeftDamageLocationBodyDamage=r.DamageLocationBodyDamage.RearLeftDamageLocation,n.FrontLeftDamageLocationGlassDamage=r.DamageLocationGlassDamage.FrontLeftDamageLocation,n.FrontRightDamageLocationGlassDamage=r.DamageLocationGlassDamage.FrontRightDamageLocation,n.RearRightDamageLocationGlassDamage=r.DamageLocationGlassDamage.RearRightDamageLocation,n.RearLeftDamageLocationGlassDamage=r.DamageLocationGlassDamage.RearLeftDamageLocation);com.site.DataService.updateVehicleInformation(n,com.site.VehicleInfo.requestForUpdateVehicleCallback)};com.site.VehicleInfo.requestForUpdateVehicleCallback=function(n){var i=n,t;if(i.Success==!0){if(com.site.Util.supports_html5_storage()&&localStorage["site.taxiUsageReset"]==com.site.VehicleInfo.ClaimCode&&localStorage.removeItem("site.taxiUsageReset"),com.site.Util.supports_html5_storage()&&localStorage["site.keyAndBatteryUsageReset"]==com.site.VehicleInfo.ClaimCode&&localStorage.removeItem("site.keyAndBatteryUsageReset"),t=carInfoPageObj.getAllCarInfo(),previousSelectedVehicleObj={yearId:t.yearId,makeId:t.makeId,modelId:t.modelId,bodyTypeId:t.bodyTypeId,cabTypeId:t.cabTypeId,doors:t.doors,trimId:t.trimId,fuelTypeId:t.fuelTypeId},!!ProfileNavigationalSlideGBL)return instantOfferPageObj.changeToOffer(),instantOfferPageObj.preOfferLoad(),showListingIfEnabledFromExperiment=!0,com.site.VehicleInfo.getOfferAmount(),!0;com.site.VehicleInfo.moveToInstantOffer(i)}else com.site.VehicleInfo.systemErrorPopupOpen(),com.site.VehicleInfo.enableNextButton(),com.site.AjaxEngine.hideLoadingMask()};com.site.VehicleInfo.getOfferAmount=function(){com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();var n={claimCode:com.site.VehicleInfo.ClaimCode,ClaimId:com.site.VehicleInfo.ClaimId};com.site.DataService.getOffer(n,com.site.VehicleInfo.getOfferAmountCallback)};com.site.VehicleInfo.getOfferAmountCallback=function(n){var t,u,i,r,s;if(com.site.AjaxEngine.hideLoadingMask(),t=n,t.Success){u=t.OfferDetail.PickUp.ActualOffer;i=t.OfferDetail.PickUp.OfferAmount;instantOfferPageObj.getTransportType()=="seller"&&(u=t.OfferDetail.DropOff.ActualOffer,i=t.OfferDetail.DropOff.OfferAmount);instantOfferPageObj.getActualOfferAmount()!=u&&com.site.VehicleInfo.preInstantOfferManagerObj.setShowNoOfferModal(!0);var f=carInfoPageObj.getAllCarInfo(),e=!1,o=!1;if(!t.OfferDetail.TransportType||instantOfferPageObj.getTransportType()!="seller"||t.OfferDetail.TransportType.toLowerCase()==instantOfferPageObj.getTransportType()||(e=!0),instantOfferPageObj.getInstantOfferAmount()!=i&&(o=!0),com.site.VehicleInfo.setInstantOfferObjectData(t.OfferDetail),r=t.OfferDetail.PickUp.IsVINRequired,instantOfferPageObj.getTransportType()=="seller"&&(r=t.OfferDetail.DropOff.IsVINRequired),s=instantOfferPageObj.getTransportType()=="seller"?t.OfferDetail.DropOff.VINExperiment:t.OfferDetail.PickUp.VINExperiment,com.site.Util.checkToFireExperiment(r,instantOfferPageObj.getOfferType(),f.year),com.site.VehicleInfo.setVinOptionalStatusFromOffer(r,f.year,s),instantOfferPageObj.setIsDrivable(conditionSlides.getAllConditionAnswer().drivable),instantOfferPageObj.showAskingPriceLink(),instantOfferPageObj.showAdjustOfferLink(),instantOfferPageObj.setOfferRelatedText(),com.site.VehicleInfo.preInstantOfferManagerObj.manageOffer(),i=instantOfferPageObj.getCurrentOffer(),i>0&&!!instantOfferPageObj.getNoTitleRequirementText()&&carInfoPageObj.getAllCarInfo().titleType==3&&carInfoPageObj.setNoTitleRequirement(!1),instantOfferPageObj.showInstantOfferAmount(i),instantOfferPageObj.postOfferLoad(),com.site.VehicleInfo.changeSlideToInstantOffer(),showListingIfEnabledFromExperiment&&!!t.OfferDetail&&t.OfferDetail.AutoSelectListing&&$('.preInstantContainer[data-type="listing"]').click(),$(".shareLinkPopover").addClass("invisible"),instantOfferSlideVisibility&&com.site.VehicleInfo.IsAcceptOfferButtonClicked?(com.site.VehicleInfo.IsAcceptOfferButtonClicked=!1,com.site.VehicleInfo.goToNextSlide()):instantOfferSlideVisibility&&com.site.VehicleInfo.IsDeclineButtonClicked&&(com.site.VehicleInfo.customerCancelClaim(),com.site.VehicleInfo.IsDeclineButtonClicked=!1),vehicleProfileObj.VPId[vehicleProfileObj.getInputIndexFromId("instantOffer")].isFilled=!1,com.site.VehicleInfo.checkToFillInstantOfferProfile(),com.site.VehicleInfo.setDataInProfile(),!!ProfileNavigationalSlideGBL){if(instantOfferPageObj.getCurrentOffer()>0){if(o||e){infoPopUpModalObj.openModal({id:"newOffersAvailable"});ProfileNavigationalSlideGBL="";com.site.VehicleInfo.changeSlideToInstantOffer();return}return setTimeout(function(){com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();window.open(com.site.Config.AcceptOfferLink+"?OfferID="+com.site.VehicleInfo.ClaimCode+ProfileNavigationalSlideGBL,"_self",!1)},20),!0}ProfileNavigationalSlideGBL="";com.site.VehicleInfo.changeSlideToInstantOffer()}}instantOfferPageObj.setInstantOfferLoadStatus(!0)};com.site.VehicleInfo.resetVinNumber=function(){com.site.AjaxEngine.showMask=!1;var n={claimCode:com.site.VehicleInfo.ClaimCode,ClaimId:com.site.VehicleInfo.ClaimId};com.site.DataService.resetVIN(n,com.site.VehicleInfo.resetVinNumberCallback)};com.site.VehicleInfo.resetVinNumberCallback=function(n){var t=n;t.Success};com.site.VehicleInfo.saveAndContinueVinNumberWithUIUpdates=function(){$("#vinInput").closest(".ui-input").children(".icon-cancel-circled.ui-icon-input").hide();$("#vinInput").closest(".ui-input").children(".icon-ok-circled.ui-icon-input").show();$("#vinInput").closest(".ui-input").children(".icon-spin5.ui-icon-input").hide();$("#vinInput").closest(".ui-input").children(".icon-cancel-circled.ui-icon-input").hide();$("#vinInput").closest(".ui-input").children(".icon-ok-circled.ui-icon-input").hide();$("#vinInput").closest(".ui-input").children(".icon-spin5.ui-icon-input").show();setTimeout(function(){com.site.VehicleInfo.saveAndContinueVinNumber()},10)};com.site.VehicleInfo.saveAndContinueVinNumber=function(){com.site.AjaxEngine.showMask=!0;var n={claimCode:com.site.VehicleInfo.ClaimCode,ClaimId:com.site.VehicleInfo.ClaimId,vin:$.trim($("#vinInput").val())};com.site.DataService.saveAndContinueVin(n,com.site.VehicleInfo.saveAndContinueVinNumberCallback)};com.site.VehicleInfo.saveAndContinueVinNumberCallback=function(n){var t,i;$("#vinInput").closest(".ui-input").children(".icon-cancel-circled.ui-icon-input").hide();$("#vinInput").closest(".ui-input").children(".icon-ok-circled.ui-icon-input").show();$("#vinInput").closest(".ui-input").children(".icon-spin5.ui-icon-input").hide();t=n;t.Success?(com.site.VehicleInfo.setDataInProfile(),i=carInfoPageObj.getInputIndexFromName("vin"),carInfoPageObj.CIId[i].setResponseAnswer(t),carInfoPageObj.setDataInVin(t),com.site.Util.addSuccessStateToInput("vinInput",!1),t.ConsiderTaxiSlideUpdate&&(t.ShouldShowTaxiSlide?com.site.VehicleInfo.showTaxiSlide():com.site.VehicleInfo.hideTaxiSlide()),t.ShouldShowKeyAndBatterySlide?com.site.VehicleInfo.showKeyAndBatterySlide():com.site.VehicleInfo.hideKeyAndBatterySlide()):($("#vin").closest(".ui-input").children(".icon-cancel-circled.ui-icon-input").show(),$("#vin").closest(".ui-input").children(".icon-ok-circled.ui-icon-input").hide(),$("#vin").closest(".ui-input").children(".icon-spin5.ui-icon-input").hide())};com.site.VehicleInfo.requestForAgentInitialOffer=function(){var s,h,n;if(!com.site.Util.areCookiesEnabled()){infoPopUpModalObj.openModal({id:"cookieDisable"});return}com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();com.site.VehicleInfo.disableNextButton();var t=carInfoPageObj.getAllCarInfo(),i=carInfoPageObj.getLocationDetail(),c=t.trimId=="-1"?"":t.trimId,r="Yes",u="Yes",f="Yes",e="No",o="Yes",l=com.site.VehicleInfo.getMileageForAgentOffer();instantOfferPageObj.setTitleType(t.titleType);s=com.site.callPilotComponent.getCampaignNumber();h=com.site.callPilotComponent.getCallId();t.conditionType=="2"&&(r="No",u="No",f="Yes",e="No",o="No");n={};n.yearId=t.yearId;n.makeId=t.makeId;n.modelId=t.modelId;n.bodyTypeId=t.bodyTypeId;n.cabTypeId=t.cabTypeId;n.doors=t.doors;n.trimId=c;n.fuelTypeId=t.fuelTypeId;n.zipcode=i.zipcode;n.city=i.city;n.stateCode=i.stateCode;n.stateName=i.stateName;n.country=i.country;n.county=i.county;n.areAllTiresIntact="Yes";n.areAnyTiresRemoved="No";n.isVehicleDrives=r;n.isEngineStart=u;n.isEngineTransmissionComplete=f;n.isEngineTransmissionRemoved=e;n.areAllMajorBodyPanelsIntact="Yes";n.isFreeOfDents=o;n.areAllGlassAndLampsIntact="Yes";n.isFreeOfFloodAndFireDamage="Yes";n.areAllInteriorComponentsIntact="Yes";n.exactMileage=l;n.campaignNumber=s;n.callId=h;n.vin=t.vin;n.OS=navigator.platform;n.Source="ResponsivePeddleInitialOffer";n.offerStatus="Initial";n.email=InitialOfferEmailGBL;n.phone=InitialOfferPhoneGBL;n.firstName=InitialOfferFirstNameGBL;n.lastName=InitialOfferLastNameGBL;n.publisherId=InitialOfferPublisherIdGBL;n.titleType=t.titleType;n.neverUsedAsTaxi="Yes";n.keyAndBattery="";t.yearId!=""&&t.yearId!=0&&t.makeId!=""&&t.makeId!=0&&t.modelId!=""&&t.modelId!=0&&i.zipcode!=""&&com.site.DataService.createOffer(n,com.site.VehicleInfo.createInitialOfferCallback)};com.site.VehicleInfo.createInitialOfferCallback=function(n){var t=n,i;t.Success?(t.Action===13||t.Action===8)&&(com.site.VehicleInfo.updateExistingInstantOffer=!0,com.site.VehicleInfo.isInstantOfferGenerated=!1,!t.OfferId||com.site.VehicleInfo.trackAutoLoadInstantOffer("InitialOffer",t.OfferId),com.site.VehicleInfo.autoLoadedParameter={publisherId:"",campaignNumber:"",callId:""},com.site.VehicleInfo.setUpdatedAutoLoadParam(),OfferIdGBL=t.OfferId,i={Success:!0},com.site.VehicleInfo.getAgentInstantOfferCallback($.extend(n.Offer,i))):(com.site.VehicleInfo.systemErrorPopupOpen(),com.site.VehicleInfo.enableNextButton(),com.site.AjaxEngine.hideLoadingMask())};com.site.VehicleInfo.requestForUpdateAgentInitialOffer=function(){var n;if(!com.site.Util.areCookiesEnabled()){infoPopUpModalObj.openModal({id:"cookieDisable"});return}com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();com.site.VehicleInfo.disableNextButton();var t=carInfoPageObj.getAllCarInfo(),i=carInfoPageObj.getLocationDetail(),l=t.trimId=="-1"?"":t.trimId,r="Yes",u="Yes",f="Yes",e="No",o="Yes",a=com.site.VehicleInfo.getMileageForAgentOffer(),s=com.site.VehicleInfo.autoLoadedParameter.publisherId,h="",c="";com.site.VehicleInfo.autoLoadedParameter.publisherId==""&&(s=InitialOfferPublisherIdGBL);com.site.VehicleInfo.autoLoadedParameter.campaignNumber==""&&(h=com.site.callPilotComponent.getCampaignNumber());com.site.VehicleInfo.autoLoadedParameter.callId==""&&(c=com.site.callPilotComponent.getCallId());instantOfferPageObj.setTitleType(t.titleType);t.conditionType=="2"&&(r="No",u="No",f="Yes",e="No",o="No");n={};n.yearId=t.yearId;n.makeId=t.makeId;n.modelId=t.modelId;n.bodyTypeId=t.bodyTypeId;n.cabTypeId=t.cabTypeId;n.doors=t.doors;n.trimId=l;n.fuelTypeId=t.fuelTypeId;n.zipcode=i.zipcode;n.city=i.city;n.stateCode=i.stateCode;n.stateName=i.stateName;n.country=i.country;n.county=i.county;n.areAllTiresIntact="Yes";n.areAnyTiresRemoved="No";n.isVehicleDrives=r;n.isEngineStart=u;n.isEngineTransmissionComplete=f;n.isEngineTransmissionRemoved=e;n.areAllMajorBodyPanelsIntact="Yes";n.isFreeOfDents=o;n.areAllGlassAndLampsIntact="Yes";n.isFreeOfFloodAndFireDamage="Yes";n.areAllInteriorComponentsIntact="Yes";n.exactMileage=a;n.vin=t.vin;n.OS=navigator.platform;n.Source="ResponsivePeddleInitialOffer";n.offerStatus="Initial";n.offerId=OfferIdGBL;n.campaignNumber=h;n.callId=c;n.email=InitialOfferEmailGBL;n.phone=InitialOfferPhoneGBL;n.firstName=InitialOfferFirstNameGBL;n.lastName=InitialOfferLastNameGBL;n.publisherId=s;n.titleType=t.titleType;n.neverUsedAsTaxi="Yes";n.keyAndBattery="";OfferIdGBL!=""&&com.site.DataService.updateOffer(n,com.site.VehicleInfo.updateInitialOfferCallback)};com.site.VehicleInfo.updateInitialOfferCallback=function(n){var t=n,r,u,i;if(t.Success)(t.Action===13||t.Action===8)&&(com.site.VehicleInfo.updateExistingInstantOffer=!0,com.site.VehicleInfo.isInstantOfferGenerated=!1,!t.OfferId||com.site.VehicleInfo.trackAutoLoadInstantOffer("UpdateInitialOffer",t.OfferId),com.site.VehicleInfo.setUpdatedAutoLoadParam(),OfferIdGBL=t.OfferId,r={Success:!0},com.site.VehicleInfo.getAgentInstantOfferCallback($.extend(n.Offer,r)));else if(!t.Claim||!t.Claim.ClaimCode)com.site.VehicleInfo.systemErrorPopupOpen(),com.site.VehicleInfo.enableNextButton(),com.site.AjaxEngine.hideLoadingMask();else{if(com.site.AjaxEngine.showMask=!1,com.site.Util.showFullPageLoadingMask(),com.site.Util.isOfferAgent()&&$("#publisherView").length==0&&($("#Agent_AccountId").val(t.AccountId),$("#Agent_OfferID").val(t.Claim.ClaimCode),$("#Agent_Source").val("Web"),$("#Agent_cmd").val("ViewOffer"),!!t.AccountId)){$("#agentSearchInfoId").submit();return}u=com.site.Config.LogInLink;i="";i=u+"?cmd=ViewOffer&Source=ASSIGNMENT_EMAIL_TO_CUSTOMER&OfferID="+t.Claim.ClaimCode;window.open(i,"_self",!1);return}};com.site.VehicleInfo.getAgentInstantOfferCallback=function(n){var i,t;if(com.site.AjaxEngine.hideLoadingMask(),i=n,i.Success){com.site.VehicleInfo.instantOfferTracking();com.site.Util.trackPage("initialOffer");com.site.VehicleInfo.setInstantOfferObjectData(i);t=instantOfferPageObj.getInstantOfferAmount();com.site.VehicleInfo.isAgentInitialOfferAvailable=!0;com.site.VehicleInfo.agentInitialOffer=t;com.site.VehicleInfo.initialOfferPopupOpen(t);t>0&&!!instantOfferPageObj.getNoTitleRequirementText()&&carInfoPageObj.setNoTitleRequirement(!1);com.site.VehicleInfo.isInitialOfferPage()&&$("#SMSInitialOfferIDLinkId").length>0&&$("#SMSInitialOfferIDLinkId").show();com.site.VehicleInfo.enableNextButton();return}com.site.VehicleInfo.enableNextButton();com.site.VehicleInfo.isAgentInitialOfferAvailable=!1;com.site.VehicleInfo.agentInitialOffer=0};com.site.VehicleInfo.setVehicleDataForPreloadingVehicle=function(n){var t,r,i;!n||(t=$.parseJSON(n),t.Success&&(com.site.VehicleInfo.disableAddressChange=!0,com.site.VehicleInfo.showProfileTab(),slideToMoveGBL=""+com.site.VehicleInfo.getSlideNoFromName("year"),!t.Makes||(carInfoPageObj.getMakeCallback(t),slideToMoveGBL=""+com.site.VehicleInfo.getSlideNoFromName("make"),!t.Models||(carInfoPageObj.setDataInCarPanels(t.VehicleDetail.VehicleInfo.Vehicle),carInfoPageObj.getModelCallback(t),slideToMoveGBL=""+com.site.VehicleInfo.getSlideNoFromName("model"),!t.Trims||(carInfoPageObj.setDataInCarPanels(t.VehicleDetail.VehicleInfo.Vehicle),carInfoPageObj.getTrimCallback(t),slideToMoveGBL=""+com.site.VehicleInfo.getSlideNoFromName("trim")))),com.site.VehicleInfo.checkToGetEligibleAdvanceQuestions(),com.site.VehicleInfo.setPreviousSelectedVehicleObj(t),carInfoPageObj.setDataInCarPanels(t.VehicleDetail.VehicleInfo.Vehicle),r=$.trim(unescape(com.site.Util.getURLParameter("FromJMC"))),i=$.trim(unescape(com.site.Util.getURLParameter("FromDecline"))),carInfoPageObj.setSlideVisibility("trim",!0),!!carInfoPageObj.getAllCarInfo().year&&parseInt(carInfoPageObj.getAllCarInfo().year)<com.site.Config.OptionalTrimAndVINForPreYear?(carInfoPageObj.setSlideVisibility("trim",!1),slideToMoveGBL=""+com.site.VehicleInfo.getSlideNoFromName("titleType")):!!t.VehicleDetail.VehicleInfo.Vehicle.Trim.Id!=!1||(!r||r!="true")&&(!i||i!="true")?!t.Trims||t.Trims.length!=1?!!t.Trims&&t.Trims.length>1&&!!t.VehicleDetail.VehicleInfo.Vehicle.Trim.Id&&(slideToMoveGBL=""+com.site.VehicleInfo.getSlideNoFromName("titleType")):slideToMoveGBL=""+com.site.VehicleInfo.getSlideNoFromName("titleType"):($("#trimInput").val("Not sure"),carInfoPageObj.validateInput("trimInput",!1,!1),carInfoPageObj.checkCurrentCarInfoSet("trim"),slideToMoveGBL=""+com.site.VehicleInfo.getSlideNoFromName("titleType")),eligibleAdvanceQuestionsInfoGBL.yearId=t.VehicleDetail.VehicleInfo.Vehicle.Year.Id,eligibleAdvanceQuestionsInfoGBL.makeId=t.VehicleDetail.VehicleInfo.Vehicle.Make.Id,eligibleAdvanceQuestionsInfoGBL.modelId=t.VehicleDetail.VehicleInfo.Vehicle.Model.Id,!t.VehicleDetail.VehicleInfo.TitleType||(carInfoPageObj.setTitleType(t.VehicleDetail.VehicleInfo.TitleType),instantOfferPageObj.setTitleType(t.VehicleDetail.VehicleInfo.TitleType),slideToMoveGBL=""+com.site.VehicleInfo.getSlideNoFromName("location")),!t.Location||(carInfoPageObj.setDataInLocation(t.Location),(!!t.VehicleDetail.VehicleInfo.Vehicle.Trim.Id||carInfoPageObj.getSlideVisibility("trim")||carInfoPageObj.getAllCarInfo().trim=="Not sure")&&(slideToMoveGBL=""+com.site.VehicleInfo.getSlideNoFromName(conditionQuestionFirstSlideName))),!t.VehicleDetail.VehicleInfo.VehicleCondition||(conditionSlides.setDataInConditionsQuestions(t.VehicleDetail.VehicleInfo.VehicleCondition),conditionSlides.setYearTextFromCarInfo(carInfoPageObj.getInputTextValue("year")),instantOfferPageObj.setYearTextFromCarInfo(carInfoPageObj.getInputTextValue("year")),conditionSlides.setMileageConfirmedYear(carInfoPageObj.getInputTextValue("year")),slideToMoveGBL=""+com.site.VehicleInfo.getSlideNoFromName(conditionQuestionLastSlideName),i=$.trim(unescape(com.site.Util.getURLParameter("FromDecline"))),!i||i!="true"||(slideToMoveGBL=""+com.site.VehicleInfo.getSlideNoFromName("year")))),setTimeout(function(){com.site.VehicleInfo.isHashValueInRangeOfVehicleInfoSlide()&&(com.site.VehicleInfo.setBrowserHashValue(parseInt(slideToMoveGBL.replace(/\D/g,""))),com.site.VehicleInfo.showSlideNumber(parseInt(slideToMoveGBL.replace(/\D/g,""))));com.site.VehicleInfo.disableAddressChange=!1;setTimeout(function(){$("#wrap").show();com.site.AjaxEngine.hideLoadingMask()},600)},600))};com.site.VehicleInfo.customerCancelClaim=function(){com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();var n={suggestions:"",Rating:"",ClaimCode:com.site.VehicleInfo.ClaimCode,ClaimId:com.site.VehicleInfo.ClaimId};com.site.DataService.cancelOffer(n,com.site.VehicleInfo.customerCancelClaimCallback)};com.site.VehicleInfo.customerCancelClaimCallback=function(n){com.site.AjaxEngine.hideLoadingMask();var t=n;t.Success&&window.open(com.site.Config.OfferStatusLink+"?OfferID="+com.site.VehicleInfo.ClaimCode,"_self",!1)};com.site.VehicleInfo.requestForEarlyOffer=function(){var c,n;com.site.AjaxEngine.showMask=!1;var t=carInfoPageObj.getAllCarInfo(),f=carInfoPageObj.getLocationDetail(),i=conditionSlides.getAllConditionAnswer(),l=t.trimId=="-1"?"":t.trimId,e="",o="",s="",h="",r="",u="";i.tires=="Yes"?(e="Yes",o="No"):i.tires=="No"?(e="No",o="Yes"):i.tires=="Partial"&&(e="No",o="No");i.drivable=="Yes"?(s="Yes",h="Yes",r="Yes",u="No"):i.drivable=="No"?(s="No",h="No",i.underTheHood=="Yes"?(r="Yes",u="No"):i.underTheHood=="Partial"?(r="No",u="No"):i.underTheHood=="No"&&(r="No",u="Yes")):i.drivable=="Partial"&&(s="No",h="Yes",r="Yes",u="No");c=i.mileage||"0";instantOfferPageObj.setTitleType(t.titleType);n={};n.yearId=t.yearId;n.makeId=t.makeId;n.modelId=t.modelId;n.bodyTypeId=t.bodyTypeId;n.cabTypeId=t.cabTypeId;n.doors=t.doors;n.trimId=l;n.fuelTypeId=t.fuelTypeId;n.zipcode=f.zipcode;n.city=f.city;n.stateCode=f.stateCode;n.areAllTiresIntact=e;n.areAnyTiresRemoved=o;n.isVehicleDrives=s;n.isEngineStart=h;n.isEngineTransmissionComplete=r;n.isEngineTransmissionRemoved=u;n.exactMileage=c;n.neverUsedAsTaxi=i.taxiUsage;n.OS=navigator.platform;n.Source="ResponsivePeddle";n.titleType=t.titleType;n.FrontLeftDamageLocationTiresRemoved=i.missingTireModal.DSFOption;n.FrontRightDamageLocationTiresRemoved=i.missingTireModal.PSFOption;n.RearRightDamageLocationTiresRemoved=i.missingTireModal.PSROption;n.RearLeftDamageLocationTiresRemoved=i.missingTireModal.DSROption;t.yearId!=""&&t.yearId!=0&&t.makeId!=""&&t.makeId!=0&&t.modelId!=""&&t.modelId!=0&&f.zipcode!=""&&com.site.DataService.requestEarlyOffer(n,com.site.VehicleInfo.requestForEarlyOfferCallback)};com.site.VehicleInfo.requestForEarlyOfferCallback=function(){};com.site.VehicleInfo.instantOfferSourceAttribution=function(n){com.site.AjaxEngine.showMask=!1;var i=com.site.callPilotComponent.getCampaignNumber(),r=com.site.Util.getCookie("__utmz"),t={};t.campaignNumber=i;t.offerId=n;t.Source=r;com.site.DataService.AttributeInstantOfferSource(t,com.site.VehicleInfo.instantOfferSourceAttributionCallback)};com.site.VehicleInfo.instantOfferSourceAttributionCallback=function(){};com.site.VehicleInfo.claimSourceAttribution=function(){com.site.AjaxEngine.showMask=!1;var t=com.site.callPilotComponent.getCampaignNumber(),i=com.site.Util.getCookie("__utmz"),n={};n.campaignNumber=t;n.claimCode=com.site.VehicleInfo.ClaimCode;n.Source=i;com.site.DataService.AttributeClaimSource(n,com.site.VehicleInfo.claimSourceAttributionCallback)};com.site.VehicleInfo.claimSourceAttributionCallback=function(){};com.site.VehicleInfo.getEligibleAdvanceQuestions=function(){var n=carInfoPageObj.getAllCarInfo(),t={};t.year=n.yearId;t.make=n.makeId;t.model=n.modelId;n.yearId!=""&&n.yearId!=0&&n.makeId!=""&&n.makeId!=0&&n.modelId!=""&&n.modelId!=0&&com.site.DataService.getEligibleAdvanceQuestions(t,com.site.VehicleInfo.getEligibleAdvanceQuestionsCallback)};com.site.VehicleInfo.getEligibleAdvanceQuestionsCallback=function(n){var t=n;t.Success?t.ShouldShowTaxiQuestion?com.site.VehicleInfo.showTaxiSlide():com.site.VehicleInfo.hideTaxiSlide():(com.site.VehicleInfo.hideTaxiSlide(),com.site.VehicleInfo.hideKeyAndBatterySlide())};com.site.VehicleInfo.showTaxiSlide=function(){conditionSlides.resetConditionAnswer("taxiUsage");conditionSlides.setSlideVisibility("taxiUsage",!0);com.site.VehicleInfo.setDataInProfile()};com.site.VehicleInfo.hideTaxiSlide=function(){conditionSlides.setSlideVisibility("taxiUsage",!1);conditionSlides.resetConditionAnswer("taxiUsage");com.site.VehicleInfo.setDataInProfile()};com.site.VehicleInfo.showKeyAndBatterySlide=function(){conditionSlides.resetConditionAnswer("keyAndBattery");conditionSlides.setSlideVisibility("keyAndBattery",!0);com.site.VehicleInfo.setDataInProfile()};com.site.VehicleInfo.hideKeyAndBatterySlide=function(){conditionSlides.setSlideVisibility("keyAndBattery",!1);conditionSlides.resetConditionAnswer("keyAndBattery");var n=conditionSlides.getAllConditionAnswer();n.tires=="No"?$("#drivableCheckboxPartialPanelListId").removeClass("disabled"):($("#drivableCheckboxYesPanelListId").removeClass("disabled"),$("#drivableCheckboxPartialPanelListId").removeClass("disabled"));com.site.VehicleInfo.setDataInProfile()};com.site.VehicleInfo.showInstantOfferSMSLink=function(){$("#SMSOfferIDLinkId").length>0&&instantOfferPageObj.getCurrentOffer()>0&&$("#SMSOfferIDLinkId").show()};com.site.VehicleInfo.checkToFillInstantOfferProfile=function(){(instantOfferPageObj.getCurrentOffer()>0||!isNaN(parseInt(instantOfferPageObj.getMinimumListingPrice()))&&parseInt(instantOfferPageObj.getMinimumListingPrice())>0&&!!$("#listingSliderId").css("display")&&$("#listingSliderId").css("display")!="none")&&(vehicleProfileObj.VPId[vehicleProfileObj.getInputIndexFromId("instantOffer")].isFilled=!0)};com.site.VehicleInfo.AttachEventsOnVehicleInfo=function(){$("#locationButton").on("click tap",function(){if(!flag)return flag=!0,setTimeout(function(){flag=!1},100),initiate_geolocation(),!1});$("#navBackButtonId,#navNextButtonId, #locationButton").bind("touchstart touchend",function(){$(this).toggleClass("buttonTapClass")});$("#page").on("cycle-update-view",function(n,t,i,r){firstTimePageLoad||com.site.AjaxEngine.hideLoadingMask();!t.busy||!t.busy||firstTimePageLoad||com.site.AjaxEngine.showLoadingMask();$(".stickyFooter").removeClass("hideStickyFooter");current_pane=t.currSlide;pane_count=t.slideCount;current_paneId=r.id;current_pane>com.site.VehicleInfo.getSlideNoFromName("vin")&&$("#vehicleProfile").css("height")=="8px"&&com.site.VehicleInfo.showProfileTab();current_pane>=com.site.VehicleInfo.getSlideNoFromName("year")&&current_pane<=com.site.VehicleInfo.getSlideNoFromName("location")&&(carInfoPageObj.setCurrentOpenSlide(current_paneId),t.busy!=undefined&&carInfoPageObj.setIsBusySlide(t.busy),carInfoPageObj.checkCurrentCarInfoSet(current_paneId));current_pane>=com.site.VehicleInfo.getSlideNoFromName(conditionQuestionFirstSlideName)&&current_pane<=com.site.VehicleInfo.getSlideNoFromName(conditionQuestionLastSlideName)&&(conditionSlides.setCurrentOpenSlide(current_paneId),conditionSlides.checkCurrentConditionSet(current_paneId),conditionSlides.getCurrentOpenSlide()=="drivable"&&(conditionSlides.getConditionAnswerOfSlide("tires")=="No"&&com.site.Util.showTireAlert(),conditionSlides.getConditionAnswerOfSlide("keyAndBattery")=="No"&&com.site.Util.showKeyAndBatteryAlert()));setProgressBar((t.currSlide+1)*2.5);current_pane>=com.site.VehicleInfo.getSlideNoFromName("year")&&current_pane<=com.site.VehicleInfo.getSlideNoFromName(conditionQuestionLastSlideName)&&(firstTimePageLoad||(instantOfferSlideVisibility=!1,com.site.VehicleInfo.setBrowserHashValue(current_pane)));carInfoPageObj.setSlideVisibility("trim",!0);!!carInfoPageObj.getAllCarInfo().year&&parseInt(carInfoPageObj.getAllCarInfo().year)<com.site.Config.OptionalTrimAndVINForPreYear&&($("#trimInput").val(""),carInfoPageObj.validateInput("trimInput",!1,!1),carInfoPageObj.checkCurrentCarInfoSet("trim"),carInfoPageObj.setSlideVisibility("trim",!1));jQuery.browser.mobile||carInfoPageObj.getCurrentOpenSlide()!="vin"||$.trim($("#vinInput").val()).length!=0?carInfoPageObj.getCurrentOpenSlide()=="location"&&$.trim($("#zipInput").val()).length==0?$("#zipInput").focus():jQuery.browser.mobile||carInfoPageObj.getCurrentOpenSlide()!="year"||$.trim($("#yearInput").val()).length!=0?conditionSlides.getCurrentOpenSlide()=="mileage"&&$.trim($("#mileageInput").val()).length==0&&$("#mileageInput").focus():$("#yearInput").focus():$("#vinInput").focus();t.busy!=undefined&&t.busy==!0&&(moreInfoObj.setMoreInfoSlideDataByName(com.site.VehicleInfo.getSlideNameFromNumber(current_pane)),com.site.VehicleInfo.trackPage(current_pane),com.site.VehicleInfo.manageBottomShadow(carInfoPageObj),current_pane==com.site.VehicleInfo.getSlideNoFromName("conditionType")&&com.site.VehicleInfo.showSlideNumber(com.site.VehicleInfo.getSlideNoFromName("titleType")))});$("#navBackButtonId, .navBackLinkClass").on("click tap",function(){if(!flag)return flag=!0,setTimeout(function(){flag=!1},100),com.site.VehicleInfo.goToPreviousSlide(),!1});$("#navNextButtonId, .navNextLinkClass").on("click tap",function(){if(!flag)return flag=!0,setTimeout(function(){flag=!1},100),com.site.VehicleInfo.goToNextSlide(),!1});var n="";n=com.site.Util.isIEMobile()?"click":"hover";document.all&&window.external||navigator.userAgent.indexOf("Firefox")>0||$(".bookMark").addClass("hidden");$(".shareLinkPopover").tooltipster({content:$("#shareLinkPopoverContent").html(),contentAsHTML:!0,interactive:!0,theme:"popupShareMenu-theme",offsetY:-5,position:"bottom-left",trigger:n,functionReady:function(){var n=com.site.VehicleInfo.getShareOfferUrl(),i,r,u,f,t;$(".bookMark").click(function(){com.site.ShareLinkMenu.bookMarkMe($(".shareLinkPopover").text(),"Peddle")});navigator.userAgent.indexOf("Firefox")>0&&$(".bookMark").attr("href",n);i=carInfoPageObj.getAllCarInfo().year+" "+carInfoPageObj.getAllCarInfo().make+" "+carInfoPageObj.getAllCarInfo().model;r="mailto:?subject=Your offer from Peddle&body=I just got an instant offer on my "+i+" from Peddle: "+encodeURIComponent(n);$(".shareofferOnEmailLink").length>0&&$(".shareofferOnEmailLink").attr("href",r);u="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(n);$(".shareofferOnFacebookLink").length>0&&$(".shareofferOnFacebookLink").attr("href",u);f="https://twitter.com/home?status="+encodeURIComponent("I just got an instant offer on my "+i+" from @Peddle "+n);$(".shareofferOnTwitterLink").length>0&&$(".shareofferOnTwitterLink").attr("href",f);t=!1;$(".popupShareMenu li").on("click tap",function(){t||(t=!0,setTimeout(function(){t=!1},100),$(".shareLinkPopover").tooltipster("hide"))})}});$("#declineOfferLink, #declinePreOfferLink").on("click tap",function(){if(!flag)return flag=!0,setTimeout(function(){flag=!1},100),$("#declineOfferModalButton").html("Decline offer"),$("#declineOffer .overthrow").addClass("hidden"),com.site.Modal.attachAllModalsEvent("declineOffer"),$("#declineOffer").modal("show"),!1});$("#declineOfferModalButton").click(function(){if(!flag){if(flag=!0,setTimeout(function(){flag=!1},100),instantOfferPageObj.checkForTransportTypeUpdateOrSet()){com.site.VehicleInfo.IsDeclineButtonClicked=!1;instantOfferPageObj.sendDataForTransportType();$("#declineOffer").modal("hide");return}return com.site.VehicleInfo.customerCancelClaim(),$("#declineOffer").modal("hide"),!1}})};com.site.VehicleInfo.reEnterVIN=function(){EventTracking("Accept Offer","Click","VIN Vehicle Mismatch");$("#vinInput").closest(".ui-input").children(".icon-cancel-circled.ui-icon-input").hide();$("#vinInput").closest(".ui-input").children(".icon-ok-circled.ui-icon-input").hide();$("#vinInput").closest(".ui-input").children(".icon-spin5.ui-icon-input").hide();com.site.VehicleInfo.resetVinNumber();var n=carInfoPageObj.getInputIndexFromName("vin");carInfoPageObj.IsVinValidated=!1;carInfoPageObj.CIId[n].setAnswer("");carInfoPageObj.CIId[n].setLastEnteredValidVin("");carInfoPageObj.disableNextSlideButton();$("#vinDecodeContainer").hide();$("#vehicleNameText").text("");$("#vinInput").focus()};com.site.VehicleInfo.trackPage=function(n){com.site.Util.trackPage(allSlides[n])};com.site.VehicleInfo.getMileageForAgentOffer=function(){var n=com.site.VehicleInfo.getEstimatedMileage();return n>999999?999999:n===0||n<0?15e3:n};com.site.VehicleInfo.setFooter=function(){$("#wrap").append($(".peddleFooter"));$(".peddleFooter").removeClass("invisible")};com.site.VehicleInfo.manageBottomShadow=function(n){var t=n.getCurrentOpenSlide(),i;(t=="year"||t=="make"||t=="model"||t=="trim")&&(i=$("#"+t+"ListContainer").parent().find(".shadowHr").css("display")=="block",i?$("#footerShadowHr").show("medium"):$("#footerShadowHr").hide("medium"))};com.site.VehicleInfo.noOfferObject=function(){return{PickUp:{IsFreeRemoval:!1,OfferAmount:0,ActualOffer:0,NoTitleRequirement:null,OfferType:null,AllowedOfferAdjustment:0,MinimumListingPrice:0,IsOfferAdjusted:!1,DropOffDistance:0,IsVINRequired:!1,VINExperiment:null},DropOff:{IsFreeRemoval:!1,OfferAmount:0,ActualOffer:0,NoTitleRequirement:null,OfferType:null,AllowedOfferAdjustment:0,MinimumListingPrice:0,IsOfferAdjusted:!1,DropOffDistance:0,IsVINRequired:!1,VINExperiment:null},AskingPrice:null,IsAskingPriceSet:!1,TransportType:"Seller",MaximumListingPrice:0,AllowMaximumListingPrice:null,IsAllowedNegativeOfferAdjustment:!1,IsAllowedPostiveOfferAdjustment:!1}};com.site.VehicleInfo.setVinOptionalStatusFromOffer=function(n,t,i){acceptOfferInfoGBL.vinOptional=!n;acceptOfferInfoGBL.vinOptional||(acceptOfferInfoGBL.vinVisibility=!0);!!com.site.Config.VINExperimentSet&&com.site.Config.VINExperimentSet&&(i!="VINDisplay"||instantOfferPageObj.getAskingPriceStatus()?i!="VINHidden"||instantOfferPageObj.getAskingPriceStatus()||(acceptOfferInfoGBL.vinOptional=!0,acceptOfferInfoGBL.vinVisibility=!1):(acceptOfferInfoGBL.vinOptional=!1,acceptOfferInfoGBL.vinVisibility=!0));parseInt(t)<com.site.Config.OptionalTrimAndVINForPreYear&&(acceptOfferInfoGBL.vinOptional=!0,acceptOfferInfoGBL.vinVisibility=!1);com.site.VehicleInfo.setDataInProfile()};com.site.VehicleInfo.showProfileTab=function(){$(".profilePanelHeadingContainer a").removeClass("invisible");$("#vehicleProfile").stop().animate({height:"30px"},{duration:600,step:function(){}})};com.site.VehicleInfo.trackAutoLoadInstantOffer=function(n,t){var i="";com.site.callPilotComponent.getCampaignNumber()!=""&&(i="-"+com.site.callPilotComponent.getCampaignNumber());n=="LoadInstantOffer"?(EventTracking("Autoload Instant offer Id","onload",t+i),com.site.VehicleInfo.instantOfferSourceAttribution(t)):n=="InstantOffer"||n=="UpdateInstantOffer"?(EventTracking("Instant Offer Id","onload",t+i),com.site.VehicleInfo.instantOfferSourceAttribution(t)):n=="LoadInitialOffer"?(EventTracking("Autoload Initial offer Id","onload",t+i),com.site.VehicleInfo.instantOfferSourceAttribution(t)):(n=="InitialOffer"||n=="UpdateInitialOffer")&&(EventTracking("Initial Offer Id","onload",t+i),com.site.VehicleInfo.instantOfferSourceAttribution(t));com.site.VehicleInfo.trackFirstTouchAttribution(n,t)};com.site.VehicleInfo.trackFirstTouchAttribution=function(n,t){var u;if(n=="InitialOffer"||n=="InstantOffer"){var r=new Date,f=r.getUTCMonth()+1+"/"+r.getUTCDate()+"/"+r.getUTCFullYear()+" "+r.getUTCHours()+":"+r.getUTCMinutes()+":"+r.getUTCSeconds(),i="P"+t;com.site.callPilotComponent.getCampaignNumber()?i=i+",,"+com.site.callPilotComponent.getCampaignNumber():!com.site.Util.getCookie("_visitor_peddle")||com.site.Util.getCookie("_visitor_peddle")=="peddle"?i=i+",Peddle,":(u=com.site.Util.getCookie("_visitor_peddle"),i=i+","+u+",");EventTracking("Visitors Offer tracking","onload",i+","+f)}};com.site.VehicleInfo.setPreviousSelectedVehicleObj=function(n){previousSelectedVehicleObj={yearId:!n.VehicleDetail.VehicleInfo.Vehicle.Year.Id?"":n.VehicleDetail.VehicleInfo.Vehicle.Year.Id,makeId:!n.VehicleDetail.VehicleInfo.Vehicle.Make.Id?"":n.VehicleDetail.VehicleInfo.Vehicle.Make.Id,modelId:!n.VehicleDetail.VehicleInfo.Vehicle.Model.Id?"":n.VehicleDetail.VehicleInfo.Vehicle.Model.Id,bodyTypeId:!n.VehicleDetail.VehicleInfo.Vehicle.Model.BodyTypeId?"":n.VehicleDetail.VehicleInfo.Vehicle.Model.BodyTypeId,cabTypeId:!n.VehicleDetail.VehicleInfo.Vehicle.Model.CabTypeId?"":n.VehicleDetail.VehicleInfo.Vehicle.Model.CabTypeId,doors:!n.VehicleDetail.VehicleInfo.Vehicle.Model.Doors?"":n.VehicleDetail.VehicleInfo.Vehicle.Model.Doors,trimId:!n.VehicleDetail.VehicleInfo.Vehicle.Trim.Id?"":n.VehicleDetail.VehicleInfo.Vehicle.Trim.Id,fuelTypeId:!n.VehicleDetail.VehicleInfo.Vehicle.Trim.FuelTypeId?"":n.VehicleDetail.VehicleInfo.Vehicle.Trim.FuelTypeId}};com.site.VehicleInfo.setUpdatedAutoLoadParam=function(){com.site.VehicleInfo.autoLoadedParameter.publisherId==""&&(com.site.VehicleInfo.autoLoadedParameter.publisherId=InitialOfferPublisherIdGBL);com.site.VehicleInfo.autoLoadedParameter.campaignNumber==""&&(com.site.VehicleInfo.autoLoadedParameter.campaignNumber=com.site.callPilotComponent.getCampaignNumber());com.site.VehicleInfo.autoLoadedParameter.callId==""&&(com.site.VehicleInfo.autoLoadedParameter.callId=com.site.callPilotComponent.getCallId())};com.site.VehicleInfo.setClaimSalesforceLink=function(n){if(n!=""){$("#offerIDLinkURLId").html(com.site.VehicleInfo.ClaimCode);$("#offerIDLinkId").show();var t=!1;$("#offerIDLinkURLId").on("click tap",function(){if(!t)return t=!0,setTimeout(function(){t=!1},100),window.open(com.site.Config.SalesForceURL+n),!1})}};com.site.VehicleInfo.initializeImageContainer=function(n){com.site.AjaxEngine.showMask=!1;com.site.Util.showFullPageLoadingMask();com.site.VehicleInfo.imageUploadManagerObj.init(n.VehicleDetail.VehicleInfo.ClaimCode,n.VehicleDetail.VehicleInfo.ClaimId);!n.VehicleImageContainer||(com.site.VehicleInfo.imageUploadManagerObj.containerLoadCallbackPublic(n.VehicleImageContainer),!n.VehicleImageData||com.site.VehicleInfo.imageUploadManagerObj.getVehicleImagesCallbackPublic(n.VehicleImageData));hideImageLoading=function(n){var r,t,i;for(com.site.VehicleInfo.imageUploadManagerObj.hideImageLoading(n),r=com.site.VehicleInfo.imageUploadManagerObj.requiredImageContainerList,t=!0,i=0;i<r.length;i++)if($("#"+r[i]+"-container [data-isdefault]").attr("data-isdefault")!="false"){t=!1;break}acceptOfferInfoGBL.addPhotos=t?t:"";com.site.VehicleInfo.setDataInProfile()}};com.site.VehicleInfo.isCharityReferenceEnabled=function(){var n=!1;return!$("#IsCharityReferenceEnabled").val()||$("#IsCharityReferenceEnabled").val().toLowerCase()!="true"||(n=!0),n};com.site.VehicleInfo.onPageLoadTracking=function(){$.address.tracker(null);$.address.history(!1);var n=$.trim(unescape(com.site.Util.getURLParameter("FromJMC"))),t=$.trim(unescape(com.site.Util.getURLParameter("FromDecline"))),i=$.trim(unescape(com.site.Util.getURLParameter("FromContent")));!!n==!1&&!!t==!1&&!!i==!1&&com.site.Util.trackPage("year");com.site.Util.getURLParameter("")!=""&&EventTracking("Get Offer Click","click","getOfferClick")};com.site.VehicleInfo.onPageLoadHideShowElements=function(){$(".peddleFooter").addClass("invisible");$(".profilePanelHeadingContainer a").addClass("invisible");com.site.VehicleInfo.ClaimCode!=""&&$("#vehicleProfilePanelContent .acceptOfferLinks").addClass("showAcceptOfferLinks");com.site.Config.DisplayChatIcon==!1&&$("body").addClass("hideChat")};com.site.VehicleInfo.onPageLoadCallbacks=function(){$("#agentSearchAutocompleteElement").length&&$("#wrap").prepend($("#agentSearchAutocompleteElement"));jQuery.browser.mobile&&$("#yearInput, #zipInput, #mileageInput").attr("type","number")};com.site.VehicleInfo.checkAndFillVehicleInfoFromURL=function(){com.site.AjaxEngine.showMask=!1;com.site.VehicleInfo.ClaimCode!=""?com.site.VehicleInfo.getVehicleDetailForOffer():offerId!=0&&offerId>0?(OfferIdGBL=offerId,com.site.VehicleInfo.getVehicleDetailForInstantOffer(offerId,!1)):IOfferIdFromParam!=null&&IOfferIdFromParam!=0?(OfferIdGBL=IOfferIdFromParam,EventTracking("Instant Offer","onload","InstantOfferLandingViaParameter"),com.site.VehicleInfo.getVehicleDetailForInstantOffer(IOfferIdFromParam,!0)):POfferIdFromParam!=null&&POfferIdFromParam!=0?(EventTracking("Partial Offer","onload","PartialOfferLandingViaParameter"),com.site.VehicleInfo.getVehicleDetailForPartialOffer(POfferIdFromParam,!0)):PartialOfferIdFromCookie?(EventTracking("Partial Offer","onload","PartialOfferLandingViaParameter"),com.site.VehicleInfo.getVehicleDetailForPartialOffer(PartialOfferIdFromCookie,!0)):OfferIdFromCookie!=null&&OfferIdFromCookie!=0?(OfferIdGBL=OfferIdFromCookie,EventTracking("Instant Offer","onload","InstantOfferLandingViaHome"),com.site.VehicleInfo.getVehicleDetailForInstantOffer(OfferIdFromCookie,!0)):(vehicleInfoData?com.site.VehicleInfo.setVehicleDataForPreloadingVehicle(vehicleInfoData):com.site.VehicleInfo.setBrowserHashValue(0),$("#hdnZipCode").val().length==5&&com.site.Util.checkDigits($("#hdnZipCode").val())&&(IsZIPLoadedFromParamGBL=!0,$("#zipInput").val($("#hdnZipCode").val()),setTimeout(function(){carInfoPageObj.validateCarZipCode(!1);carInfoPageObj.checkCurrentCarInfoSet("location")},1200)),OfferIdGBL==""&&com.site.Menu.checkForPubliserIdAvailability())};com.site.VehicleInfo.initializeMoreInfo=function(){moreInfoObjInit={};moreInfoObj=new com.site.MoreInfo.MoreInfoPageControl(moreInfoObjInit);moreInfoObj.setMoreInfoSlideDataByName("year")};com.site.VehicleInfo.initializeCarInfo=function(){carInfoPageInit={postEnableNextButton:com.site.VehicleInfo.postEnableCarInfoNextButton,postDisableNextButton:com.site.VehicleInfo.postDisableCarInfoNextButton,postMoveToNextSlide:com.site.VehicleInfo.postMoveToCarInfoNextSlide,postMoveToPreviousSlide:com.site.VehicleInfo.postMoveToCarInfoPreviousSlide,postMoveToSlide:com.site.VehicleInfo.postMoveToCarInfoSlide,postMoveToVINSlide:com.site.VehicleInfo.postMoveToCarInfoVINSlide,postSetDataInList:com.site.VehicleInfo.postSetDataCarInfoInList,autoForwardToNextSlide:com.site.VehicleInfo.autoForwardToCarInfoNextSlide,postVINMatch:com.site.VehicleInfo.postVINMatchCarInfoSlide,carInfoChanged:com.site.VehicleInfo.carInfoChangedCarInfoSlide,openNotSureTrimPopup:com.site.VehicleInfo.openNotSureTrimPopup};carInfoPageObj=new com.site.CarInfo.CarInfoControl(carInfoPageInit)};com.site.VehicleInfo.initializeProfile=function(){vehicleProfileInit={postClickLink:com.site.VehicleInfo.postClickLink};vehicleProfileObj=new com.site.VehicleProfile.VehicleProfileControl(vehicleProfileInit);vehicleProfileObj.setOfferId(com.site.VehicleInfo.ClaimCode)};com.site.VehicleInfo.initializeConditionSlides=function(){conditionSlidesInit={postEnableNextButton:com.site.VehicleInfo.postEnableNextButton,postDisableNextButton:com.site.VehicleInfo.postDisableNextButton,postMoveToPreviousSlide:com.site.VehicleInfo.postMoveToPreviousSlide,postMoveToNextSlide:com.site.VehicleInfo.postMoveToNextSlide,postMoveToSlide:com.site.VehicleInfo.postMoveToSlide,autoForwardToNextSlide:com.site.VehicleInfo.autoForwardToNextSlide,getEstimatedMileage:com.site.VehicleInfo.getEstimatedMileage,openMileageConfirmationPopup:com.site.VehicleInfo.openMileageConfirmationPopup,openNonDrivableConfirmationPopup:com.site.VehicleInfo.openNonDrivableConfirmationPopup,openNonDrivableAndNonStartConfirmationPopup:com.site.VehicleInfo.openNonDrivableAndNonStartConfirmationPopup,openUnableToVerifyMileagePopup:com.site.VehicleInfo.openUnableToVerifyMileagePopup};conditionSlides=new com.site.Conditions.ConditionPageControl(conditionSlidesInit)};com.site.VehicleInfo.initializeInfoModal=function(){infoPopUpModalInit={setSuccessButtonAction:com.site.VehicleInfo.setInfoPopUpSuccessButtonAction,setCancelButtonAction:com.site.VehicleInfo.setInfoPopUpCancelButtonAction};infoPopUpModalObj=new com.site.Modal.InfoPopUpModalControl(infoPopUpModalInit)};com.site.VehicleInfo.initializeBooleanModal=function(){booleanPopUpModalInit={setLeftButtonAction:com.site.VehicleInfo.setBooleanPopupLeftButtonAction,setRightButtonAction:com.site.VehicleInfo.setBooleanPopupRightButtonAction,setCancelButtonAction:com.site.VehicleInfo.setBooleanPopupCancelButtonAction};booleanPopUpModalObj=new com.site.Modal.BooleanPopUpModalControl(booleanPopUpModalInit)};com.site.VehicleInfo.initializeInstantOfferPage=function(){instantOfferPageInit={askingPriceUpdatePostAction:com.site.VehicleInfo.askingPriceUpdatePostAction,askingPriceUpdateErrorPostAction:com.site.VehicleInfo.askingPriceUpdateErrorPostAction,adjustOfferPostAction:com.site.VehicleInfo.adjustOfferPostAction,adjustOfferErrorPostAction:com.site.VehicleInfo.adjustOfferErrorPostAction};instantOfferPageObj=new com.site.InstantOffer.InstantOfferPageControl(instantOfferPageInit)};com.site.VehicleInfo.initializeSendSMS=function(){sendSMSInit={getInstantOffer:com.site.VehicleInfo.getInstantOfferForSMS,getInitialOffer:com.site.VehicleInfo.getInitialOfferForSMS,getInstantOfferLoadStatus:com.site.VehicleInfo.getInstantOfferLoadStatusForSMS,getInitialOfferLoadStatus:com.site.VehicleInfo.getInitialOfferLoadStatusForSMS};sendSMSObj=new com.site.SendSMS.SendSMSControl(sendSMSInit)};com.site.VehicleInfo.initializeFromParam=function(){$("#hdnEmail").val()!=""&&com.site.Util.isValidEmail($("#hdnEmail").val())&&$("#hdnEmail").val().length<=80&&(InitialOfferEmailGBL=$("#hdnEmail").val());InitialOfferPhoneGBL=$("#hdnPhone").val();InitialOfferFirstNameGBL=$("#hdnFirstName").val().substring(0,40);InitialOfferLastNameGBL=$("#hdnLastName").val().substring(0,40);InitialOfferPublisherIdGBL=$("#hdnPublisherId").val()};$(document).ready(function(){com.site.VehicleInfo.onPageLoadTracking();com.site.VehicleInfo.onPageLoadHideShowElements();com.site.VehicleInfo.onPageLoadCallbacks();com.site.VehicleInfo.initializeMoreInfo();com.site.VehicleInfo.initializeCarInfo();com.site.VehicleInfo.initializeProfile();com.site.VehicleInfo.initializeConditionSlides();com.site.VehicleInfo.initializeInfoModal();com.site.VehicleInfo.initializeBooleanModal();com.site.VehicleInfo.initializeInstantOfferPage();com.site.VehicleInfo.initializeSendSMS();com.site.VehicleInfo.imageUploadManagerObj=new com.site.imageUploadComponent.manager;carInfoPageObj.getYearCallback(year);instantOfferPageObj.getListingIncrementsCallback(ListingIncrements);com.site.VehicleInfo.AttachEventsOnVehicleInfo();setTimeout(function(){!!navigator&&!!navigator.appVersion&&(navigator.appVersion.indexOf("MSIE 8.")!=-1||!!navigator.userAgent.match(/Trident.*rv\:11\./))?(carInfoPageObj.setCurrentOpenSlide("year"),carInfoPageObj.checkCurrentCarInfoSet("year"),$("#yearInput").focus()):$("#page").cycle("reinit");firstTimePageLoad=!1},600);com.site.VehicleInfo.resetScroller();setTimeout(function(){$(".panel .nanoScrollClass").first().hide()},6e3);com.site.callPilotComponent.CallPilotManager.init();setTimeout(function(){com.site.VehicleInfo.setFooter();com.site.VehicleInfo.checkAndFillVehicleInfoFromURL()},600);com.site.VehicleInfo.initializeFromParam();com.site.VehicleInfo.preInstantOfferManagerObj=new com.site.VehicleInfo.preInstantOfferManager;com.site.VehicleInfo.preInstantOfferManagerObj.init()});window.onpageshow=function(n){n.persisted&&window.location.reload()}